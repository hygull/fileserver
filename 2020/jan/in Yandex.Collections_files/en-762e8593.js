(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"++4/":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("W8MJ"),o=n.n(a),s=n("CYZy"),c=n("Hkgn"),u=n("rT8E"),l=n("GGxO"),d=19,h=8.1;function f(e,t,n,r){if(t.type===s.a.CARD){var i=t.item.content[0],a=Object(u.a)(i);if(Object(l.a)(a))return n+function(e,t,n){var r=e.split(" "),i=Math.floor((t-n)/h),a=0,o=0;return r.forEach((function(e){var t=e.length;o+t>i?(a++,o=t):o+=t+1})),a*d}(t.item.description,e,r);var o=Object(c.a)("s375",i),f=o.width,p=o.height;return Math.round(e/f*p)}return 100}n.d(t,"a",(function(){return p}));var p=function(){function e(e){this.applyScrollAfterRender=!1,this._dirty=!0,this._initColumns=0,this._scrollTop=0,this._prevScrollTop=0,this._containerTop=null,this._columnWidth=300,this._rotateComplete=!1,this._rotateItemsMapping={},this._itemPositions={},this._itemColumns={},this._itemWaitPositions=new Set,this._positionsLocks=new Set,this._coverCardHeight=e.coverCardHeight,this._xGap=e.xGap,this._xPadding=e.xPadding,this._threshold=e.threshold,this._xCardPadding=e.xCardPadding,this._virtualCount=e.virtualCount,this._serverColumns=e.serverColumns,this._virtualSpaceHeight=e.virtualSpaceHeight,this._minColumnsCount=e.minColumnsCount,this._maxColumnsCount=e.maxColumnsCount,this._maxServerElements=e.maxServerElements,this._ignoreWindowWidth=Boolean(e.ignoreWindowWidth),this._bulkInsertCount=e.bulkInsertCount||1,this._disableRotation=e.disableRotation||!1,this._firstLoadPlaceholders=e.firstLoadPlaceholders||!1,this._shouldHidePseudo=e.shouldHidePseudo||!1}o()(e,[{key:"columns",get:function(){return this._dirty&&this.update(),this._columns}},{key:"columnsCount",get:function(){return this._serverColumns?this._serverColumns:this.expectedColumnsCount}},{key:"expectedColumnsCount",get:function(){return Math.min(this._maxColumnsCount,Math.max(this._minColumnsCount,Math.round(this._windowWidth/this._columnWidth)))}},{key:"visibleItems",get:function(){return this._visibleItems}},{key:"heights",get:function(){return this._columns.map((function(e){return e.height}))}},{key:"minHeight",get:function(){return Math.min.apply(Math,this.heights)}},{key:"maxHeight",get:function(){return Math.max.apply(Math,this.heights)}},{key:"containerHeight",get:function(){return null===this._containerTop?0:this.maxHeight-this._containerTop}},{key:"containerTop",get:function(){return this._containerTop},set:function(e){null!==e&&this._containerTop!==e&&(null!==this._containerTop&&this.applyItemsTopDelta(e-this._containerTop),this._containerTop=e)}},{key:"scrollTop",set:function(e){this._scrollTop!==e&&(this._prevScrollTop=this._scrollTop,this._scrollTop=e,this._dirty=!0)}},{key:"windowWidth",set:function(e){this._windowWidth!==e&&(Boolean(this._windowWidth),this._windowWidth=e,this._ignoreWindowWidth?this._dirty=!0:this.reset())}},{key:"windowHeight",set:function(e){this._windowHeight!==e&&(this._windowHeight=e,this._dirty=!0)}},{key:"initColumns",set:function(e){this._initColumns!==e&&(this._initColumns=e,this.reset())}},{key:"items",set:function(e){if(this._items!==e){if(this._items){var t=new Set(this._items?this._items.map((function(e){return e.id})):[]),n=new Set(e.map((function(e){return e.id}))),r=new Set,a=new Set;n.forEach((function(e){t.has(e)||a.add(e)})),t.forEach((function(e){n.has(e)||r.add(e)}));for(var o=0;o<this._columns.length;o++)for(var s=this._columns[o],c=0;c<s.items.length;c++){var u=s.items[c];if(r.has(u.id)){var l=this.getCachedPosition(u);l&&this.setItemPosition(u.id,i()({},l,{height:0}))}}}this._items=e,this._dirty=!0}}},{key:"isLoaded",set:function(e){this._isLoaded!==e&&(this._isLoaded=e,this._dirty=!0)}},{key:"isLoading",set:function(e){this._isLoading!==e&&(this._isLoading=e,this._dirty=!0)}},{key:"firstLoadPlaceholders",set:function(e){this._firstLoadPlaceholders=e}},{key:"shouldHidePseudo",set:function(e){this._shouldHidePseudo=e}},{key:"invisibleColumns",get:function(){if(!this._invisibleColumns||0!==this._invisibleColumns.length)return this._invisibleColumns}},{key:"scrollPosition",get:function(){return this.applyScrollAfterRender=!1,this._rotateNextScroll}},{key:"waitPositions",get:function(){var e=Array.from(this._itemWaitPositions);return this._itemWaitPositions=new Set,e}},{key:"dirty",get:function(){return this._dirty}},{key:"hasItemPositionForAll",get:function(){return Object.keys(this._itemPositions).length===this._items.length}}]);var t=e.prototype;return t.getCachedPosition=function(e){var t=e.id;return this._itemPositions[t]},t.resetItemPositionLocks=function(){this._positionsLocks=new Set},t.setItemPosition=function(e,t){if(this._lockedVisibleItems){var n=this._rotateItemsMapping[e];if(!n)return;this._rotateWaitPositions.delete(e),0===this._rotateWaitPositions.size&&(this._rotateComplete=!0),e=n}var r=this._itemPositions[e];this._positionsLocks.add(e),this._itemPositions[e]=t,r&&(r.top===t.top&&r.height===t.height||this.invalidateItemPosition(e,r,t))},t.updateColumnHeights=function(){for(var e=0;e<this._columns.length;e++)this._columns[e].height=0;for(var t=0;t<this._items.length;t++){var n=this._items[t].id,r=this._itemPositions[n],i=this._itemColumns[n];if(r&&void 0!==i){var a=this._columns[i];a&&(a.height=Math.max(a.height,r.top+r.height))}}},t.reset=function(){this._dirty=!0,this._itemPositions={},this._visibleItems=[],this._lockedVisibleItems||(this._itemColumns={},this._columns=[])},t.isRendered=function(e){var t=this._itemColumns[e.id];return void 0!==t&&this.columns[t].items.indexOf(e)>-1},t.update=function(){this._dirty=!1,this.calculate()},t.calculate=function(){var e=this._threshold,t=this.expectedColumnsCount,n=this._serverColumns||t,r=Math.round((this._windowWidth+this._xGap-this._xPadding)/n)-this._xGap,i=[],a=this._serverColumns>0,o=this._items,c=[],u=Math.min(o.length,a&&this._maxServerElements||1/0);if(n!==this._columnsCount&&void 0!==this._columnsCount&&this.reset(),t!==n&&(this._dirty=!0),this._serverColumns=0,this._columnsCount=n,this._lockedVisibleItems){if(this._rotateLocked>=0)return void(this._rotateLocked===this._scrollTop&&this._scrollTop||(this._rotateLocked=-1,this._dirty=!0));if(this._rotateComplete){var l=this._lockedVisibleItems[0].item,d=this.getPosition(l),h=this.getCachedPosition(l);if(h&&d){this._rotateNextScroll=this._scrollTop=h.top-d.top+this._scrollTop,this.applyScrollAfterRender=!0;for(var p=0;p<this._columns.length;p++){var b=this._columns[p];if(b.items.length){var m=this.getCachedPosition(b.items[0]);m&&(b.offset=m.top-this._containerTop)}}}else this._dirty=!0;return delete this._lockedVisibleItems,delete this._invisibleColumns,this._rotateComplete=!1,void(this._rotateItemsMapping={})}return this._dirty=!0,this.calculateVirtual()}for(var v=0;v<n;v++){var g=this._columns.length>v?this._columns[v].height:this._initColumns&&v<this._initColumns?168:0;i.push({index:v,height:g,offset:0,items:[]}),c.push(g)}this._columns=i;for(var O=0;O<Math.min(u,o.length);O++){var _=o[O],y=this._itemColumns[_.id];if(void 0===y||y>=n){y=0;for(var C=1;C<c.length;C++)c[C]<c[y]&&(y=C);n>1&&(c[y]+=f(r,_,this._coverCardHeight,this._xCardPadding)),this._itemColumns[_.id]=y}i[y].items.push(_)}for(var E=this._scrollTop,j=E+this._windowHeight,S=[],w=0;w<i.length;w++){for(var k=i[w],I=k.items.length,T=[],R=0,L=this._bulkInsertCount,x=0;x<I;x++){var D=k.items[x],N=this._itemPositions[D.id];if(!N){var A=T.length;if(a)T=T.concat(k.items.slice(x));else{var P=k.items.slice(x,x+L);this._dirty=!0,T=T.concat(P);for(var B=x+L;B<I;B++){var M=k.items[B].id;this._itemColumns[M]=void 0,delete this._itemPositions[M]}}for(var U=A;U<T.length;U++)this._itemWaitPositions.add(T[U].id);break}var F=N.top,V=F+N.height;if(E<V&&j>F){var H=Math.round(this._columnWidth),W=Math.round(N.height);S.push({item:D,x:w*H,y:Math.round(F),w:H,h:W})}if(E-e>V)R+=N.height;else{if(j+e<F)break;T.push(D)}}k.offset=R,k.items=T;for(var z=0;z<T.length;z++)T[z].options=this.itemOptions}if(this._visibleItems=S,this._firstLoadPlaceholders&&this._isLoaded&&this._isLoading)for(var K=0;K<i.length;K++)i[K].items.push({id:"pseudo-"+K,type:s.a.PSEUDO,storeKey:"",item:{firstLoadingAnimation:!0},position:0});if(!this._isLoaded&&!this._shouldHidePseudo)for(var Y=0;Y<i.length;Y++)for(var q=i[Y],G=0;G<this._virtualCount;G++)q.items.push({id:"pseudo-"+Y+"-"+G,type:s.a.PSEUDO,storeKey:"",item:{},position:0})},t.calculateVirtual=function(){this._invisibleColumns=[],this._rotateWaitPositions=new Set;for(var e=0;e<this._columns.length;e++)this._invisibleColumns.push({offset:0,height:0,index:e,items:[]});for(var t=new Set,n=0;n<this._lockedVisibleItems.length;n++)t.add(this._lockedVisibleItems[n].item.id);for(var r=0;r<this._items.length;r++){var a=this._items[r],o=this._itemColumns[a.id];if(void 0!==o){var s=this._invisibleColumns[o],c="virtual/"+a.id;this._rotateItemsMapping[c]=a.id,s.items.push(i()({},a,{originalId:a.id,id:c})),this._rotateWaitPositions.add(c),this._itemWaitPositions.add(c)}if(t.delete(a.id),!t.size)break}},t.invalidateItemPosition=function(e,t,n){var r=this._itemColumns[e];if(void 0!==r&&this._columns[r])for(var i=0,a=0;a<this._items.length;a++){var o=this._items[a];if(this._itemColumns[o.id]===r)if(o.id===e)i=n.top+n.height-t.top-t.height;else if(0!==i&&!this._positionsLocks.has(o.id)){var s=this._itemPositions[o.id];s&&(s.top+=i)}}},t.applyItemsTopDelta=function(e){for(var t=Object.keys(this._itemPositions),n=0;n<t.length;n++){var r=t[n],i=this._itemPositions[r];i&&(i.top+=e)}},e}()},"+0oJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("messenger_guid"))},"+2Et":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({shares:[function(e){return i(e.count)+" person shared this"},function(e){return i(e.count)+" people shared this"}],likes:[function(e){return i(e.count)+" person liked this"},function(e){return i(e.count)+" people liked this"}]})},"+3en":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3lXt"),i=n("NuA5"),a=Object(i.a)("board",r.a)},"+3i7":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("VbXa"),i=n.n(r),a=n("cDcd"),o=n("faye"),s=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.container=document.getElementById(this.props.id)},n.render=function(){return this.container?o.createPortal(this.props.children,this.container):null},t}(a.Component)},"+4IB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("PSoe");function i(e){return"string"==typeof e&&(r.h.test(e)||r.g.test(e))}},"+69i":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("6ga4"),s=function(e){var t,n=e.itemRef,r=e.mod,s=e.mods,c=e.className,u=e.title,l=e.children;return a.createElement("div",{ref:n,className:Object(o.a)("teaser-wrap",i()((t={},t[r]=Boolean(r),t),s),c)},u&&a.createElement("div",{className:"teaser-wrap__title"},u),l)}},"+FZN":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/e40a.woff"},"+Ipk":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/e0c5.gif"},"+LNT":function(e,t,n){"use strict";var r=n("9TW5"),i=n("r7Cx"),a=n("6ga4"),o=function(e){var t=this&&this.isRestored,n=t?r.ar:r.a;return(t?r.fr:r.f)([n(i.a,Object(r.assign)(e,{class:Object(a.b)("button",{hash:{close:!0,modal:!0,modal_close:!0}}),icon:!0,size:"M","icon-only":!0,type:"clear"}),this)])},s=n("Ahwa"),c=n("Q1O+"),u=function(e){var t=this&&this.isRestored,n=t?r.ar:r.a;return(t?r.fr:r.f)([n(i.a,Object(r.assign)(e,{class:Object(a.b)("button",{hash:{close:e.close,modal:!0,modal_ctrl:!0}})}),this)])};t.a=function(e){var t=this&&this.isRestored,n=t?r.er:r.e,i=function(t){var n=this&&this.isRestored,i=n?r.er:r.e,o=n?r.sr:r.s;return[t.title?[i.d(Object(a.b)("modal__head",{hash:{center:t.center,close:t.close}}),{},[i("h3","modal__title",{},[o(t.title)])," ",t.description?[i("p","modal__desc",{},[o(t.description)])]:[]])]:[]," ",i.d("modal__body",{},[s.a.call(t,e.content,{data:{view:this}})])]};return(t?r.fr:r.f)([n.d("modal__wrap",{},[n.d("modal__backdrop",{},[n.d("modal__i",{},[e.close?[o.call(this,{title:"Cancel",iconMod:"clear-12x12"})]:[],e.scroll?[n.d("modal__ii",{},[i.call(this,e)])]:[i.call(this,e)]," ",e.buttons?[n.d("modal__ctrl",{},[c.a.call(e,e.buttons,{hash:{},data:{view:this},fn:function(t){return[u.call(this,Object(r.assign)(t,{behaviors:e.buttonBehaviors}))]}})])]:[]])])])])}},"+Ncb":function(e,t,n){"use strict";function r(e){if("true"===(e=decodeURIComponent(e))||"false"===e)return"true"===e;if("undefined"!==e){var t=Number(e);return String(t)===e&&t==t?t:e}}n.d(t,"a",(function(){return r}))},"+POQ":function(e,t,n){"use strict";var r=n("s+L8"),i=n("Q6yW"),a=n("S3Ck"),o=n("XZwp"),s=n("lPPs"),c=n("MMez"),u=n("o7PK"),l=n("CYZy"),d=300;function h(e){var t,n=e.type,r=e.item;if(n===l.a.CARD&&(t=Object(c.a)(r)),n===l.a.BOARD&&(t=Object(s.a)(r)),n===l.a.CHANNEL&&(t=Object(u.a)(r)),n===l.a.RTB_BANNER&&(t=r.rtbBlockId),t)return t.length>d?t.slice(0,d):t}var f=n("nAK0");n.d(t,"a",(function(){return m}));var p=["loc","feedSessionId","cardsSessionId","cardId","boardId","channelId","contestId"];function b(e,t){return function(n){var a=e[n],o=a&&a.item;if(o&&o.item&&o.item.id){var s=o.item.item;return{id:s.id,type:o.item.storeKey,start:a.timestamp,finish:t,pos:o.item.position,pageUrl:Object(i.a)(s),x:o.x,y:o.y,w:o.w,h:o.h,title:h(o.item),info:Object(r.a)(s)}}}}function m(e){return Object(a.a)(b)({logger:Object(o.a)(p,{extract:function(e){return e&&e.jsonInfo||[]},serialize:function(e){return{jsonInfo:JSON.stringify(e)}}},(function(t){f.d.trackObjects(t,e)})),groupBy:p})}},"+RQr":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,i,a,o,s=n("8OQS"),c=n.n(s),u=n("VbXa"),l=n.n(u),d=n("U+yc"),h=n.n(d),f=n("pVnL"),p=n.n(f),b=n("cDcd"),m=n("JxqJ"),v=n("LH8O"),g=n("G7p/"),O=n("Wopx"),_=n("D5L8"),y=n("MMsl"),C=n("OWM9"),E=n("Pi2t"),j=n("yNnr"),S=n("t2Gq"),w=n("plR6"),k=n("bblA"),I=n("myIH"),T=n("irYq"),R=n("mYVR"),L=n("JhOR");n("WW6n"),n("nsAg"),n("sbOD"),n("HKaO"),n("0Aft"),n("ozK9"),n("Ex1o"),n("qHNR"),n("mb1k");var x=p()({directions:[y.e.BOTTOM_LEFT,y.e.BOTTOM_RIGHT]},{secondaryOffset:-24,tailOffset:24}),D=(r=Object(v.a)(),i=Object(v.a)(),a=Object(v.a)(),o=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this,n=e.windowWidth;this.props.windowWidth!==n&&Object(g.b)((function(){t.setState({windowWidth:n})}))},n.onClose=function(){var e,t=this.props,n=t.boardId,r=t.dispatch,i=t.counter;r(Object(E.a)({counter:i,key:I.a,step:(e={},e[n]=-1,e)}))},n.onShow=function(){var e=this.props,t=e.dispatch,n=e.counter;t(Object(S.a)({counter:n}))},n.onClick=function(){var e,t=this.props,n=t.boardId,r=t.dispatch,i=t.counter;r(Object(j.a)({counter:i,key:I.a,step:(e={},e[n]=-1,e)})),r(Object(C.a)({id:n}))},n.render=function(){var e=this.props,t=e.anchor,n=e.boardId,r=c()(e,["anchor","boardId"]);if(!t)return null;var i=p()({config:p()({mods:{lol:n},anchor:t,visible:!0},{onOutsideClick:this.onClose},{},x),onClose:this.onClose,onShow:this.onShow,width:280,text:R.text(),align:y.c.LEFT,buttons:[b.createElement(L.a,{key:"primaryButton",size:_.a.NORMAL,theme:_.b.ACTION,tone:_.c.DEFAULT,view:_.d.DEFAULT,text:T.open(),onClick:this.onClick})],hasTail:!0},r);return b.createElement(k.a,{tooltipKey:I.b,options:{boardId:n},renderContent:function(){return b.createElement(w.a,i)}})},t}(b.Component),h()(o.prototype,"onClose",[r],Object.getOwnPropertyDescriptor(o.prototype,"onClose"),o.prototype),h()(o.prototype,"onShow",[i],Object.getOwnPropertyDescriptor(o.prototype,"onShow"),o.prototype),h()(o.prototype,"onClick",[a],Object.getOwnPropertyDescriptor(o.prototype,"onClick"),o.prototype),o),N=Object(m.b)((function(e){return{windowWidth:Object(O.a)(e).windowWidth}}))(D)},"+W2V":function(e,t,n){},"+XmN":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("VZqJ"),c=n("4qu2"),u=n("qDXE"),l=n("7hiN"),d=n("Wopx"),h=n("hfWR"),f=n("P34R"),p=n("+r4z"),b=n("nO3P"),m=n("LTX9"),v=n("0q89"),g=n("wy9A"),O=n("gLBg"),_=n("4RqY"),y=n("+kw8"),C=n("c+Ap"),E=n("K3v3"),j=Object(_.a)((function(e,t){var n,r,a,o,c,u,l,h;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.getState,r=t.dispatch,a=e.authSource,o=void 0===a?Object(d.a)(n()).isEmbed?C.a.EMBED:C.a.WEB:a,c=Object(m.a)(n(),{retpath:Object(O.A)({authSource:o}),seed:Object(s.a)()})){i.next=5;break}return i.abrupt("return");case 5:u=Math.round(.8*screen.width),l=Math.round(.8*screen.height),Object(y.a)(c,[u,l]),h=function(){window.removeEventListener("focus",h),r(Object(E.a)())},window.addEventListener("focus",h);case 10:case"end":return i.stop()}}))})),S=n("nAK0");function w(e,t){var n;if(n="object"==typeof t?Object(h.a)(e)+Object(b.a)(t.route,t.params):t)return n.match(/^(https?:)?\/\//)||(n=Object(c.a)()+n),n}n.d(t,"a",(function(){return k}));var k=Object(_.a)((function(e,t){var n,r,a,c,h,b,_,y,C,E,k,I;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.getState,r=t.dispatch,a=e.passportLoc,e.authDialogSource,c=e.counter,h=e.retpath,b=e.target,_=e.mode,y=void 0===_?g.a.AUTH:_,e.disableAM,C=n(),E=Object(d.a)(C),k=a||(E.isEmbed?v.a.EMBED:Object(p.a)(C)===O.a.SHARE?v.a.SHARE:v.a.OUTER),S.d.clickUserAuth(o()({},c,{loc:k,mode:y})),!E.isEmbed){i.next=8;break}return i.abrupt("return",r(j({})));case 8:if(I=Object(m.a)(n(),{retpath:w(C,h),seed:Object(s.a)(),loc:k})){i.next=11;break}return i.abrupt("return");case 11:if(!Object(f.a)(E)&&!Boolean(E&&E.isYandexRecent)){i.next=15;break}return Object(l.a)(I,E),i.abrupt("return");case 15:if("_parent"!==b){i.next=18;break}return parent.location.href=I,i.abrupt("return");case 18:if("_blank"!==b){i.next=21;break}return window.open(I,e.target),i.abrupt("return");case 21:Object(u.a)(I);case 22:case"end":return i.stop()}}))}))},"+d4z":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({search:"Search",urlHint:"Enter image address",error:"We couldn't find the image. Check the URL or enter a different address."})},"+kw8":function(e,t,n){"use strict";function r(e,t){var n="p"+Date.now(),r=t[0],i=t[1],a={scrollbars:1,resizable:1,menubar:0,toolbar:0,status:0,left:(screen.width-r)/2,top:(screen.height-i)/2,width:r,height:i},o=Object.keys(a).map((function(e){return e+"="+a[e]})).join(","),s=window.open(e,n,o);s&&s.focus()}n.d(t,"a",(function(){return r}))},"+lu/":function(e,t,n){"use strict";function r(e){for(var t={},n=0;n<e.length;n++)t[e[n].id]=e[n];return t}n.d(t,"a",(function(){return r}))},"+mVu":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dNc+"),i=n("lc+m"),a=n("80YD"),o=Object(a.a)(i.a,r.b)},"+r4z":function(e,t,n){"use strict";function r(e){return e&&e.event&&e.event.route}n.d(t,"a",(function(){return r}))},"+smp":function(e,t,n){"use strict";n.r(t);var r=n("VbXa"),i=n.n(r),a=n("mdRN"),o=n("U60d"),s=n("xfRZ"),c=n("9TW5");n.d(t,"AsyncSpinnerLoadingView",(function(){return u}));var u=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.onRender=function(){var e=this,t=this.options.delay;t&&(this.$el.addClass("hidden"),setTimeout((function(){e.$el.removeClass("hidden")}),t))},n.className=function(){return this.options.spinnerClass||"cl-async_spinner"},n.serializeData=function(){var e=this.options,t=e.size,n=void 0===t?"L":t,r=e.type,i=void 0===r?"normal":r;return{size:n,type:i,isTransparent:"transparent"===i}},t.factory=function(e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=e,i=r.type,a=r.size,o=r.spinnerClass;return new t(Object.assign({},n,{type:i,size:a,spinnerClass:o}))},t}(o.a);Object(a.a)({template:function(e){var t=this&&this.isRestored,n=t?c.ar:c.a;return(t?c.fr:c.f)([n(s.a,{type:e.type,size:e.size,gif:!e.isTransparent},this)])}})(u)},"+wBA":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MTjZ"),i=n("2WP6");function a(e,t,n){var a=Object(r.a)(e),o=Object(i.a)(a)||{};return void 0===n?!o||!o[t]:o&&o[t]===n}},"+wVo":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("TMEN");function i(e,t){var n=Object(r.a)(e);return n&&n[t]}},"+zfR":function(e,t,n){"use strict";function r(e){return Boolean(e&&0===e.indexOf("_url/image"))}n.d(t,"a",(function(){return r}))},"/+dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("y6Xm"),i=n("RLYd"),a=n("/Oqo"),o=Object(i.a)(a.a,Object(r.a)("boards",0))},"/+oc":function(e,t,n){"use strict";var r=n("2N+6");t.a=function(e){return function e(t){var n=Math.floor(t/60),i=t%60;return n>60?e(n)+":"+Object(r.a)(i,2):Object(r.a)(n,2)+":"+Object(r.a)(i,2)}(e)}},"/2mg":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({limitCollections:"Вы достигли ограничения в 500 коллекций",limitCards:{v:'Коллекция <a href="__collectionUrl__">__collection__</a>  достигла ограничения в&nbsp;5&nbsp;000 карточек',r:function(e){return i.createElement(i.Fragment,null,"Коллекция ",i.createElement("a",{href:e.collectionUrl},e.collection),"  достигла ограничения в 5 000 карточек")},h:function(e){return(this.isRestored?c:s)(["Коллекция ",(this.isRestored?o:a)("a","",{href:e.collectionUrl},[e.collection],{view:this}),"  достигла ограничения в&nbsp;5&nbsp;000 карточек"])}}})},"/3Je":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"default",(function(){return b}));var i=n("pVnL"),a=n.n(i),o=n("VbXa"),s=n.n(o),c=n("mdRN"),u=n("c+Ap"),l=n("/bNA"),d=n("NpBQ"),h=n("QCEX"),f=n("+LNT"),p=n("9TW5"),b=function(e){return(this&&this.isRestored?p.fr:p.f)([f.a.call(this,{close:!0,title:Object(h.a)(e.title,{hash:{title:e.titleData&&e.titleData.title},data:{view:this}}),description:e.subtitle?Object(h.a)(e.subtitle,{hash:{},data:{view:this}}):"",buttons:[{close:!0,ei:!0,type:"pseudo",label:"Cancel"},{label:"Delete",type:"action",ei:!0,method:this.onModelRemove.bind(this)}]})])},m=n("VxgP");n.d(t,"a",(function(){return v}));var v=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.initialize=function(){e.prototype.initialize.call(this)},n.onModalClick=function(t){e.prototype.onModalClick.call(this,t),t.stopPropagation()},n.onModelRemove=function(){var e=this;this.options.defaultImmediate&&this.options.defaultImmediate(),this.options.immediate&&this.options.immediate(),this.options.closeImmediate&&this.close();var t=this.options.customPromise;return(t?t.call(this.model):this.model.remove()).then((function(){e.options.complete&&e.options.complete(),e.close()})).catch((function(t){e.options.defaultOnError&&e.options.defaultOnError(),e.options.error&&e.options.error(),l.a.showXHRMessage(t)}))},n.serializeData=function(){return a()({},this.model.toJSON(),{},this.options)},t.showImmediateRemoveCard=function(e){var n=e.model.getCard&&e.model.getCard()||e.model,r=n.getBoard();t.show(Object.assign({},{closeImmediate:!0,title:m.cardRemoveTitle,defaultImmediate:function(){return n.trigger("destroy:start")},defaultOnError:function(){setTimeout((function(){r.trigger("card:destroy:fail",n)}),u.m)}},e))},t.showRemoveBoard=function(e){t.show(Object.assign({},{title:m.boardRemoveTitle,titleData:{title:e.model.getTitle()},subtitle:m.boardRemoveSubtitle,group:!0},e))},t.showRemoveFromSeries=function(e){t.show(Object.assign({},{title:m.cardRemoveSeriesTitle},e))},t}(d.a);Object(c.a)({template:r,attributes:{id:"modal_remove"}})(v)},"/Epz":function(e,t,n){"use strict";function r(e,t){return function(n){return t(e(n))}}n.d(t,"a",(function(){return r}))},"/FG0":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("o0o1"),i=n.n(r),a=n("cDcd"),o=n("7/cf"),s=n("4RqY"),c=n("jgrJ");function u(e){var t=e.dialogComponent,n=e.props,r=e.shouldSkipDialog;return Object(s.a)((function(e,s){var u,l,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(u=s.getState,l=s.dispatch,d=u(),h=Object(o.b)(d),!e||!e.hideDialog){f.next=5;break}return f.abrupt("return");case 5:if(!r||!r(d)){f.next=7;break}return f.abrupt("return");case 7:if(!h){f.next=10;break}return f.next=10,i.a.awrap(l(Object(c.a)(Object(a.createElement)(t,n))));case 10:case"end":return f.stop()}}))}))}},"/H9S":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("3lXt"),o=n("y1pN"),s=n("WLYw"),c=n("lPPs"),u=n("+3en"),l=n("euOF"),d=n("wjhi"),h=n("BKHA"),f=n("nt9X"),p=n("c+Ap"),b=n("gLBg"),m=n("WXND"),v=n("pVnL"),g=n.n(v),O=n("UQOb"),_=n("M740"),y=n("gQdx"),C=n("aKBe"),E=n("T6Rw"),j=n("kxd7"),S=Object(E.a)((function(e,t){var n=t.targetBoard,r=t.prevBoard,i=t.cardsData;if(n){var a;if(r){var o=r.id,s=Object(O.a)(e,o)||0,c=Object(_.a)(e,"boardCards");s=Math.max(0,s-i.length),e=y.a.reducer(e,{id:o,value:{stat:g()({},r.stat,{cards_count:s})}}),a=c&&o&&c["board.id"]===o}i.forEach((function(t){a&&(e=j.a.reducer(e,{id:t.id,storeKey:"boardCards"})),e=C.a.reducer(e,{id:t.id,value:{board:n}})}))}return e})),w=n("Nqn1"),k=n("rreP"),I=n("4RqY"),T=n("MlGB"),R=n("Od09"),L=n("9NTW"),x=n("IxYx"),D=n("1WnH"),N=n("nAK0"),A=n("wwWs");n.d(t,"a",(function(){return P}));var P=Object(I.a)((function(e,t){var n,r,v,g,O,_,y,C,E,j,I,P,B,M,U,F,V,H,W,z;return i.a.async((function(K){for(;;)switch(K.prev=K.next){case 0:return n=e.boardId,r=t.getState,v=t.dispatch,g=t.di,K.next=4,i.a.awrap(g("request"));case 4:if(O=K.sent,_=r(),y=Object(h.a)(_),C=function(){var e=r();return Object(d.a)(e)["move-card-bulk"]},E=function(e){var t;v(Object(x.a)(((t={})["move-card-bulk"]=e,t)))},!y.cards||!n||C()){K.next=41;break}return j=Object(u.a)(_),I=Object(a.a)(_,n),P=y.cards.length,B=y.cards.map((function(e){return{id:e,board:Object(l.a)(_,n)?null:n}})),v(Object(L.a)({value:{moveInProgress:!0}})),v(Object(T.a)()),K.prev=16,E(!0),K.next=20,i.a.awrap(O.patch("/collections/api/cards/",B));case 20:(M=K.sent)&&(U=Object.keys(M).map((function(e){return Number(e)})),B=B.filter((function(e,t){return!U.includes(t)}))),F=Object(s.a)(I),(V=Object(o.a)(_,n))&&F?(B.map((function(e){return e.id})),H=Object(c.a)(I),W=Object(f.a)(V),z=B.length,v(Object(k.a)({message:A.cardsMovedToBoard.r({count:z,board_url:Object(b.f)(W,F),board_title:H})}))):v(Object(k.a)({message:A.cardsMoved({count:B.length})})),v(S({targetBoard:I,prevBoard:j,cardsData:B})),j&&v(Object(m.a)({boardId:j.id})),N.d.finishBulkModalMove({count:B.length,total:P,currentBoardId:j&&j.id,targetBoardId:n}),v(Object(L.a)({force:!0,value:void 0})),v(Object(R.a)()),K.next=38;break;case 32:throw K.prev=32,K.t0=K.catch(16),E(!1),K.t0.status>=p.v.BAD_REQUEST&&v(Object(k.a)({message:A.cardsNotMoved()})),v(Object(L.a)({value:{moveInProgress:!1}})),K.t0;case 38:E(!1),v(Object(D.a)(null)),v(Object(w.a)({boardId:n}));case 41:case"end":return K.stop()}}),null,null,[[16,32]])}))},"/KRU":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3lXt"),i=n("lc+m");function a(e,t){var n=Object(i.a)(e,t);if(n&&n.board)return Object(r.a)(e,n.board.id)}},"/O+t":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("y1pN"),c=n("lPPs"),u=n("k0aB"),l=n("XPFG"),d=n("nt9X"),h=n("nUi2"),f=n("hFHJ"),p=n("4RqY"),b=n("w32R"),m=n("cDcd"),v=n("jgrJ"),g=n("JxqJ"),O=n("dQn9"),_=n("EFK4"),y=n("CUhL"),C=Object(g.a)()((function(e){var t=e.title,n=e.resolve,r=e.reject;return m.createElement(y.a,{dialogType:"removeCollection"},m.createElement(O.a,{title:_.title({title:t}),description:_.description(),primaryLabel:_.cancelLabel(),secondaryLabel:_.confirmLabel(),secondaryDangerous:!0,onPrimary:function(){r(new Error("don't close dialog"))},onSecondary:function(){n()},onOut:function(){r(new Error("don't close dialog"))}}))})),E=Object(p.a)((function(e,t){var n,r;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.title,r=t.dispatch,a.next=4,i.a.awrap(r(Object(v.a)(Object(m.createElement)(C,{title:n}))));case 4:case"end":return a.stop()}}))})),j=n("nAK0");n.d(t,"a",(function(){return S}));var S=Object(p.a)((function(e,t){var n,r,a,p,m,v,g,O;return i.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:if(n=e.boardId,r=e.counter,a=t.getState,p=t.dispatch,m=a(),v=Object(u.a)(m,n)){_.next=6;break}return _.abrupt("return");case 6:return j.d.clickBoardRemove(o()({},r,{boardId:n})),g=Object(s.a)(m,Object(l.a)(v)),Object(h.a)(g)&&(O=Object(d.a)(g)),_.prev=10,_.next=13,i.a.awrap(p(E({title:Object(c.a)(v)})));case 13:p(Object(b.a)({id:n,storeKey:"boards",asCompanyLogin:O})),p(Object(f.e)()),_.next=19;break;case 17:_.prev=17,_.t0=_.catch(10);case 19:case"end":return _.stop()}}),null,null,[[10,17]])}))},"/Oqo":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("stats"))},"/bNA":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("9qcP").a.factory()},"/e/s":function(e,t,n){var r={"./spinner-L-gray.gif":"Gk7b","./spinner-L-gray@2x.gif":"L3d8","./spinner-L-invert.gif":"3E89","./spinner-L-invert@2x.gif":"hA21","./spinner-L-normal.gif":"04q7","./spinner-L-normal@2x.gif":"8i7z","./spinner-M-gray.gif":"al43","./spinner-M-gray@2x.gif":"Zngv","./spinner-M-invert.gif":"vgSg","./spinner-M-invert@2x.gif":"jjJ1","./spinner-M-normal.gif":"tTXn","./spinner-M-normal@2x.gif":"3ROj","./spinner-S-gray.gif":"F7wz","./spinner-S-gray@2x.gif":"9svB","./spinner-S-invert.gif":"7l/d","./spinner-S-invert@2x.gif":"Sn9x","./spinner-S-normal.gif":"LPNN","./spinner-S-normal@2x.gif":"5p+6","./spinner-XL-gray.gif":"g5xR","./spinner-XL-gray@2x.gif":"yxf4","./spinner-XL-invert.gif":"ZK63","./spinner-XL-invert@2x.gif":"S7CM","./spinner-XL-normal.gif":"Ev79","./spinner-XL-normal@2x.gif":"KyvS","./spinner-XS-gray.gif":"c7rW","./spinner-XS-gray@2x.gif":"+Ipk","./spinner-XS-invert.gif":"DBAK","./spinner-XS-invert@2x.gif":"tvkE","./spinner-XS-normal.gif":"S8mT","./spinner-XS-normal@2x.gif":"RPZc"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="/e/s"},"00BG":function(e,t,n){"use strict";var r=n("y1pN"),i=n("+3en"),a=n("bceo"),o=n("ft62"),s=n("TMEN"),c=n("+r4z"),u=n("MTjZ"),l=n("INas"),d=n("nt9X"),h=n("RouB"),f=n("nUi2"),p=n("y6Xm"),b=n("RLYd"),m=n("2WP6"),v=Object(b.a)(m.a,Object(p.a)("list_view")),g=n("gLBg");n.d(t,"a",(function(){return _}));var O=[g.a.PROFILE,g.a.MY_PROFILE,g.a.CARDS];function _(e){var t,n,p=Object(c.a)(e),b=Object(u.a)(e),m=Object(i.a)(e);if(O.includes(p)){t=Object(l.a)(e);var g=Object(d.a)(t)===Object(d.a)(b),_=Object(f.a)(t);n=g||_}else{var y=Object(a.a)(m);t=Object(r.a)(e,m&&m.id),n=!!y||t&&b.login===t.login}var C=v(b),E=void 0===C?Object(o.a)(e)||1===Object(s.a)(e).isBrowserFavorites:C;return Boolean(n&&Object(h.a)(b)&&E)}},"0275":function(e,t,n){},"04q7":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/a7af.gif"},"0Boe":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("Gxl1"),o=n("9yiq");function s(e,t){var n=e.split("?"),r=n&&n[0],s=n&&n[1]?Object(a.a)(n[1]):{},c=Object(o.a)(i()({},s,{},t));return c?r+"?"+c:r}},"0MRR":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r,i,a,o,s,c=n("pVnL"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("U+yc"),f=n.n(h),p=n("cDcd"),b=n("JxqJ"),m=n("LH8O"),v=n("Ot8I"),g=n("y85j"),O=n("YQQ1"),_=n("K6aF"),y=(r=Object(m.a)(),i=Object(m.a)(),a=Object(m.a)(),o=Object(m.a)(),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hidden:!0},n.retry=0,n.setSrc(t),n}d()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=void 0)},n.componentWillReceiveProps=function(e){this.setSrc(e)&&this.setState({hidden:!0})},n.setSrc=function(e){var t,n,r=e.src,i=e.srcSet,a=e.content,o=e.preview,s=e.size,c=e.swCache,u=this.origSrc;return r?(t=r,n=i):t=Object(v.b)(a||o,{size:s||"orig",swCache:c}),this.origSrc=t,this.src=t,this.srcSet=n,!this.state.hidden&&u!==t},n.onImageRef=function(e){var t=this;this.image=e,e&&setTimeout((function(){return t.onImageLoad()}))},n.onImageLoad=function(){this.image&&this.image.naturalHeight&&this.state.hidden&&this.setState({hidden:!1})},n.onImageError=function(){var e=this;if(this.retry++,10!==this.retry){var t=-1===this.origSrc.indexOf("?")?"?":"&",n=(!1===navigator.onLine?2:1)*(1e3*this.retry);this.src=this.origSrc+t+"r="+this.retry,this.retryTimeout=setTimeout((function(){return e.forceUpdate()}),n)}},n.render=function(){var e=this.props,t=e.mod,n=e.mods,r=e.className,i=e.alt,a=e.link,o=e.cardId,s=e.type,c=e.style,l=e.imageStyle,d=e.label,h=e.swCache,f=e.linkFactory,b=e.children,m=this.src,g=this.srcSet;return!f&&a&&o&&(f=function(e){return p.createElement(O.a,u()({cardId:o},e))}),p.createElement(_.a,{mod:t,mods:n,className:r,alt:i,src:m,srcSet:g,crossOrigin:h&&m&&m.includes(v.a)?"anonymous":void 0,type:s,style:c,imageStyle:l,label:d,onImageError:this.onImageError,onImageLoad:this.onImageLoad,onImageRef:this.onImageRef,linkFactory:f,props:this.props.props},b)},t}(p.PureComponent),f()(s.prototype,"setSrc",[r],Object.getOwnPropertyDescriptor(s.prototype,"setSrc"),s.prototype),f()(s.prototype,"onImageRef",[i],Object.getOwnPropertyDescriptor(s.prototype,"onImageRef"),s.prototype),f()(s.prototype,"onImageLoad",[a],Object.getOwnPropertyDescriptor(s.prototype,"onImageLoad"),s.prototype),f()(s.prototype,"onImageError",[o],Object.getOwnPropertyDescriptor(s.prototype,"onImageError"),s.prototype),s),C=Object(b.a)((function(e){return{swCache:Object(g.a)(e)}}))(y)},"0XrC":function(e,t,n){"use strict";var r=n("cDcd"),i=n("PExD"),a=n("N6Jk"),o=n("s6gp"),s=n("gLBg");n.d(t,"a",(function(){return u}));var c={Text:function(e){return e.replace(/(\s*\n){2,}/g,"\n\n").split("\n").reduce((function(e,t,n){return n>0&&e.push(Object(r.createElement)("br")),t&&e.push(t),e}),[])},TextNoLineBreak:function(e){return[e]},HashTag:function(e){var t=e.props.value;return[Object(r.createElement)("a",{className:"link",href:Object(s.C)({text:t})},t)]},UserMentionTag:function(e){var t=e.props.value;return[Object(r.createElement)("a",{className:"link",href:Object(s.L)(t)},"@"+t)]},Link:function(e,t){var n=e.props.value,i=t&&t.trimLink?function(e,t){if(void 0===t&&(t={}),!e)return"";var n=t.maxLength,r=void 0===n?39:n,i=e.trim().replace(/^www\./,""),a=i;if(i.length>r)a=i.slice(0,r)+"...";else if("/"===i[i.length-1]){for(var o=!0,s=i.length-2;s>=0;s--)if("/"===i[s]){o=!1;break}o&&(a=i.slice(0,-1))}return a}(e.props.text):e.props.text;return[Object(r.createElement)("a",{className:"link",target:"_blank",rel:"nofollow noopener",href:n,"data-href":Object(o.b)(n),"data-original-href":n},i)]}};function u(e,t){if(!e)return null;var n=(Object(i.b)(e)||"").replace(/<\/(div|p|span)>/gi,"\n").replace(/<(div|p|span)>/gi,"").trim();try{var o=Object(a.parse)(n);return r.createElement.apply(void 0,[r.Fragment,{}].concat(function(e,t){return e.reduce((function(e,n){var r;return(r="string"==typeof n?t&&t.noLineBreak?c.TextNoLineBreak:c.Text:c[n&&n.type])?e.concat(r(n,t)):e}),[])}(o,t)))}catch(e){return console.error("Can not parse ("+n+")"),console.error(e),Object(r.createElement)(r.Fragment,{},n)}}},"0hep":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("PSoe"),i="data:image/gif;";function a(e){return"string"==typeof e&&(r.a.test(e)||e.slice(0,i.length)===i)}},"0ikO":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("i7uI"),c=n("gQdx"),u=n("4RqY"),l=Object(u.a)((function(e,t){var n,r,a,u,l;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=t.getState,r=t.dispatch,!(e&&e.id&&e.value)){d.next=6;break}return a=e.id,u=e.value,l=Object(s.a)(n(),a)||{},d.next=6,i.a.awrap(r(Object(c.a)({id:a,value:{stat:o()({},l,{},u)}})));case 6:case"end":return d.stop()}}))}))},"0lHE":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,i=[{testFn:function(e,t){var n=e.userAgent,r=t.opr&&t.opr.addons||t.opera||n.indexOf(" OPR/")>=0,i=n.indexOf(" YaBrowser/")>=0;return r||i},extension:"https://addons.opera.com/ru/extensions/details/iandekskollektsii/?display=ru"},{testFn:function(e){return-1!==e.userAgent.indexOf("Firefox")},extension:"https://addons.mozilla.org/ru/firefox/addon/%D1%8F%D0%BD%D0%B4%D0%B5%D0%BA%D1%81-%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/"},{testFn:function(e){var t=e.userAgent.match(/.+edge\/([\d]{2})/i);return!!t&&Number(t[1])>=15},extension:"https://www.microsoft.com/store/apps/9p157r0gvrlf"},{testFn:function(e){var t=e.userAgent,n=e.vendor&&e.vendor.toLowerCase()||"";return t.indexOf(" Chrome/")>=0&&n.indexOf("google inc")>=0},extension:"https://chrome.google.com/webstore/detail/%D1%8F%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/jioahohofgjigkjlbfggopegefbmfnma"}];function a(){if(void 0===r){var e=window.navigator,t=window,n=i.find((function(n){return n.testFn(e,t)}));r=n?n.extension:""}return r}},"0q89":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="ADD"]="add"]=t,e[e[t="EMBED"]="embed"]=t,e[e[t="OUTER"]="outer"]=t,e[e[t="BOOKMARKS"]="bookmarks"]=t,e[e[t="BOARD"]="board"]=t,e[e[t="COMMENT"]="comment"]=t,e[e[t="COMPLAIN"]="complain"]=t,e[e[t="CONTEST"]="contest"]=t,e[e[t="FEED"]="feed"]=t,e[e[t="HEADER"]="header"]=t,e[e[t="LIKE"]="like"]=t,e[e[t="MOVE"]="move"]=t,e[e[t="RECENT"]="recent"]=t,e[e[t="REPIN"]="repin"]=t,e[e[t="SIGNIN"]="signin"]=t,e[e[t="USER"]="user"]=t,e[e[t="SHARE"]="share"]=t,e[e[t="MODAL_UNAUTH"]="modal_unauth"]=t,e[e[t="SUBSCRIBE"]="subscribe"]=t,e[e[t="MODAL_LIKE"]="modal_like"]=t,e[e[t="MODAL_FEED"]="modal_feed"]=t,e[e[t="MODAL_CARD"]="modal_card"]=t,e[e[t="MODAL_CHANNEL"]="modal_channel"]=t,e[e[t="MODAL_COLLECTION"]="modal_collection"]=t,e[e[t="THEME_RECOMMENDATION"]="theme_recommendation"]=t,e}({})},"13+5":function(e,t,n){},"14bV":function(e,t,n){},"1BCU":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("u3Je"),o=Object(r.a)(a.a,Object(i.a)("options",{}))},"1BTu":function(e,t,n){},"1H70":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("VbXa"),i=n.n(r),a=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.initialize=function(e,t){this.options=t||{},this.options.request&&this.setRequestAdapter(this.options.request)},n.destroy=function(){this.stopListening()},n._prepareModel=function(t,n){return(n=n||{}).request=this.getRequestAdapter(),e.prototype._prepareModel.call(this,t,n)},n.updateDependencies=function(e){var t=e.request,n=e.env;this.setEnv(n),this.setRequestAdapter(t)},t.factory=function(e){return this.dataFactory(null,e)},t.dataFactory=function(e,t){return new this(e,t)},t}(n("E5ki").a)},"1JCn":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("ujXg"),o=n("7/cf"),s=n("Rd5j"),c=n("NP2b"),u=n("66dx"),l=n("osxO"),d=n("izju"),h=n("y144"),f=n("T6Rw"),p=Object(f.a)((function(e,t){var n=t.id,r=Object(o.b)(e);if(r&&r.content){var i=r.content;return h.a.reducer(e,{value:{content:i.filter((function(e){return e.id!==n}))}})}return e})),b=n("1qWu"),m=n("9NxI"),v=n("8nDD"),g=n("U0LE"),O=n("4RqY");n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return y}));var _=function(e,t){return e[e.NOT_FOUND="Valid cards not found"]="NOT_FOUND",e}({}),y=Object(O.a)((function(e,t){var n,r,f,O,y,C,E,j,S,w,k,I,T,R,L,x;return i.a.async((function(D){for(;;)switch(D.prev=D.next){case 0:if(n=e.files,r=e.description,f=t.getState,O=t.dispatch,y=Object(u.b)(n),C=0,E=0,j=0,S=0,y.invalid.length&&(y.invalid.forEach((function(e){e.error===u.a.TypeError&&C++,e.error===u.a.SizeError&&E++})),1===C&&O(Object(g.a)({type:l.b.NOT_ALL,options:{loaded:y.valid.length,all:n.length}})),1===E&&O(Object(g.a)({type:l.b.BIG_SIZE}))),w=[],!((k=y.valid).length<1)){D.next=12;break}throw new Error(_.NOT_FOUND);case 12:for(I=0;I<k.length;I++)T=k[I],w.push({id:Object(a.a)(),file:T,source_type:d.a.IMAGE});return R=Object(o.b)(f())||{},L=!0,O(Object(h.a)({value:{content:R.content?w.concat(R.content):w,source_meta:R.source_meta||{}}})),x=w.map((function(e){var t=e.file,n=r;return n||(n=t.name.replace(/[-_]/g," ").replace(/\s+/," ").replace(/\.(png|jpg|jpeg|webp|gif)$/i,"").trim()),Object(s.b)(t).then((function(r){var a,o,s,c;return i.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(a=r.url,o=r.width,s=r.height,c={title:t.name,preview:a,url:a},R.description||O(Object(h.a)({value:{description:n}})),O(Object(m.a)({id:e.id,value:{source:c,description:n,_image_meta:{width:o,height:s}}})),!L){u.next=8;break}return u.next=7,i.a.awrap(O(Object(b.a)(e.id)));case 7:L=u.sent;case 8:return O(Object(v.a)({id:e.id})),u.abrupt("return",e);case 10:case"end":return u.stop()}}))})).catch((function(t){if(t instanceof c.a){if(t.type===c.b.SIZE)return 1==++j&&O(Object(g.a)({type:l.b.SMALL_DIMENSION,options:t.params})),void O(p({id:e.id}));if(t.type===c.b.FORMAT)return 1==++S&&O(Object(g.a)({type:l.b.FORMAT})),void O(p({id:e.id}))}else C||E||O(Object(g.a)({type:l.b.UNKNOWN})),O(Object(m.a)({id:e.id,value:{_loading:!1,_error:!0}}))}))})),D.abrupt("return",Promise.all(x).then((function(e){return e.filter(Boolean)})));case 18:case"end":return D.stop()}}))}))},"1Oxg":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({comments:[function(e){return i(e.count)+" comment"},function(e){return i(e.count)+" comments"}],likes:[function(e){return i(e.count)+" оценка"},function(e){return i(e.count)+" оценки"},function(e){return i(e.count)+" оценок"}],shares:[function(e){return i(e.count)+" сохранение"},function(e){return i(e.count)+" сохранения"},function(e){return i(e.count)+" сохранений"}]})},"1RGr":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("cDcd"),i=n("6ga4"),a=n("nAK0"),o=n("DMNr"),s=function(e){var t,n,s=e.mod,c=e.className,u=e.type,l=void 0===u?"clear":u,d=e.shape,h=e.size,f=void 0===h?"M":h,p=e.invert,b=e.iconMods,m=e.iconComponent,v=e.list,g=e.visible,O=e.onVisibilityChange,_=e.children,y=Object(i.a)("kebab__menu",((t={})[s]=Boolean(s),t));return b||(b={"kebab-24x24":!0,invert:p}),r.createElement(o.a,{className:Object(i.a)("kebab",(n={},n[s]=Boolean(s),n),c),buttonProps:{mods:{kebab:[!0,s],invert:p},className:c?c+"-button":void 0,ei:!0,size:f,type:l,shape:d,iconOnly:!0,iconComponent:m,icon:!0,iconMods:b,props:{}},popupMenuProps:{className:y,items:v,shadow:!0,children:_,props:{}},counterSender:a.d.clickKebab,visible:g,onVisibilityChange:O})}},"1RcF":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Jtf9");function i(e){return!(!e||!e.object_answer)&&e.object_answer.type===r.a.GAME}},"1V7p":function(e,t,n){},"1WnH":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=n("3WeZ"),s=Object(a.a)((function(e,t){var n={modal:t};return null===t&&(n.bulk=void 0),Object(o.a)(i()({},e,{notifications:t?[]:e.notifications}),n)}))},"1Wr5":function(e,t,n){"use strict";var r=n("6EC7"),i=n("c+Ap"),a=n("LyO5"),o=n("RYE9");function s(e,t){var n=void 0===t?{}:t,s=n.size,c=void 0===s?"preview":s,u=n.multiplay,l=void 0===u?1:u;return function(e,t){var n=void 0===t?{}:t,a=n.size,o=void 0===a?"preview":a,s=n.multiplay,c=void 0===s?1:s;if(e&&e.content){if(e.content.source&&e.content.source.thumb_width&&e.content.source.thumb_height)return{width:e.content.source.thumb_width,height:e.content.source.thumb_height,isImagesSource:!0};var u=e.content.sizes;if(o.match(/^smart([0-9]+)$/)||o.match(/^([0-9]+)x([0-9]+)$/))return{};if(u&&u[o]&&u[o].width&&u[o].height)return{width:u[o].width*c,height:u[o].height*c};if(u&&u[i.F.ORIGINAL])return Object(r.b)(o,u[i.F.ORIGINAL],c)}}(e,{size:c=function(e,t){return e===i.F.PREVIEW?t?i.F.ORIGINAL:i.F.BIG_PREVIEW:i.D[e]||e}(c,Object(o.a)(e)),multiplay:l})||function(e){var t=Object(a.a)(e);if(t)return{width:t.thumb_width,height:t.thumb_height}}(e)||{width:i.n.WIDTH,height:i.n.HEIGHT}}n.d(t,"a",(function(){return s}))},"1XFv":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("VbXa"),i=n.n(r),a=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.fetchNext=function(){var e=this,t=this.getImages(),n=(this._loadingChain||Promise.resolve()).then((function(){return t.fetchNext()})).then((function(){return e._isFullyLoaded=t._isFullyLoaded})).then((function(){return t.asyncToCards(2,e)}));return this._loadingChain=n.catch((function(e){console.error(e)})),n},n.setImages=function(e){this._images=e,this._isFullyLoaded=e._isFullyLoaded},n.getImages=function(){return this._images},n.getCount=function(){var e=this.getImages();return e?e.getCount():0},n.clone=function(){var t=e.prototype.clone.call(this);return t.setImages(this.getImages()),t},n.reset=function(){return this.hasInvalidImages=!1,e.prototype.reset.call(this)},t}(n("v4Hp").a)},"1XU/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("c+Ap"),i=["ru","by","kz","ua","com","com.ua","com.tr","uz"];function a(e,t,n){if(!t){var a=location.host.match(r.q);if(t="ru",a)t=a[1];else if(void 0!==n)return n}return void 0===n||i.includes(t)?e.replace("yandex.ru","yandex."+t):n}},"1ZVK":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("dNc+"),c=n("ThaM"),u=n("91wX"),l=n("H2ZY"),d=n("4RqY"),h=n("gF9f"),f=Object(d.a)((function(e,t){var n,r,a,d,f,p,b,m,v,g,O,_,y,C,E,j,S,w,k,I,T;return i.a.async((function(R){for(;;)switch(R.prev=R.next){case 0:return r=t.getState,a=t.dispatch,d=t.di,R.next=3,i.a.awrap(d("request"));case 3:if(f=R.sent,p=r(),b=p[e.storeKey]){R.next=8;break}return R.abrupt("return");case 8:if(m=b._url,v=b._loading,g=b.next,O=e.rum,_=Object(u.a)(),y=function(e){if(O){var t=O[e];t&&t()}},!(e.limit&&b.results.length>=e.limit)){R.next=16;break}return R.abrupt("return");case 16:if(g&&m&&!v){R.next=18;break}return R.abrupt("return");case 18:return a(Object(h.a)(((n={})[e.storeKey]=o()({},b,{_loading:!0,_ver:_}),n))),R.prev=19,y("requestStart"),R.next=23,i.a.awrap(f.get(m,{data:g,headers:b._headers}));case 23:C=R.sent,y("requestEnd"),E=Object(c.a)(r(),e.storeKey),_===E&&(e.limit&&(j=b.results.length,S=C.results.length,j+S>=e.limit&&(C.next=void 0)),w=Object(s.g)(e.storeKey,C),a(Object(l.a)({key:e.storeKey,items:w.results,next:w.next,loading:!1,errorLoading:!1}))),R.next=34;break;case 29:throw R.prev=29,R.t0=R.catch(19),k=Object(c.a)(r(),e.storeKey),_===k&&(T=r()[e.storeKey],a(Object(h.a)(((I={})[e.storeKey]=o()({},T,{_loading:!1,_errorLoading:!0}),I)))),R.t0;case 34:y("parse");case 35:case"end":return R.stop()}}),null,null,[[19,29]])}))},"1Zoe":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.83046 9.28578L11.9998 2.04893L10.6753 0.714355L4.83046 6.61663L2.18144 3.94748L0.856934 5.28206L4.83046 9.28578Z",fill:"white"}))}i.defaultProps={width:"12",height:"10",viewBox:"0 0 12 10",fill:"none"},e.exports=i,i.default=i},"1cBT":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({search:"Search",placeholder:"Search"})},"1kQV":function(e,t,n){"use strict";var r=n("7PJZ").yaplus;t.a=function(e,t){return"function"==typeof r[e]?r[e](t):r[e]}},"1lnf":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("xalX"),c=n("3lXt"),u=n("rANK"),l=n("euOF"),d=n("qeDp"),h=n("tvS1"),f=n("+mVu"),p=n("5+Qg"),b=n("7/cf"),m=n("6g1q"),v=n("U9Ap"),g=n("Gpwx"),O=n("XPFG"),_=n("hV2r"),y=n("BKHA"),C=n("c+Ap"),E=n("osxO"),j=n("/bNA"),S=n("WXND"),w=n("YWra"),k=n("/H9S"),I=n("+r4z"),T=n("gLBg"),R=n("4RqY"),L=n("S7YN"),x=Object(R.a)((function(e,t){var n,r,a;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,a=n().userCards,![T.a.BRO_BOOKMARKS].includes(Object(I.a)(n()))||!a){e.next=5;break}return e.next=5,i.a.awrap(r(Object(L.a)({storeKey:"userCards"})));case 5:case"end":return e.stop()}}))})),D=n("8KwP"),N=n("aKBe"),A=n("U0LE"),P=n("zZA2"),B=n("5Rl3"),M=n("nAK0"),U=n("cX81");n.d(t,"a",(function(){return F}));var F=Object(R.a)((function(e,t){var n,r,a,I,T,R,L,F,V,H,W,z,K,Y,q,G,X,J,Z,Q;return i.a.async((function($){for(;;)switch($.prev=$.next){case 0:return n=e.boardId,r=e.counter,a=t.getState,I=t.dispatch,T=t.di,$.next=4,i.a.awrap(T("request"));case 4:if(R=$.sent,L=a(),F=Object(y.a)(L),V=Object(b.b)(L),H=Object(O.a)(V),!F.cards){$.next=11;break}return $.abrupt("return",I(Object(k.a)({boardId:n})));case 11:if(W=Object(l.a)(L,n),z=Object(u.a)(L,n),!H||r&&r.cardId||(r=o()({},r,{cardId:H})),r&&r.cardId&&(r=o()({},Object(d.a)(L,r.cardId),{},r)),K="/collections/api/cards/"+H,z?M.d.clickShortPopupAddDefault(r):M.d.clickShortPopupAddCollections(r),!Object(v.a)(L,V)){$.next=37;break}return q={board_id:W?null:n},$.prev=19,G=V.board&&V.board.id?Object(c.a)(L,V.board.id):null,$.next=23,i.a.awrap(R.patch(K,q));case 23:Y=$.sent,I(Object(S.a)({boardId:Y.board.id})),X=Object(m.a)(L,Y.id),J=Object(_.a)(L).wish===C.Y,G&&(M.d.finishCardMove({cardId:Y.id}),I(Object(w.a)({cardId:Y.id,previousBoardId:G.id,currentBoardId:Y.board.id,appendToCurrentBoard:X===J})),I(Object(S.a)({boardId:G.id}))),$.next=34;break;case 30:throw $.prev=30,$.t0=$.catch(19),j.a.showXHRMessage($.t0),$.t0;case 34:M.d.closeShortPopupMove(r),$.next=56;break;case 37:if(!H){$.next=56;break}return K="/collections/api/cards/"+encodeURIComponent(H)+"/shares/",q=W?{}:{board_id:n},$.prev=40,$.next=43,i.a.awrap(R.post(K,q));case 43:Y=$.sent,(Z=Object(f.a)(a(),H))&&U.a.dataFactory(Z,{request:R,parse:!0}).set({stat:o()({},Z.stat,{shares_count:Object(h.a)(V)+1}),mine_cards:[].concat(Object(p.a)(Z)||[],[Y.id])}),Object(B.a)(H),H!==Y.id&&Object(B.a)(Y.id),$.next=54;break;case 50:throw $.prev=50,$.t1=$.catch(40),$.t1.status===C.v.CONFLICT?I(Object(A.a)({type:E.b.CONFLICT})):$.t1.status===C.v.FORBIDDEN?I(Object(A.a)({type:E.b.LIMIT_CARDS})):j.a.showXHRMessage($.t1),$.t1;case 54:M.d.closeShortPopupAdd(r),Object(g.a)(a(),{boardId:n,card:Y,counter:r});case 56:I(Object(N.a)({id:Y.id,value:Object(s.a)(Y)})),I(Object(D.a)(void 0)),(Q=U.a.dataFactory({id:Y.id},{request:R})).set(Q.parse(Y)),I(Object(P.a)({id:Y.id})),I(x({})).catch((function(e){return console.error(e)}));case 62:case"end":return $.stop()}}),null,null,[[19,30],[40,50]])}))},"1nxc":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("+4IB"),i=n("0hep"),a=n("PSoe");function o(e){if(Object(r.a)(e.src))return!1;var t=e.naturalWidth,n=e.naturalHeight;return Object(i.a)(e.src)?t>=a.b.WIDTH&&n>=a.b.HEIGHT:t>=a.c.WIDTH&&n>=a.c.HEIGHT}},"1peD":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M9.4 15.4l-3.7-4a1 1 0 1 0-1.4 1.3l4.5 5a1 1 0 0 0 1.5 0l8.5-11a1 1 0 1 0-1.6-1.3l-7.8 10z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},"1qWu":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("o0o1"),i=n.n(r),a=n("qQB9"),o=n("JaHL"),s=n("7/cf"),c=n("x9gI"),u=n("ICaW"),l=n("osxO"),d=n("izju"),h=n("y144"),f=n("U0LE"),p=n("4RqY"),b=Object(p.a)((function(e,t){var n,r,p,b,m,v,g,O,_,y,C,E;return i.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:if(n=t.getState,r=t.dispatch,p=n(),b=Object(s.b)(p),m=!1,!b){j.next=22;break}if(v=b.selected_contents||[],g=b.preview_content,O=v.indexOf(e),_=Object(c.a)(p,u.d.COLLECTIONS_DESKTOP_SHOW_MAKE_COVER),!(O>=0)){j.next=15;break}if(!b.original_id||0!==O||_){j.next=12;break}return j.abrupt("return",m);case 12:v=v.filter((function(t){return t!==e})),j.next=19;break;case 15:y=Object(a.a)(b),C=v.length,E=Object(o.a)(b),C>=y?r(Object(f.a)({type:E===d.a.VIDEO?l.b.SINGLE_VIDEO:l.b.SELECTED_LIMIT,options:{count:y}})):(m=!0,v.push(e));case 19:return g===e&&(g=v.length?v[0]:void 0),j.next=22,i.a.awrap(r(Object(h.a)({value:{selected_contents:v,preview_content:g}})));case 22:return j.abrupt("return",m);case 23:case"end":return j.stop()}}))}))},"1qis":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Теперь пользователи смогут связаться с вами через чат",text:"Если вы передумаете — вы сможете отключить это в настройках профиля"})},"1vK5":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({errorDefault:"An error occurred. Please try to refresh the page.",mainErrorUndefined:"Something went wrong",xhrError0:"No internet connection",xhrError404:"Not found",xhrError403:"You do not have access to this page",xhrError500:"Server error",xhrErrorUnknown:"Error",cardMove:{v:'Card moved to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card moved to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card moved to collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},cardRemove:{v:'Card removed from collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card removed from collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card removed from collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},cardCreate:{v:'Card added to the collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card added to the collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card added to the collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},cardUpdate:"Card updated",cardsCreate:[{v:'Added __count__ card to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,"Added ",e.count,' card to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t(["Added ",e.count,' card to collection "',n("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},{v:'Added __count__ cards to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,"Added ",e.count,' cards to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t(["Added ",e.count,' cards to collection "',n("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}}],fileParseError:"You can only add images",urlParseError:"Unable to find image",wishFulfilled:"Wish fulfilled",wishUndoFulfilled:"Wish is unfulfilled again",boardCreated:function(e){return'Collection "'+u(e.board_title)+'" created'},boardUpdated:{v:'Changes saved to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Changes saved to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Changes saved to collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},boardRemoved:function(e){return'Collection "'+u(e.board_title)+'" removed'},complaintSuccess:"Report has been received",cardHided:"Card hidden",imageDimensionSmall:function(e){return"Image dimensions must be larger than "+u(e.dimensions)},imageSizeLarge:function(e){return"Image file size must be no larger than "+u(e.size)+" MB"},noAvailableBallots:"No cards available for voting",saveBallotVoteFailed:"Error while voting. Please try again.",createBoardDuplicate:"You already have a collection with that name",removeCardReadonlyDisallowed:"You can't delete bookmarks in Collections",editCardReadonlyDisallowed:"You can't edit bookmarks in Collections",moveCardReadonlyDisallowed:"You can't move bookmarks in Collections",editBoardReadonlyDisallowed:"You can't edit bookmarks in Collections"})},"2+s3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7/cf"),i=n("y144"),a=n("T6Rw"),o=Object(a.a)((function(e,t){var n=t.id,a=Object(r.b)(e);if(a&&a.selected_contents&&n){var o=a.selected_contents,s=a.preview_content||o.length&&o[0],c=o.filter((function(e){return e!==n}));if(s&&s===n){var u=o.indexOf(s);u>c.length&&(u=0),s=c[u]}return i.a.reducer(e,{value:{preview_content:s,selected_contents:c}})}return e}))},"2/d/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="ADD"]="add"]=t,e[e[t="ADD_BULK"]="add-bulk"]=t,e[e[t="MOVE"]="move"]=t,e[e[t="SHARE"]="share"]=t,e}({})},"24wG":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("cDcd"),c=n("6ga4"),u=n("stuq"),l=n("EvZm"),d=n("paub"),h=n("zPqc");function f(e){var t=e.mods,n=e.className,r=e.iconOnly,a=e.icon,f=e.iconMods,p=e.iconModsChecked,b=e.isRecommended,m=e.showLabel,v=void 0===m||m,g=e.showCheckLabel,O=e.subValue,_=e.isSubscribed,y=e.entityId,C=e.onClick,E=o()(e,["mods","className","iconOnly","icon","iconMods","iconModsChecked","isRecommended","showLabel","showCheckLabel","subValue","isSubscribed","entityId","onClick"]),j=e.ei;return s.createElement(l.a,i()({className:n,type:"action",onClick:C,mods:i()({state:!!_&&"check"},t),iconOnly:r,props:{}},E),(a||!j)&&s.createElement("span",{className:Object(c.a)("button__icon",_?p:f)}),v&&!r?s.createElement("span",{className:"button__label"},s.createElement("span",{className:"button__label-text"},_?d.unsubscribe():d.subscribe()),(!j||g)&&s.createElement("span",{className:"button__label-check"},d.unsubscribeAction()),Boolean(O)&&s.createElement("span",{className:Object(c.a)("button__label-value",{recommended:b})},s.createElement(h.a,{key:y,count:O,formatValue:u.a}))):Boolean(O)&&s.createElement("span",{className:"button__value"},Object(u.a)(O)))}},"25uM":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return b}));var r=n("Zoo8"),i=n("x9gI"),a=n("+wBA"),o=n("MTjZ"),s=n("2WP6"),c=n("/+dv"),u=n("JeHU"),l=n("r4I1"),d=n("ICaW"),h=n("fjc+").a.ALLOW_CHAT_TOOLTIP,f="DesktopAllowChat";function p(e){var t=Object(o.a)(e),n=!Object(l.a)(t),a=Object(i.a)(e,d.d.COLLECTIONS_DESKTOP_OPEN_CHAT_TOOLTIP),f=Number(Object(c.a)(t)),p=Number(Object(u.a)(t)),b=(Object(s.a)(t)||{})[h];return n&&a&&f>0&&p>0&&(!b||-1!==b&&b<Date.now()/r.e)}function b(e){return!Object(a.a)(e,h,-1)}},"27fW":function(e,t,n){},"2ELS":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("dG+d"),s=n("EvZm"),c=n("XWwV"),u=function(e){var t=e.iconMods,n=e.label,r=e.showLabel,u=e.retpath,l=e.passportLoc,d=e.authDialogSource,h=e.target;return a.createElement(o.a,{retpath:u,passportLoc:l,authDialogSource:d,target:h},a.createElement(s.a,i()({ei:!0,type:"action",size:"M"},e,{label:r?n||c.label():null,icon:Boolean(t),iconMods:t})))}},"2N+6":function(e,t,n){"use strict";function r(e,t,n){for(void 0===n&&(n="0"),e=String(e);e.length<t;)e=n+e;return e}n.d(t,"a",(function(){return r}))},"2WP6":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("y6Xm"),i=n("RLYd"),a=n("Am/A"),o=Object(i.a)(a.a,Object(r.a)("general",{}))},"2X17":function(e,t,n){},"2a6Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Y6N5"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("page_domain_decoded"))},"2fS7":function(e,t,n){"use strict";n("4DsO"),n("2apU"),n("ghMZ");var r=n("YAV3");t.a=r.a.applyDecls()},"2ifV":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({title:{v:"This card was recently reported<br>so it cannot be viewed",r:function(e){return i.createElement(i.Fragment,null,"This card was recently reported",i.createElement("br",{}),"so it cannot be viewed")},h:function(e){return(this.isRestored?c:s)(["This card was recently reported",(this.isRestored?o:a)("br","",{},[],{view:this}),"so it cannot be viewed"])}},more:"Details",delete:"Delete"})},"2nUw":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("requestId"))},"2oMl":function(e,t,n){"use strict";var r=n("uUa8");t.a=r.a.applyDecls()},"2qyN":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("description"))},"2sfb":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_subscribed",!1))},"2shX":function(e,t,n){"use strict";function r(e){return e&&"Android"===e.OSFamily}n.d(t,"a",(function(){return r}))},"2zQc":function(e,t,n){"use strict";var r=n("+Ij8").user2;t.a=function(e,t){return"function"==typeof r[e]?r[e](t):r[e]}},"3Ci6":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("y1pN"),o=n("+3en"),s=n("om3R"),c=n("7/cf"),u=n("4gOc"),l=n("XPFG"),d=n("+r4z"),h=n("INas"),f=n("nt9X"),p=n("nUi2"),b=n("c+Ap"),m=n("osxO"),v=n("gLBg"),g=n("hFHJ"),O=n("WMgd"),_=n("6Rso"),y=n("T6Rw"),C=["addBoards","userBoards"],E=Object(y.a)((function(e,t){return C.reduce((function(e,n){var r=e[n];return r&&r._query&&r.results&&(e=Object(_.a)(e,n,[t])),e}),e)})),j=n("WXND"),S=n("lyF8"),w=n("U0LE"),k=n("4RqY"),I=n("3tUY"),T=n("ETjY"),R=n("BCLc"),L=n("nAK0");n.d(t,"a",(function(){return x}));var x=Object(k.a)((function(e,t){var n,r,_,y,C,k,x,D,N,A,P,B,M,U;return i.a.async((function(F){for(;;)switch(F.prev=F.next){case 0:if(n=e.boardData,r=e.counter,_=t.dispatch,y=t.getState,C=y(),k=Object(c.b)(C),x=Boolean(Object(s.a)(k)),(P=Object(d.a)(C))===v.a.PROFILE&&(A=Object(h.a)(C)),P===v.a.BOARD&&(B=Object(o.a)(C),A=Object(a.a)(C,Object(l.a)(B))),Object(p.a)(A)&&(N=Object(f.a)(A)),!k||!k.selected_contents){F.next=16;break}if(M=k&&k.content||[],!Object(u.a)(M,k.selected_contents)){F.next=16;break}return _(Object(w.a)({type:m.b.UPLOAD_WAIT})),F.abrupt("return",Promise.reject(new Error("Cards still loading")));case 16:return L.d.clickBoardCreate(r),F.next=19,i.a.awrap(_(Object(O.a)({boardData:n,counter:r,asCompanyLogin:N})));case 19:if(D=F.sent,_(Object(T.a)()),_(E(D)),setTimeout((function(){_(Object(j.a)({boardId:D.id}))}),5e3),_(Object(R.a)(D)),!D||!x){F.next=37;break}return F.prev=25,F.next=28,i.a.awrap(_(Object(S.a)({boardId:D.id,isNewBoard:!0,counter:r})));case 28:F.next=35;break;case 30:throw F.prev=30,F.t0=F.catch(25),_(Object(R.a)(D)),_(Object(g.b)()),F.t0;case 35:F.next=40;break;case 37:U=function(){_(Object(I.a)({url:Object(v.f)(D.owner.login,D.slug)}))},b.w?setTimeout(U,3e3):U(),_(Object(g.e)());case 40:case"end":return F.stop()}}),null,null,[[25,30]])}))},"3D3i":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({moreComments:[function(e){return i(e.count)+" comment"},function(e){return i(e.count)+" comments"},"Comment"]})},"3DhA":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("hV2r"),i=n("+r4z"),a=n("MTjZ"),o=n("nt9X"),s=n("/+dv"),c=n("gLBg");function u(e){var t=Object(a.a)(e),n=Boolean(Object(s.a)(t)>=500),u=Object(i.a)(e),l=Object(o.a)(t)===Object(r.a)(e).login;return(u===c.a.PROFILE&&l||u===c.a.MY_PROFILE)&&n}},"3E89":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/4f39.gif"},"3EtG":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({logout:"Sign out",passport:"Yandex.Passport",disk:"My Yandex.Disk",createMail:"Compose message",userMail:[function(e){return i(e.count)+" new message"},function(e){return i(e.count)+" new messages"},"No new messages"]})},"3FJW":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("DMoZ"),i=[];function a(e){var t=Object(r.a)(e);return t&&t.hellgates||i}},"3M9W":function(e,t,n){"use strict";function r(e){return Boolean(e&&e.organization)}n.d(t,"a",(function(){return r}))},"3Mdg":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("views_count"))},"3P9N":function(e,t,n){},"3ROj":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/7e42.gif"},"3SOJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("V3+z"),a=function(e){var t=e.schema;return r.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t?Object(i.b)(t):""},suppressHydrationWarning:!0})}},"3STI":function(e,t,n){},"3Twp":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("euOF"),c=n("7/cf"),u=n("Gpwx"),l=n("XrQz"),d=n("4RqY"),h=n("5Rl3"),f=function(e){return"/collections/api/cards/"+e+"/shares/"},p=Object(d.a)((function(e,t){var n,r,a,d,p,b,m,v,g,O,_;return i.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return n=e.boardId,r=e.counter,a=t.getState,d=t.dispatch,p=t.di,y.next=4,i.a.awrap(p("request"));case 4:return b=y.sent,m=a(),v=Object(c.b)(m),g=Object(s.a)(m,n),O=v.original_id,y.prev=9,y.next=12,i.a.awrap(b.post(f(O),o()({},g?{}:{board_id:n})));case 12:_=y.sent,Object(h.a)(O),_.id!==O&&Object(h.a)(_.id),y.next=20;break;case 17:throw y.prev=17,y.t0=y.catch(9),y.t0;case 20:return Object(u.a)(a(),{boardId:n,card:_,counter:r}),d(Object(l.a)()),y.abrupt("return",_);case 23:case"end":return y.stop()}}),null,null,[[9,17]])}))},"3WeZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("ukm6");function o(e,t){var n=Object(a.a)(e);return i()({},e,{ui:i()({},n,{},t)})}},"3lXt":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YFOV"),i=Object(r.a)("boards")},"3oL/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7e2C"),i=n("lm0t"),a=function(){function e(){}return e.pushCallback=function(t,n){void 0===n&&(n={}),e.initAdv(n).then(t).catch(n.errorHandler)},e.initAdv=function(e){return this.advManager||(this.advManager=new Promise((function(t,n){window.yandexContextAsyncCallbacks=window.yandexContextAsyncCallbacks||[],window.yandexContextAsyncCallbacks.push((function(){t()})),Object(i.a)(e.src||"https://an.yandex.ru/system/context.js").catch((function(e){n(e)}))}))),this.advManager},e.render=function(e,t){var n,i=t&&t.isLoggerEnabled?r.a:function(){};if(n=e.renderTo,Boolean(document.getElementById(n))){var a=e.onRender,o=Date.now();e.onRender=function(){!function(e){var t=document.getElementById(e);return Boolean(t&&t.hasChildNodes())}(e.renderTo)?(i("client-adv-render-fail"),i("client-adv-render-fail-no-body")):(a&&a(),i("client-adv-render-time",Date.now()-o),i("client-adv-render-success"))},window.Ya&&Ya.Context&&Ya.Context.AdvManager.render(e,(function(){i("client-adv-render-fail")}))}else i("client-adv-init-fail-no-container")},e}()},"3q8J":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n("9yiq");function i(e){var t=e&&Object(r.a)(e);return t?"?"+t:""}function a(e,t){return"/collections"+e+i(t)}function o(e){return a("/",e)}function s(e){return a("/user/",e)}function c(e,t){return a("/user/"+encodeURIComponent(e)+"/",t)}},"3tUY":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("o0o1"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("4RqY"),c=Object(s.a)((function(e,t){var n,r,a,s;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.url,r=o()(e,["url"]),a=t.di,c.next=4,i.a.awrap(a("router"));case 4:return s=c.sent,c.abrupt("return",s.navigate(n,r));case 6:case"end":return c.stop()}}))}))},"3xGx":function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t="16x9"),e&&e.teaser_data){var n=e.teaser_data[t];return n&&n.parts_count}}n.d(t,"a",(function(){return r}))},"41qZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("cDcd"),i=n("6ga4"),a=n("N7+n"),o=n("pJdu"),s=(n("lu7j"),function(e){var t=e.item,n=e.showComplain,s=e.itemRef;return t?"board"===t.entity_type?r.createElement(o.a,{boardId:t.id,showComplain:n,itemRef:s,showOwner:!0,showCtrl:!0,isIncut:!0,isRecommended:!0}):"channel"!==t.entity_type&&t.entity_type?r.createElement("div",{className:Object(i.a)("cl-masonry__hidden",{recommended:!0}),ref:s}):r.createElement(a.a,{channelId:t.id,showComplain:n,itemRef:s}):null})},"45c2":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({boards:[function(e){return i(e.count)+" collection"},function(e){return i(e.count)+" collections"}],boardsTab:["collection","collections","Collections"],boardsWrap:[function(e){return i(e.count)+" collection"},function(e){return i(e.count)+" collections"}],followers:[function(e){return i(e.count)+" follower"},function(e){return i(e.count)+" followers"}],followersTab:["follower","followers","Followers"],feedTab:"Feed",followersWrap:[function(e){return i(e.count)+" follower"},function(e){return i(e.count)+" followers"}],collections:[function(e){return i(e.count)+" collection"},function(e){return i(e.count)+" collections"}],subscriptions:[function(e){return i(e.count)+" subscription"},function(e){return i(e.count)+" subscriptions"}],subscriptionsTab:["subscription","subscriptions","Subscriptions"],subscriptionsWrap:[function(e){return i(e.count)+" subscription"},function(e){return i(e.count)+" subscriptions"}],wishes:[function(e){return i(e.count)+" wish"},function(e){return i(e.count)+" wishes"}],wishesActive:[function(e){return i(e.count)+" wish"},function(e){return i(e.count)+" wishes"}],wishesFulfilled:[function(e){return i(e.count)+" fulfilled"},function(e){return i(e.count)+" fulfilled"},"No fulfilled wishes"],wishesWrap:[function(e){return i(e.count)+" wish"},function(e){return i(e.count)+" wishes"}],cards:[function(e){return i(e.count)+" card"},function(e){return i(e.count)+" cards"}],series:[function(e){return i(e.count)+" image in gallery"},function(e){return i(e.count)+" images in gallery"},"No images in gallery"],cardsTab:["card","cards","Cards"],cardsWrap:[function(e){return i(e.count)+" card"},function(e){return i(e.count)+" cards"}],coauthorsWrap:[function(e){return i(e.count)+" соавтор"},function(e){return i(e.count)+" соавтора"},function(e){return i(e.count)+" соавторов"}],coauthorsWrapWithOwner:[function(e){return" и "+i(e.count)+" соавтор"},function(e){return" и "+i(e.count)+" соавтора"},function(e){return" и "+i(e.count)+" соавторов"}],channelsTab:["topic","topics","Topics"],usersTab:["person","people","People"],sharedTitle:[function(e){return i(e.count)+" person shared this"},function(e){return i(e.count)+" people shared this"}],likedTitle:[function(e){return i(e.count)+" person liked this"},function(e){return i(e.count)+" people liked this"}],sharedDiffDesc:[function(e){return i(e.count)+" more person saved this card to private collections"},function(e){return i(e.count)+" more people saved this card to private collections"}],emptySharedDiffDesc:[function(e){return i(e.count)+" person saved this card to private collections"},function(e){return i(e.count)+" people saved this card to private collections"}],commentsTitle:[function(e){return i(e.count)+" comment"},function(e){return i(e.count)+" comments"},"Comments"],boardAuthor:"Автор коллекции"})},"4A+0":function(e,t,n){},"4EGB":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({boardSubscribed:{v:'You have subscribed to the collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'You have subscribed to the collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['You have subscribed to the collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},boardUnsubscribed:{v:'You have unsubscribed from the collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'You have unsubscribed from the collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['You have unsubscribed from the collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},channelSubscribed:{v:'You have subscribed to the topic "<a href="__channel_url__">__channel_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'You have subscribed to the topic "',i.createElement("a",{href:e.channel_url},e.channel_title),'"')},h:function(e){return(this.isRestored?c:s)(['You have subscribed to the topic "',(this.isRestored?o:a)("a","",{href:e.channel_url},[e.channel_title],{view:this}),'"'])}},channelUnsubscribed:{v:'You have unsubscribed from the topic "<a href="__channel_url__">__channel_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'You have unsubscribed from the topic "',i.createElement("a",{href:e.channel_url},e.channel_title),'"')},h:function(e){return(this.isRestored?c:s)(['You have unsubscribed from the topic "',(this.isRestored?o:a)("a","",{href:e.channel_url},[e.channel_title],{view:this}),'"'])}},userSubscribed:{v:'You have subscribed to <a href="__user_url__">__user_display_name__</a>',r:function(e){return i.createElement(i.Fragment,null,"You have subscribed to ",i.createElement("a",{href:e.user_url},e.user_display_name))},h:function(e){return(this.isRestored?c:s)(["You have subscribed to ",(this.isRestored?o:a)("a","",{href:e.user_url},[e.user_display_name],{view:this})])}},userUnsubscribed:{v:'You have unsubscribed from <a href="__user_url__">__user_display_name__</a>',r:function(e){return i.createElement(i.Fragment,null,"You have unsubscribed from ",i.createElement("a",{href:e.user_url},e.user_display_name))},h:function(e){return(this.isRestored?c:s)(["You have unsubscribed from ",(this.isRestored?o:a)("a","",{href:e.user_url},[e.user_display_name],{view:this})])}}})},"4G+7":function(e,t,n){"use strict";n("IAoT"),n("gFRy"),n("Pd0M");var r=n("BPL4");t.a=r.a.applyDecls()},"4G6d":function(e,t,n){"use strict";var r=n("gaTx");t.a=r.a.applyDecls()},"4Hw2":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("x9gI"),c=n("hV2r"),u=n("CHZ4"),l=n("ICaW"),d=n("gLBg"),h=n("4RqY"),f=n("ruzH"),p=n("gF9f"),b=n("oXfe"),m=Object(h.a)((function(e,t){var n,r,a,h,m,v,g,O,_;return i.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(n=e.value,r=e.silent,a=e.reset,h=void 0===a||a,m=t.getState,v=t.dispatch,g=m(),O=Object(s.a)(g,l.d.COLLECTIONS_DESKTOP_MAIN_BROWSER),!Object(u.a)(g,d.a.MAIN)){y.next=9;break}return r||v(Object(b.a)({scrollToTop:!1,payload:o()({},Object(c.a)(g),{recent:n})})),h&&(_=(O?["userCards"]:["userCards","userBoards"]).reduce((function(e,t){return e[t]={results:[],next:{},_loading:!0},e}),{}),v(Object(p.a)(_))),y.next=9,i.a.awrap(v(Object(f.a)({filter:["user","recentTabs","userBoards","userCards"],silent:!0})));case 9:case"end":return y.stop()}}))}))},"4MLz":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=1e16;function i(){return Date.now()+"-"+Math.round(Math.random()*r)}},"4ONn":function(e,t,n){},"4RqY":function(e,t,n){"use strict";function r(e){return function(t){var n=function(n){return Promise.resolve().then((function(){return e(t,n)}))};return n.type=e.name,n.data=t,n}}n.d(t,"a",(function(){return r}))},"4UlD":function(e,t,n){"use strict";function r(e){return Boolean(e&&e.market)}n.d(t,"a",(function(){return r}))},"4Xqd":function(e,t,n){window.fetch||(window.fetch=function(e,t){var n=void 0===t?{}:t,r=n.method,i=n.credentials,a=n.body,o=n.headers;return new Promise((function(t,n){var s=new XMLHttpRequest;"include"!==i&&"same-origin"!==i||(s.withCredentials=!0),s.onload=function(){t({status:s.status,ok:s.status>=200&&s.status<300,headers:{get:function(e){return s.getResponseHeader(e)}},json:function(){return Promise.resolve().then((function(){return JSON.parse(s.responseText)}))}})},s.onerror=function(){n(!1)},s.ontimeout=function(){n(!1)},s.open(r||"GET",e,!0),o&&Object.keys(o).forEach((function(e){o[e]&&s.setRequestHeader(e,String(o[e]))})),a?s.send(a):s.send()}))})},"4e/Y":function(e,t,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),a=n("6ga4"),o=n("lc+m"),s=n("om3R"),c=n("Jxqj"),u=n("5USU"),l=n("i1uP"),d=Object(l.a)(u.a,(function(e){if(e&&e.owner)return e.owner.id})),h=n("nmYb"),f=n("Y6N5"),p=Object(l.a)(f.a,(function(e){if(e&&e.page_domain_decoded)return e.page_domain_decoded.replace(/^www\./,"")})),b=n("Q6yW"),m=n("W/Rk"),v=n("XPFG"),g=n("rT8E"),O=n("BXUJ"),_=n("zT9S"),y=n("izju"),C=n("YQQ1"),E=n("H0hN"),j=n("CUhL"),S=n("e9Bh"),w=Object(i.a)((function(e,t){return{reason:Object(h.a)(e,t.cardId)}}))((function(e){var t=e.reason,n=e.className,i=void 0===n?"link":n,a=e.reasonLink,o=void 0===a?function(e,t){return r.createElement(r.Fragment,null,e," ",t)}:a,s=e.reasonText,c=void 0===s?function(e){return e}:s;if(!t)return null;if(t.reason===_.a.CHANNEL_SUBSCRIPTION){var u=t.channel,l=r.createElement(j.a,{loc:"reason"},r.createElement(E.a,{className:i,channel:u}));return o(S.fromChannel(),l)}if(t.reason===_.a.SIMILAR_TO_CARD&&t.card){var d=t.card.id,h=r.createElement(j.a,{loc:"reason"},r.createElement(C.a,{className:i,cardId:d},S.card()));return o(S.similarTo(),h)}return t.reason===_.a.RECOMMEND?c(S.recommended()):null})),k=n("m7Ew"),I=n("fFoT"),T=n("EuEB"),R=n("iABh");n.d(t,"a",(function(){return L})),n("CMmM");var L=Object(i.a)((function(e,t){var n=t.cardId,r=Object(o.a)(e,n),i=Object(s.a)(r),a=Object(g.a)(i),u=Object(v.a)(Object(c.a)(e,n)),l=d(e,n),f=l?Object(O.a)(e,l):void 0,C=p(e,n),E=Object(h.a)(e,n);return{isLink:a===y.a.LINK,isRecipe:Object(m.a)(r),pageDomain:C,pageUrl:Object(b.a)(e,n),parentOwnerId:u!==l?l:void 0,isParentOwnerVerified:f,isReason:t.showReason&&Boolean(E&&_.a[E.reason])}}))((function(e){var t,n=e.mod,i=e.size,o=void 0===i?"S":i,s=e.cardId,c=e.showSource,u=void 0===c||c,l=e.isLink,d=e.isRecipe,h=e.pageDomain,f=e.pageUrl,p=e.parentOwnerId,b=e.isParentOwnerVerified,m=e.isReason,v=u&&f&&h&&!d&&!l;if(!m&&!p&&!v)return null;var g="layout"===n?"black":"grey";return r.createElement("div",{className:Object(a.a)("cl-teaser-source",(t={},t[n]=Boolean(n),t))},r.createElement("ul",{className:Object(a.a)("dot-list",{size:o},"cl-teaser-source__dot-list")},p&&r.createElement(r.Fragment,null,r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},R.savedFromParentSource(),r.createElement(I.a,{mod:"card-teaser-source",size:"S",verified:!1,userId:p}),r.createElement(T.a,{mod:"card-teaser-source",size:o,color:g,verified:b,verifiedSize:"S",userId:p})))),m&&r.createElement(w,{className:Object(a.a)("link",{color:g,weight:"medium"}),reasonLink:function(e,t){return r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},e," ",t))},reasonText:function(e){return r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},e))},cardId:s}),!p&&v&&r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},R.savedFromSource(),r.createElement(k.a,{href:f,className:Object(a.a)("link",{color:g,weight:"medium"})},h)))))}))},"4gOc":function(e,t,n){"use strict";function r(e,t){return e.some((function(e){return t.includes(e.id)&&Boolean(e._loading)}))}n.d(t,"a",(function(){return r}))},"4jvx":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({android:"Android",ios:"iOS",windows:"Windows",macos:"macOS",linux:"Linux",xbox:"Xbox",playstation:"PlayStation",nintendo:"Nintendo"})},"4lBT":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("o0o1"),i=n.n(r),a=n("QodL"),o=n("y1pN"),s=n("Tff5"),c=n("oBAa"),u=n("BKHA"),l=n("nt9X"),d=n("nUi2"),h=n("rreP"),f=n("4RqY"),p=n("1WnH"),b=n("nAK0"),m=n("pjiQ"),v=Object(f.a)((function(e,t){var n,r,f,v,g,O,_,y,C,E,j;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.cardId,r=e.isBulk,f=e.yandexApp,v=t.getState,g=t.dispatch,!n&&!r){i.next=10;break}if(O=v(),_=Object(u.a)(v()),n?(b.d.clickCardRemove({cardId:n}),y=Object(c.a)(O,n),E=Object(s.a)(O,n),j=Object(o.a)(O,E),Object(d.a)(j)&&(C=Object(l.a)(j))):_.cards&&(y=_.cards.some((function(e){return Boolean(Object(c.a)(O,e))}))),!y){i.next=9;break}return g(Object(h.a)({message:m.removeCardReadonlyDisallowed()})),i.abrupt("return");case 9:g(Object(p.a)({id:"modal_remove",type:a.c.ENTITY_REMOVE,animationType:a.a.MODAL,options:n?{id:n,storeKey:"cards",showPreventedScroll:!0,yandexApp:f,asCompanyLogin:C}:{bulkCount:_.cards?_.cards.length:0,storeKey:"cards"}}));case 10:case"end":return i.stop()}}))}))},"4qu2":function(e,t,n){"use strict";function r(){return location.origin?location.origin:"https://yandex.ru"}n.d(t,"a",(function(){return r}))},"4zLl":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({multiplayer:"Multiplayer",doubleplayer:"Cooperative",singleplayer:"Single player",online:"Online"})},"5+Qg":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("mine_cards"))},"5/dx":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("GhlN"),s=function(e){var t,n,r=e.mod,s=e.mods,c=e.className,u=e.imageholder,l=e.picture,d=e.pictureHeight,h=e.footer,f=e.footerGradient,p=e.ctrl,b=e.children,m=e.itemRef,v=e.onMouseOver,g=e.linkFactory,O=Object(o.a)("cl-teaser",i()(((t={})[r]=Boolean(r),t),s,{"no-footer":!h,footer:Boolean(h)}),c);return d&&(n={height:d+"px"}),a.createElement("div",i()({className:O,ref:m,onMouseOver:v},e.props),a.createElement("div",{className:"cl-teaser__wrap cl-teaser-video-play"},g&&g({className:"cl-teaser__link",withoutTitle:!0}),b,u,l&&a.createElement("div",{className:"cl-teaser__picture",style:n},l),h&&a.createElement("div",{className:"cl-teaser__footer",style:{backgroundImage:f}},h),p&&a.createElement("div",{className:"cl-teaser__ctrl"},p)))};n.d(t,"a",(function(){return s}))},"50Z2":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"The card is already added",description:"Are you sure you want to remove the card?",confirmLabel:"Delete",cancelLabel:"Cancel"})},"51KI":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("GhlN"),s=function(e){var t,n=e.mod,r=e.mods,s=e.className,c=e.size,u=void 0===c?"M":c,l=e.insertHref,d=void 0===l||l,h=e.color,f=e.verified,p=e.verifiedSize,b=e.verifiedTitle,m=e.children;return a.createElement("div",{className:Object(o.a)("ya-login",i()((t={},t[n]=Boolean(n),t.size=u,t.href=d,t.color=h,t.verified=f&&(!p||[!0,p]),t),r),s)},m,f&&a.createElement("i",{className:Object(o.a)("verified",{size:p}),title:b}))}},"55Sq":function(e,t,n){"use strict";var r=n("caAX");t.a=r.a.applyDecls()},"56Ik":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("ukm6"),c=n("qkRt"),u=n("w2Rf"),l=function(){function e(e){this.uiKey=e.uiKey,this.relations=new Map}var t=e.prototype;return t.link=function(e,t,n,r,i){void 0===i&&(i={});var a=this.relations.get(e);a||(a=new Map,this.relations.set(e,a)),a.set(n,{point:t,realAction:r,options:i})},t.action=function(){var e=this,t=function(n){var r=function(r){return e.doAction({action:t,options:r},n)};return r.data=n,r};return t},t.permanentOptionsAction=function(){var e=this,t=function(n){return function(r){return e.updatePermanentOptions({action:t,options:r},n)}};return t},t.setStartPoint=function(e){this._startPoint=e},t.updatePermanentOptions=function(e,t){var n,r,a,s,l;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.options,r=n.dispatch,a=n.getState,s=a(),l=Object(c.a)(s),i.abrupt("return",r(Object(u.a)({uiKey:this.uiKey,value:{permanentOptions:o()({},l,{},t)}})));case 5:case"end":return i.stop()}}),null,this)},t.doAction=function(e,t){var n,r,a,c,l,d,h,f,p,b,m,v,g,O;return i.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:if(n=e.action,r=e.options,a=r.dispatch,c=r.getState,l=c(),d=Object(s.a)(l)[this.uiKey],h=d&&d.point||this._startPoint,!(f=this.relations.get(h))){_.next=28;break}if(p=f.get(n)){_.next=10;break}return _.abrupt("return");case 10:if(b=p.point,m=p.realAction,v=p.options,g=b.precondition,O=b.options,!1!==v.loading&&this.setLoading(a,!0),!m){_.next=24;break}return _.prev=14,_.next=17,i.a.awrap(a(m(t)));case 17:_.next=24;break;case 19:if(_.prev=19,_.t0=_.catch(14),this.setLoading(a,!1),v.skipError){_.next=24;break}return _.abrupt("return");case 24:if(!g){_.next=27;break}return _.next=27,i.a.awrap(a(g(t)));case 27:a(Object(u.a)({uiKey:this.uiKey,value:{point:b,options:o()({},O,{},t),loading:!1}}));case 28:case"end":return _.stop()}}),null,this,[[14,19]])},t.setLoading=function(e,t){e(Object(u.a)({uiKey:this.uiKey,value:{loading:t}}))},e.point=function(e,t,n){return void 0===n&&(n={}),{view:e,precondition:t,options:n}},e.factory=function(e){return new this(e)},e}()},"56OK":function(e,t,n){"use strict";var r=n("RGwc");t.a=r.a.applyDecls()},"5DR/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("yHDv"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("updated_at"))},"5QOx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("DMoZ"),o=n("4RqY"),s=n("T6Rw"),c=n("mxxA"),u=Object(s.a)((function(e,t){var n=t.type,r=Object(a.a)(e),o=r&&r.hellgates;return c.a.reducer(e,i()({},r,{hellgates:(o||[]).filter((function(){return n!=n}))}))})),l=Object(o.a)((function(e,t){(0,t.dispatch)(u(e))}))},"5Rl3":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("o0o1"),i=n.n(r),a=n("ICS8"),o=n("qh/6");function s(e,t){var n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(Object(a.a)(o.a.SYNC_CARD));case 2:(n=r.sent)&&n.postMessage({data:{id:e,value:t}});case 4:case"end":return r.stop()}}))}},"5S5r":function(e,t,n){},"5SLA":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({unlock:"Make visible to everyone",share:"Share",edit:"Edit",delete:"Delete",complain:"Report",hide:"Hide"})},"5USU":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("parent"))},"5a4k":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("OZAH"),i=n("y6Xm"),a=n("M740"),o=Object(r.a)(a.a,Object(i.a)("seed"))},"5gmI":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,i=n("6ga4"),a=n("gh0E"),o=n("jm6t"),s=n("iABh");!function(e){e[e.CONTEST=0]="CONTEST"}(r||(r={}));var c="place",u=["gold","silver","bronze"],l=10;function d(e,t){if(e&&e.date&&t&&Object(o.a)(t))return{label:Object(a.a)(e.date),className:c};var n=e&&e.competitions,r=t&&t.slug,d=0;if(n&&r){var h=n.find((function(e){return e.slug===r}));h&&h.place&&(d=h.place)}if(d>0&&d<=l){var f,p=u[d-1],b=Object(i.a)(c,((f={})[p]=Boolean(p),f));return{label:s.contestPlace({count:d}),className:b}}}},"5k1W":function(e,t,n){"use strict";function r(e,t,n){var i;if(null!=e&&null!=t)return n.forEach((function(n){if(Array.isArray(n)){var a=n[0],o=n[1];r(e[a],t[a],o)&&((i=i||{})[a]=t[a])}else e[n]!==t[n]&&((i=i||{})[n]=t[n])})),i}n.d(t,"a",(function(){return r}))},"5p+6":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/8873.gif"},"5wlt":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("cookies",{}))},"6/ZC":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("izju"),i=[r.a.GEO,r.a.ORGANIZATION];function a(e){return!!e&&-1!==i.indexOf(e)}},"66dx":function(e,t,n){"use strict";var r=n("OZAH");function i(e){return e.valid=e.valid.filter((function(t){var n=t.type.match(/^image\//)||""===t.type;return n||e.invalid.push({file:t,error:a.TypeError}),n})),e}var a,o=n("c+Ap");function s(e){return e.valid=e.valid.filter((function(t){var n=t.size<=o.C.byte;return n||e.invalid.push({file:t,error:a.SizeError}),n})),e}function c(e){return Object(r.a)(s,i)({valid:Array.from(e),invalid:[]})}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),function(e){e[e.TypeError=0]="TypeError",e[e.SizeError=1]="SizeError"}(a||(a={}))},"6DeV":function(e,t,n){},"6EC7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("6f8s"),i=n("c+Ap"),a=n("7BjU"),o="preview846",s=846,c=1692,u={width:i.n.WIDTH,height:i.n.HEIGHT};function l(e,t,n){var i=t.width,l=t.height;return void 0===n&&(n=1),e===o?Object(r.a)(s*n,c*n,i,l):e in a.a?Object(r.a)(a.a[e]*n,1/0,i,l):u}},"6H9l":function(e,t,n){"use strict";n("DlUR"),n("Vrw7").a.applyDecls()},"6KdG":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r,i,a,o,s=n("o0o1"),c=n.n(s),u=n("pVnL"),l=n.n(u),d=n("VbXa"),h=n.n(d),f=n("U+yc"),p=n.n(f),b=n("cDcd"),m=n("JxqJ"),v=n("LH8O"),g=n("Oaat"),O=n("BZL/"),_=n("6ga4"),y=n("Ot8I"),C=n("Hkgn"),E=n("Mp5Z"),j=n("wibD"),S=n("y85j"),w=(n("P4ez"),n("0Boe")),k=n("AeOK"),I=n("Opci"),T=n("6huc"),R=n("RYE9"),L=n("lpMR"),x=n("Ryll"),D=n("82Jb"),N=n("Df4F"),A=n("izju");function P(e){var t=e.content,n=e.size,r=e.maxWidth,i=e.percentRatio,a=e.ratio,o=(e.isLandscapeLocked,e.type),s={};if(r){if(!a){var c=Object(C.a)(n,t),u=c.width;a=c.height/u}var l=a<N.b,d=(100*(a=l&&o!==A.a.LINK?N.c:a)).toFixed(2);i?s.paddingTop=d+"%":s.height=d+"vw",l&&o===A.a.LINK?s.background=Object(E.a)(t.id):s.backgroundColor=Object(I.a)(t)}return s}var B=(r=Object(v.a)(),i=Object(v.a)(),a=Object(v.a)(),o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={content:t.props.content,hidden:t.props.hidden,forceHidden:!1,alternateSrc:"",retry:0},t}h()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.onLoadingStart(),this.checkAlternate()},n.componentDidUpdate=function(){this.state.hidden&&this.image&&this.onImageLoad(),this.state.hidden?this.onLoadingStart():this.onLoadingStop(),this.checkAlternate()},n.componentWillUnmount=function(){this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=void 0)},n.onImageRef=function(e){this.image=e,e&&(this.onImageLoad(),this.props.onImageRef&&this.props.onImageRef(e))},n.onImageLoad=function(){this.image&&this.image.naturalHeight&&this.state.hidden&&("currentSrc"in Image.prototype&&this.image.src!==this.image.currentSrc||this.setState({hidden:!1,forceHidden:!1}))},n.onImageError=function(){var e=this,t=this.state.retry+1;if(10!==t){var n=(!1===navigator.onLine?2:1)*(1e3*t);this.retryTimeout=setTimeout((function(){e.setState({retry:t})}),n)}},n.render=function(){var e=this.props,t=e.description,n=e.preContent,r=e.linkFactory,i=e.mods,a=e.style,o=e.rating,s=e.badge,c=e.percentRatio,u=e.animateFormat,d=e.content,h=e.size,f=e.type,p=e.src,m=e.noImage,v=e.noFormat,g=e.swCache,O=e.isVideo,E=e.isAnimated,S=e.ratio,k=e.label,I=e.banned,T=e.imageStyles,R=e.doubleWrap,L=e.className;if(!S){var x=Object(C.a)(h,d),D=x.width;S=x.height/D}var B=S<N.b,M=this.state,U=M.hidden,F=M.retry,V=M.alternateSrc,H=M.forceHidden,W=p||V||Object(y.b)(d,{size:B?N.a:h,swCache:g});F&&(W=Object(w.a)(W,{r:F}));var z=B&&f===A.a.LINK,K=b.createElement(b.Fragment,null,o&&b.createElement("span",{className:"image__type__rating",style:{backgroundColor:Object(j.a)(o)}},o),!v&&!z&&(E||O)&&b.createElement("div",{className:"image__type"},b.createElement("span",{className:Object(_.a)("image__type__format",{video:O,gif:E,size:"L",animate:u})})),!m&&b.createElement("img",{src:W,className:Object(_.a)("image__image",{absolute:c}),alt:t||" ",crossOrigin:g&&W&&W.includes(y.a)?"anonymous":void 0,ref:this.onImageRef,onLoad:this.onImageLoad,onError:this.onImageError,style:l()({},T,{transition:H?"none":void 0})})),Y=b.createElement(b.Fragment,null,n,b.createElement("div",{className:Object(_.a)("image__wrap",{hidden:U,"min-height":z,banned:I}),style:P(this.props)},R?b.createElement("div",{className:"image__wrap__i"},K):K));return r&&(Y=r(Y)),b.createElement("div",{className:Object(_.a)("image",i,L),style:a},Y,s&&b.createElement("span",{className:s.className},s.label),k)},n.onLoadingStart=function(){var e=this.props.rum;e&&this.image&&e(this.image.src,x.a.REQUEST_START)},n.onLoadingStop=function(){var e=this.props.rum;this.image&&e&&this.rumLastUrl!==this.image.src&&(this.rumLastUrl=this.image.src,this.onLoadingStart(),e(this.image.src,x.a.REQUEST_END))},n.checkAlternate=function(){var e=this,t=this.props.alternateSrc;Object(T.a)(this.props.content)===D.a.PLACEHOLDER&&(t=Object(k.a)(this.props.content)),t&&this.alternateSrc!==t&&(this.alternateSrc=t,Object(O.a)(t,{timeout:6e4}).then((function(){e.alternateSrc===t&&e.setState({alternateSrc:t,retry:0})})).catch((function(){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.alternateSrc){n.next=5;break}return e.alternateSrc="",n.next=4,c.a.awrap(Object(g.a)(1e3));case 4:e.checkAlternate();case 5:case"end":return n.stop()}}))})))},t.getDerivedStateFromProps=function(e,t){return t.hidden||t.content===e.content?null:{hidden:!0,forceHidden:!0,content:e.content,alternateSrc:""}},t}(b.Component),p()(o.prototype,"onImageRef",[r],Object.getOwnPropertyDescriptor(o.prototype,"onImageRef"),o.prototype),p()(o.prototype,"onImageLoad",[i],Object.getOwnPropertyDescriptor(o.prototype,"onImageLoad"),o.prototype),p()(o.prototype,"onImageError",[a],Object.getOwnPropertyDescriptor(o.prototype,"onImageError"),o.prototype),o),M=Object(m.a)((function(e,t){return{hidden:!e.env.isRestore,isVideo:!t.noLabel&&(t.isVideo||Object(L.a)(t.content)),isAnimated:!t.noLabel&&Object(R.a)(t.content),isLandscapeLocked:!1,swCache:Object(S.a)(e)}}))(B)},"6KiY":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("VbXa"),i=n.n(r),a=n("mdRN"),o=n("j3NW"),s=n("zBb6"),c=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.scale=function(e){var t=e.maxWidth,n=e.imageMargin,r=e.viewportHeight,i=e.minWidth,a=t,o=[],s={minWidth:void 0===i?220:i,maxWidth:t,height:r};this.forEach((function(e){var r,i,c=e.getSmartScaleAttributes(s),u=c.width;o.length&&(u+=n),a<u?(r=n*(o.length-1),i=(t-r)/(t-a-r),o.forEach((function(e){var t=e.image,n=e.scaleParams;return t.smartScale(n,i)})),o=[],a=t,a-=c.width):a-=u,o.push({image:e,scaleParams:c})})),o.forEach((function(e){var t=e.image,n=e.scaleParams;return t.smartScale(n,1)})),this.trigger("data:ready")},t.restore=function(){return t.factory()},t.factory=function(e,t){return new this(e,t)},t}(o.a);Object(a.a)({model:s.a})(c)},"6MYP":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("3lXt"),i=n("UQOb"),a=n("4MLz"),o=n("c+Ap"),s=n("4RqY"),c=n("S7YN"),u=Object(s.a)((function(e,t){var n=e.boardId,s=t.getState,u=t.dispatch,l=s(),d=Object(r.a)(l,n);if(d){var h=Object(i.a)(d),f={page:1,page_size:o.p,seed:Object(a.a)()};h?f.similar_to_board=d.id:f.text=d.title,u(Object(c.a)({storeKey:"cardSimilar",url:h?"/collections/api/cards":"/collections/api/cards/search",reset:{results:[]},query:f}))}}))},"6RUX":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({like:"Like",dislike:"Dislike"})},"6Rso":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("+lu/");function o(e,t,n){var r,o=e[t];if(!o||!o.results)return e;var s=Object(a.a)(n),c=n.concat(o.results.filter((function(e){return!s[e.id]})));return i()({},e,((r={})[t]=i()({},o,{results:c}),r))}},"6Xmf":function(e,t,n){"use strict";var r=n("nAK0");n.d(t,"a",(function(){return r.g}))},"6YYB":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Are you sure you want to cancel?",editTitle:"Отменить изменения?",description:"All unsaved data will be lost",cancelLabel:"Остаться",confirmLabel:"Don't save"})},"6f8s":function(e,t,n){"use strict";function r(e,t,n,r,i){var a=n/r;return n<=e&&r<=t?i&&n>e-e*i?{width:e,height:e/n*r}:{width:n,height:r}:e/a<=t?{width:e,height:Math.round(e/a)}:{width:Math.round(t*a),height:t}}n.d(t,"a",(function(){return r}))},"6g1q":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("c+Ap"),o=Object(i.a)(r.a,(function(e){return Boolean(e&&e.labels&&e.labels.indexOf(a.Y)>-1)}))},"6ga4":function(e,t,n){"use strict";var r=n("GhlN");n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a}))},"6huc":function(e,t,n){"use strict";function r(e){return e?e.content&&e.content.derived_from:void 0}n.d(t,"a",(function(){return r}))},"6hwB":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Yandex.Collections extension",text:"Install the browser extension to quickly add images from the internet to your collections.",button:"Install"})},"6jw5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gyQa");function i(e){var t=Object(r.a)(e);if(t)return t.duration}},"6muZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("GhlN"),s=n("OyHf"),c=function(e){var t,n=e.mod,r=e.mods,c=e.className,u=e.size,l=void 0===u?"M":u,d=e.insertHref,h=void 0===d||d,f=e.user,p=e.displayName,b=e.avatarUrl,m=e.isVerified,v=void 0!==m&&m,g=e.verifiedSize,O=e.verifiedTitle,_=e.isCompany,y=e.wrapper,C=a.createElement("span",{className:"avatar__avatar",style:{backgroundImage:'url("'+(b||Object(s.h)(f,{isCompany:_}))+'")'},title:p});return y&&(C=a.createElement(y,{children:C})),a.createElement("div",{className:Object(o.a)("avatar",i()((t={},t[n]=Boolean(n),t.size=l,t.href=h,t.verified=v,t),r),c)},C,v&&a.createElement("span",{className:Object(o.a)("verified",{size:g||l}),title:O}))}},"7/cf":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("lc+m"),i="current-card-temp",a=function(e){if(e){var t=e.currentCard;if(t&&t.id){var n=Object(r.a)(e,t.id),a=Object.keys(n).length,o=n.id===i,s=n.labels&&0===n.labels.length;return 2===a&&o&&s?{}:n}}}},"70gZ":function(e,t,n){},"73/6":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dNc+"),i=n("EgTM"),a=n("K5nR"),o=Object(a.a)({normalizer:r.c,getEntity:i.a})},"74re":function(e,t,n){"use strict";var r=n("Ff+0"),i=n("b63G"),a=n("y8E0");function o(e){if(e&&e.object_answer&&e.object_answer.data){var t=e.object_answer.data.genres;return t&&t.length?function(e){return Object(r.a)(function(e){return e?e.map((function(e){return i[e]?i[e]():e})):[]}(e).join(", "))}(t):a.defaultGameGenre()}}n.d(t,"a",(function(){return o}))},"785c":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=function(e,t){return e[e[t="EMPTY"]="EMPTY"]=t,e[e[t="BOARDS_LIST_SHARE"]="BOARDS_LIST_SHARE"]=t,e[e[t="BOARD_CREATE_SHARE"]="BOARD_CREATE_SHARE"]=t,e[e[t="AUTH_SHARE"]="AUTH_SHARE"]=t,e[e[t="SHARE_ERROR"]="SHARE_ERROR"]=t,e[e[t="SHARE_UNAUTHORIZED"]="SHARE_UNAUTHORIZED"]=t,e[e[t="CARD_SERIES_SHARE"]="CARD_SERIES_SHARE"]=t,e[e[t="SHORT_BOARDS_LIST"]="SHORT_BOARDS_LIST"]=t,e[e[t="BOARDS_LIST_INTERNAL"]="BOARDS_LIST_INTERNAL"]=t,e[e[t="BOARD_CREATE_INTERNAL"]="BOARD_CREATE_INTERNAL"]=t,e[e[t="BOARDS_LIST_BULK"]="BOARDS_LIST_BULK"]=t,e[e[t="BOARD_CREATE_BULK"]="BOARD_CREATE_BULK"]=t,e[e[t="BOARD_CREATE"]="BOARD_CREATE"]=t,e[e[t="BOARD_EDIT"]="BOARD_EDIT"]=t,e[e[t="BOARDS_LIST"]="BOARDS_LIST"]=t,e[e[t="CARD_TYPES"]="CARD_TYPES"]=t,e[e[t="CARD_IMAGE_FILE"]="CARD_IMAGE_FILE"]=t,e[e[t="CARD_IMAGE_URL"]="CARD_IMAGE_URL"]=t,e[e[t="CARD_IMAGE_VIEW"]="CARD_IMAGE_VIEW"]=t,e[e[t="CARD_LINK"]="CARD_LINK"]=t,e[e[t="CARD_PRODUCT"]="CARD_PRODUCT"]=t,e[e[t="CARD_SERIES_ADD"]="CARD_SERIES_ADD"]=t,e[e[t="PROFILE_SETTINGS"]="PROFILE_SETTINGS"]=t,e}({}),i="add",a="add_card"},"79NS":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("isYandexAppMultiMorda",!1))},"7BjU":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={s1200:1200,s800:800,s600:600,s375:375,s360:360,s320:320,s280:280},i={s600:38,s375:37,smart56:5}},"7Evp":function(e,t,n){"use strict";n("C8aN");var r=n("sc3M");t.a=r.a.applyDecls()},"7HMk":function(e,t,n){},"7Hn5":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("5k1W"),c=n("y1pN"),u=n("lc+m"),l=n("Tff5"),d=n("PN4Q"),h=n("+mVu"),f=n("7/cf"),p=n("U9Ap"),b=n("0Boe"),m=n("nt9X"),v=n("nUi2"),g=n("osxO"),O=n("y144"),_=n("aKBe"),y=n("U0LE"),C=n("dohL"),E=n("4RqY"),j=n("nAK0"),S=n("cX81"),w=function(e){return"/collections/api/v1.0/cards/"+e+"/"};function k(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n].id}))}var I=Object(E.a)((function(e,t){var n,r,a,E,I,T,R,L,x,D,N,A,P,B,M,U,F,V,H,W,z,K,Y;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.di,a=t.dispatch,e.next=3,i.a.awrap(r("request"));case 3:if(E=e.sent,I=n(),T=Object(f.b)(I),R=T&&T.original_id,x=Object(l.a)(T),D=Object(c.a)(I,x),Object(v.a)(D)&&(N=Object(m.a)(D)),!R&&T&&Object(p.a)(I,T.id)&&(R=T.id,L=!0),A=R&&Object(u.a)(I,R),!T||!A){e.next=48;break}if(P=A.content,B=T.selected_contents,M=B&&P&&k(B,P),U={},L?U.description=T.description:U=Object(s.a)(A,T,["description",["meta",[["data",["title","cost"]]]]])||{},B&&!M&&T.content&&(U.content=Object(d.a)(T.content,B)),!Object.keys(U).length){e.next=48;break}if(!U.content){e.next=25;break}if(!U.content.some((function(e){return e._loading}))){e.next=25;break}return a(Object(y.a)({type:g.b.UPLOAD_WAIT})),e.abrupt("return",Promise.reject());case 25:return e.prev=25,V=w(R),H=Object(b.a)(V,{as_company:N}),e.next=30,i.a.awrap(E.patch(H,U));case 30:return F=e.sent,a(Object(_.a)({id:F.id,value:F})),W=F.content.map((function(e){return e.id})),a(Object(O.a)({force:!0,value:o()({},F,{id:void 0,original_id:F.id,selected_contents:W,preview_content:W[0]})})),e.next=36,i.a.awrap(r("CardPopupState"));case 36:z=e.sent,(K=z.getCard())&&K.id===F.id&&(Y=Object(h.a)(n(),F.id),z.setCard(S.a.dataFactory(Y,{request:E,parse:!0}))),a(Object(y.a)({type:g.b.UPDATED,data:{cardId:F.id}})),j.d.finishCardUpdate({cardId:F.id,descriptionChanged:void 0!==U.description,contentChanged:Boolean(U.content)}),e.next=47;break;case 43:throw e.prev=43,e.t0=e.catch(25),a(Object(C.a)({error:e.t0})),e.t0;case 47:return e.abrupt("return",F);case 48:case"end":return e.stop()}}),null,null,[[25,43]])}))},"7JBc":function(e,t,n){"use strict";function r(e){return e&&e.env?e.env.href:""}n.d(t,"a",(function(){return r}))},"7Jbl":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("+r4z"),o=n("785c"),s=n("gLBg"),c=n("GZ4p"),u=n("y144"),l=n("4RqY"),d=n("MlGB"),h=n("3tUY"),f=n("w2Rf"),p=n("pVnL"),b=n.n(p),m=n("T6Rw"),v=Object(m.a)((function(e){return b()({},e,{modalDialog:void 0})})),g=n("BCLc"),O=n("IxYx"),_=n("1WnH");n.d(t,"a",(function(){return y}));var y=Object(l.a)((function(e,t){var n,r,l;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getState,l=t.dispatch,e.next=3,i.a.awrap(l(Object(d.a)({})));case 3:return e.next=5,i.a.awrap(l(Object(g.a)(null)));case 5:return e.next=7,i.a.awrap(l(Object(_.a)(null)));case 7:return e.next=9,i.a.awrap(l(Object(O.a)(((n={})[c.a]=!1,n))));case 9:return e.next=11,i.a.awrap(l(v({})));case 11:return e.next=13,i.a.awrap(l(Object(u.a)({value:{},force:!0})));case 13:return e.next=15,i.a.awrap(l(Object(f.a)({uiKey:o.a,value:{permanentOptions:{}}})));case 15:if(Object(a.a)(r())!==s.a.SHARE||window.parent!==window){e.next=19;break}return window.close(),e.next=19,i.a.awrap(l(Object(h.a)({url:Object(s.v)()})));case 19:case"end":return e.stop()}}))}))},"7Tj3":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Отменить редактирование?",cancelLabel:"Не сохранять",confirmLabel:"Остаться"})},"7aFe":function(e,t,n){},"7dCv":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("om3R"),a=n("i1uP"),o=Object(a.a)(r.a,(function(e){if(e&&e.content){var t=e.preview_content;return t?e.content.find((function(e){var n,r;return e.source&&(n=e.source.thumb_id,r=e.source.thumb_link),e.id===t||n===t||r===t})):Object(i.a)(e)}}))},"7e2C":function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=null);var n="https://yandex.ru/collections/web-api/client-metrics/?target="+e+"&_="+Date.now()+(null!==t?"&value="+t:"");!e||navigator.sendBeacon&&navigator.sendBeacon(n," ")||((new Image).src=n)}n.d(t,"a",(function(){return r}))},"7hiN":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("qDXE"),i=n("gHHl"),a=n("K7k/");function o(e,t){var n=t.isBrowserApp,o=t.isYandexRecent,s=n?e:Object(a.a)(e);!Object(i.a)(t.ua)&&!o||n?window.open(s,"_blank"):Object(r.a)(s)}},"7kNC":function(e,t,n){"use strict";var r=n("1L5Z");t.a=r.a.applyDecls()},"7kld":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("company_id"))},"7l/d":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/9d4b.gif"},"7oCh":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("GhlN"),a=function(e){var t=e.className,n=e.position,a=e.labelSize,o=void 0===a?"M":a,s=e.children;return r.createElement("div",{className:Object(i.a)("cl-teaser__label-wrap",{position:n,size:o},t)},s)}},"7q/M":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r,i,a=n("o0o1"),o=n.n(a),s=n("pVnL"),c=n.n(s),u=n("VbXa"),l=n.n(u),d=n("U+yc"),h=n.n(d),f=n("YU6D"),p=n("LH8O"),b=n("LGxj"),m=n("ICaW"),v=n("mTSw"),g=f.Utils.escapeExpression,O=(r=Object(p.a)(),i=function(e){function t(t){var n,r=t.translateAdapter,i=t.planner,a=t.permissions,o=t.language,s=void 0===o?"ru":o,c=t.flags,u=void 0===c?{}:c,l=t.logos;return(n=e.call(this)||this).timeDelta=0,n.translateAdapter=r,n.setLang(s),n.logos=l,n.flags=u,n.promises=[],n.boxes=[],n.planner=i,n.permissions=a,n}l()(t,e);var n=t.prototype;return n.setRouter=function(e){this.router=e},n.setCurrentUser=function(e){this.currentUser=e},n.translate=function(e,t){return t&&!0===t.escape&&(t=Object.keys(t).reduce((function(e,n){var r=t&&t[n],i=typeof r;return e[n]="hvalanka"===n||"string"!==i&&"object"!==i?r:g(r),e}),{})),this.translateAdapter.translate(e,t)},n.awaitPromise=function(e){this.promises.push(e)},n.awaitPromises=function(){var e=this.promises;return this.promises=[],Promise.all(e)},n.getAccessRights=function(){var e=this.currentUser;return e&&e.isAuthorized()?e.isYandexTeam()?m.b.YT:e.isToloker()?m.b.TOLOKA:m.b.USER:e&&e.isRestricted()?m.b.RESTRICTED_USER:m.b.GUEST},n.invokeStrategy=function(e,t){var n=this;void 0===t&&(t={});var r=this.di;return Promise.resolve().then((function(){return r(e)})).catch((function(t){throw console.error(t),new Error("Unknown strategy "+e)})).then((function(e){return e.execute(c()({env:n},t))})).catch((function(e){throw e&&console.error(e),e}))},n.getFeature=function(e){return this.flags[e]},n.hasFeature=function(e,t){var n=this.getFeature(e);return void 0!==t?t==n:Boolean(n)},n.hasAccess=function(e){var t=this.getUserPermissions(),n=this.getAccessRights();return void 0!==t[e]&&Boolean(t[e]&n)},n.getUIName=function(){return this.isYandexApp?"yandexApp":this.isTablet?"tablet":"desktop"},n.isUserAuthorized=function(){var e=this.currentUser;return Boolean(e&&e.isAuthorized())},n.getUserMeta=function(){var e=this.currentUser;return{userId:e.id,uid:e.getUid()}},n.setLang=function(e){this.language=e},n.attachRedux=function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.reduxState=e,t.abrupt("return",e.dispatch(Object(v.a)({})));case 2:case"end":return t.stop()}}),null,this)},n.getState=function(){if(this.reduxState)return this.reduxState.getState()},n.dispatch=function(e){if(this.reduxState)return this.reduxState.dispatch(e)},n.updateDependencies=function(e){var t=e.translateAdapter,n=e.event,r=e.currentUser,i=e.planner;t&&(this.translateAdapter=t),r&&this.setCurrentUser(r),this.setLang(this.language),n&&(this.event=n,this.isShare="share"===n.name,n.di&&(this.di=n.di)),i&&(this.planner=i)},t.extractRule=function(e,t){for(var n=Object.keys(t).map(Number),r=0;r<n.length;r++){var i=n[r];if((e&i)>0)return t[i]}},t}(b.a),h()(i.prototype,"dispatch",[r],Object.getOwnPropertyDescriptor(i.prototype,"dispatch"),i.prototype),i)},"7r1C":function(e,t,n){"use strict";var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("network"));n.d(t,"a",(function(){return s}));var s=Object(r.a)(o,Object(i.a)("isOnline",!0))},"7wgA":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({cardMove:{v:'Card moved to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card moved to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card moved to collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},cardRemove:{v:'Card removed from collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card removed from collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card removed from collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},boardRemoved:function(e){return'Collection "'+u(e.board_title)+'" removed'}})},"7z6F":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("description"))},"80YD":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("xalX");function i(e,t){return function(n,i){var a=e(n,i);if(a)return Object(r.a)(t.denormalize(n.entities,a))}}},"80cV":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("stat"))},"82Jb":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="OG"]="og"]=t,e[e[t="PLACEHOLDER"]="placeholder"]=t,e[e[t="TEXT"]="text"]=t,e[e[t="PREVIEW"]="preview"]=t,e}({})},"82un":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({successUnlock:"The collection is open and visible to everyone"})},"84fb":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Wopx"),i=n("MTjZ"),a=n("m4ti"),o=n("c+Ap");function s(e){var t=Object(i.a)(e),n=Object(r.a)(e);return Boolean(o.c.includes(n.tld)&&Object(a.a)(t))}},"87jK":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({cardsRemoved:[function(e){return i(e.count)+" card removed"},function(e){return i(e.count)+" cards removed"}],cardsNotRemoved:"Couldn't delete cards",cardNotRemoved:"Couldn't delete card",cardsPartialRemoved:[function(e){return i(e.count)+" of "+i(e.total)+" cards removed"},function(e){return i(e.count)+" of "+i(e.total)+" cards removed"}]})},"886R":function(e,t,n){"use strict";n.r(t);var r=n("EVdn"),i=n.n(r);i()((function(){i()("body").on("mousedown","a[data-href]",(function(e){var t=i()(e.currentTarget),n=t.attr("data-href"),r=t.attr("href");t.get("data-original-href")||t.attr("data-original-href",r),t.attr("href",n)}))}))},"8KBr":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("i1uP"),i=n("IWXk"),a=n("CsIx"),o=n("mjwL"),s=Object(r.a)(i.a,(function(e){return e?Object(a.a)(e)?o.selfDisplayName():e.display_name||e.login||"":""}))},"8KwP":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("qAEN"),o=n("hV2r"),s=n("CHZ4"),c=n("gLBg"),u=n("4RqY"),l=n("4Hw2"),d=n("FVd+"),h=n("pVnL"),f=n.n(h),p=n("pvK7"),b=n("T6Rw"),m=n("3WeZ"),v=Object(b.a)((function(e){var t=Object(p.a)(e);return Object(m.a)(e,{boardRecent:f()({},t,{scrolled:t.scrolled+1})})})),g=n("wBxh");function O(e,t){var n,r;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(o.a)(e),r=n.recent,a.next=4,i.a.awrap(t(Object(l.a)({value:r,silent:!0,reset:!1})));case 4:t(v({}));case 5:case"end":return a.stop()}}))}n.d(t,"a",(function(){return _}));var _=Object(u.a)((function(e,t){var n,r,o,u,l;return i.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.getState,r=t.dispatch,o=n(),u=e&&e.taskId,!Object(s.a)(o,c.a.MAIN)){h.next=16;break}if(!u){h.next=13;break}return h.next=7,i.a.awrap(r(Object(d.a)({taskId:u})));case 7:if(!(l=h.sent)||l.state!==a.a.SUCCESS){h.next=11;break}return h.next=11,i.a.awrap(O(o,r));case 11:h.next=15;break;case 13:return h.next=15,i.a.awrap(O(o,r));case 15:setTimeout((function(){r(Object(g.a)({})).catch((function(e){return console.error(e)}))}),1e3);case 16:case"end":return h.stop()}}))}))},"8QD2":function(e,t,n){"use strict";var r=n("9ArA");t.a=r.a.applyDecls()},"8UbU":function(e,t,n){"use strict";var r=n("cDcd"),i=n("ICKy"),a=n("CACh"),o=n("7oCh");n.d(t,"a",(function(){return s}));var s=function(e){var t=e.className,n=e.updatedAt,s=e.prefix;if(!n)return null;var c=Object(a.a)(n,{maxDiffDays:26});if(!c)return null;var u,l=s?s+" "+c:(u=c)?u[0].toUpperCase()+u.slice(1):"";return r.createElement(o.a,{className:t,position:"top-left"},r.createElement(i.a,{labelSize:"S",labelPosition:"static",labelValue:l}))}},"8Udm":function(e,t,n){},"8dP3":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("GhlN"),s=function(e){var t,n=e.mod,r=e.mods,s=e.className,c=e.avatar,u=e.title,l=e.desc,d=e.hasLock,h=e.lock,f=e.linkFactory,p=e.additionalRow,b=(e.props,e.children),m=a.createElement(a.Fragment,null,u&&a.createElement("h3",{className:"cl-teaser-info__title"},f?f({className:"link",children:u}):u),l&&a.createElement("div",{className:"cl-teaser-info__desc"},l));return a.createElement("div",{className:Object(o.a)("cl-teaser-info",i()((t={},t[n]=Boolean(n),t),r),s)},c,d&&(h||a.createElement("div",{className:"cl-teaser-info__side"},a.createElement("span",{className:"cl-teaser-info__lock"}))),d||b?a.createElement("div",{className:"cl-teaser-info__wrap"},m,b):m,p)}},"8eIt":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18 13.5c.6 0 1 .5 1 1v3c0 .8-.7 1.5-1.5 1.5h-11c-.8 0-1.5-.7-1.5-1.5v-11C5 5.7 5.7 5 6.5 5h3a1 1 0 0 1 0 2H7v10h10v-2.5c0-.5.4-1 1-1zm-1.7-6.7v-.3l-1.1.3-1.7.2a1 1 0 0 1-1-1c0-.6.4-1 1-1H18c.6 0 1 .4 1 1v4.5c0 .6-.4 1-1 1a1 1 0 0 1-1-1c0-.6 0-1.1.2-1.7l.3-1.1h-.3l-1 1.4-1 1.1-3.5 3.5a1 1 0 1 1-1.4-1.4l3.5-3.5 1-1 1.5-1z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},"8fVR":function(e,t,n){"use strict";var r=n("StiZ");t.a=r.a.applyDecls()},"8fc2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("gyQa"),i="hd";function a(e){var t=Object(r.a)(e);return!!t&&t.definition===i}},"8i1e":function(e,t,n){},"8i7z":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/7be8.gif"},"8kuQ":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({xhrErrorUnknown:"Error",xhrError0:"No internet connection",xhrError404:"Nothing found",xhrError403:"You do not have access to this page",xhrError500:"Server error"})},"8lvo":function(e,t,n){"use strict";n("J68E"),n("DnAm"),n("77gR");var r=n("LCpZ");t.a=r.a.applyDecls()},"8nDD":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("7/cf"),c=n("WIki"),u=n("osxO"),l=n("oFlc"),d=n("2+s3"),h=n("9NxI"),f=n("U0LE"),p=n("4RqY"),b=Object(p.a)((function(e,t){var n,r,a,p,b,m,v;return i.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(n=e.id,r=t.dispatch,a=t.getState,!(p=Object(s.b)(a()))||!p.content){g.next=22;break}if(!(b=p.content.find((function(e){return e.id===n})))){g.next=22;break}return r(Object(h.a)({id:n,value:{_loading:!0,_error:!1}})),g.prev=7,m=Object(c.a)(b),g.next=11,i.a.awrap(r(Object(l.a)({content:m})));case 11:v=g.sent,r(Object(h.a)({id:n,value:o()({},v,{_loading:!1})})),g.next=22;break;case 15:return g.prev=15,g.t0=g.catch(7),console.error(g.t0),r(Object(h.a)({id:n,value:{_loading:!1,_error:!0}})),g.next=21,i.a.awrap(r(Object(d.a)({id:n})));case 21:r(Object(f.a)({type:u.b.LOAD_RETRY}));case 22:case"end":return g.stop()}}),null,null,[[7,15]])}))},"8p4Y":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({buttonOk:"Got it"})},"8yKx":function(e,t,n){},"8yzE":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("c+Ap").x,i=["input","textarea"],a={};function o(e,t,n){var r=(void 0===n?{}:n).priority,i=void 0===r?0:r;a[e]=a[e]||[],a[e].push({priority:i,callback:t})}function s(e,t){a[e]&&(a[e]=a[e].filter((function(e){return e.callback!==t})))}function c(e,t,n,r){var i=n.bind(e);o(t,i,r),e.once("destroy",(function(){return s(t,i)}))}document.addEventListener("keydown",(function(e){var t=e.which,n=e.target.tagName.toLowerCase();t!==r.ESCAPE&&-1!==i.indexOf(n)||function(e,t){if(a[e])for(var n=a[e].slice().sort((function(e,t){return t.priority-e.priority})),r=0;r<n.length;r++)if(!1===n[r].callback({key:e},t))return}(t,e)}))},"8z4Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("readonly",!1))},"9+Yy":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("wy7W");function i(e,t){return function(n,i){return Object(r.a)(n,e,i)||t}}},"91wX":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=0;function i(){return"u"+r++}},"93Q7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("NuA5"),i=n("O/ol"),a=Object(r.a)("contest",i.a)},"9BmU":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("uPfy"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("cost"))},"9EBK":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("cDcd"),i=n("nJOc"),a=n("6ga4"),o=function(e){var t=e.className,n=e.icon;return r.createElement("div",{className:Object(a.a)("cl-card-teaser-controls-icon",{},t)},r.createElement(i.a,{icon:n}))}},"9EtG":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=65536;function i(e){try{if(e>=r){var t=Math.floor(e-r>>10|0)+55296;return String.fromCharCode(t)+String.fromCharCode(56320+(e-r&1023))}return String.fromCharCode(e)}catch(e){return""}}function a(e){return e?e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&euro;/g,"€").replace(/&trade;/g,"™").replace(/&copy;/g,"©").replace(/&reg;/g,"®").replace(/&ndash;/g,"–").replace(/&mdash;/g,"—").replace(/&laquo;/g,"«").replace(/&raquo;/g,"»").replace(/&apos;/g,"'").replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/\u0007/g,"").replace(/&nbsp;/g," ").replace(/&#(\d+);/g,(function(e,t){return i(Number(t))||e})).replace(/&#x([0-9A-F]+);/gi,(function(e,t){return i(parseInt(t,16))||e})):""}},"9NTW":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("BKHA"),o=n("T6Rw"),s=n("3WeZ"),c=Object(o.a)((function(e,t){var n,r=t.force,o=t.value;return n=Boolean(r)?{bulk:o}:{bulk:i()({},Object(a.a)(e),{},o)},Object(s.a)(e,n)}))},"9NxI":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("7/cf"),o=n("y144"),s=n("T6Rw"),c=Object(s.a)((function(e,t){var n=t.id,r=t.value,s=Object(a.b)(e);if(s&&s.content){var c=s.content,u=s.selected_contents,l=s.preview_content;return l===n&&(l=r.id),r.id&&u&&(u=u.map((function(e){return e===n?r.id:e}))),o.a.reducer(e,{value:{content:c.map((function(e){return e.id===n?i()({},e,{},r):e})),selected_contents:u,preview_content:l}})}return e}))},"9Q9K":function(e,t,n){},"9bY7":function(e,t,n){"use strict";function r(e){if(e&&e.source&&e.source.entity)return e.source.entity.title}n.d(t,"a",(function(){return r}))},"9kjY":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("5+Qg"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){return Boolean(e&&e.length)}))},"9qcP":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("E5ki"),c=n("bmsa"),u=n("1vK5"),l=n("DUEF"),d=n("c+Ap"),h=n("NP2b"),f=l,p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).notifications=new s.a,t}o()(t,e);var n=t.prototype;return n.showNotification=function(e){if(!e.mute)return this.getNotifications().add(e)},n.showMessage=function(e,t){return void 0===t&&(t={}),this.showNotification(i()({},t,{message:e(t.translate)}))},n.showXHRMessage=function(e,t){var n=e.status,r=u.xhrErrorUnknown;return 0===n?r=u.xhrError0:n===d.v.NOT_FOUND?r=u.xhrError404:n===d.v.FORBIDDEN?r=u.xhrError403:n>=d.v.INTERNAL_SERVER_ERROR&&n<d.v.MAX_HTTP_CODE&&(r=u.xhrError500),console.error(e),this.showMessage(r,t)},n.showPersistentOfflineMessage=function(){this.offlineMessage||(this.offlineMessage=this.showMessage(u.xhrError0,{persistent:!0}))},n.hidePersistentOfflineMessage=function(){this.offlineMessage&&(this.offlineMessage.remove(),this.offlineMessage=void 0)},n.showUnknownErrorMessage=function(){return this.showMessage(u.mainErrorUndefined)},n.createXHRErrorHandler=function(e){var t=this;return function(n){return t.showXHRMessage(n,e)}},n.showCardMessage=function(e,t,n){var r=this.getRouterState();if(r){var i=r.getBoardURL(e.getBoard());return n={translate:Object.assign({},n,{board_title:this.getBoardTitle(e.getBoard()),board_url:i}),url:i},this.showMessage(t,n)}},n.showCardMoveMessage=function(e,t){return this.showCardMessage(e,u.cardMove,t)},n.showCardUpdateMessage=function(){return this.showMessage(u.cardUpdate)},n.showCardRemoveMessage=function(e,t){return this.showCardMessage(e,u.cardRemove,t)},n.showCardCreateMessage=function(){this.getEnv()},n.showImageError=function(e){if("dimensions"===e.type||e.type===h.b.SIZE)return this.showImageDimensionsError(e.dimensions)},n.showImageDimensionsError=function(e){return this.showMessage(u.imageDimensionSmall,{translate:{dimensions:e}})},n.showImageSizeError=function(e){return this.showMessage(u.imageSizeLarge,{translate:{size:e}})},n.showBoardMessage=function(e,t,n){var r=this.getRouterState();if(r&&(!n||!n.disableNotifications)){var i=e.id?r.getBoardURL(e):null;return n=Object.assign({},n,{translate:{board_title:this.getBoardTitle(e),board_url:i},url:i}),this.showMessage(t,n)}},n.showChannelMessage=function(e,t,n){var r=this.getRouterState();if(r&&(!n||!n.disableNotifications)){var i=e.id?r.getChannelURL(e):null;return n=Object.assign({},n,{translate:{channel_title:e.getTitle(),channel_url:i},url:i}),this.showMessage(t,n)}},n.showBoardCreateMessage=function(e,t){if(this.trigger("board:create",e),t.showNotification)return this.showBoardMessage(e,u.boardCreated,t)},n.showBoardUpdateMessage=function(e,t){return this.trigger("board:update",e),this.showBoardMessage(e,f.boardUpdated,t)},n.showBoardRemoveMessage=function(e,t){return this.trigger("board:remove",e),this.showBoardMessage(e,u.boardRemoved,t)},n.showRemoveCardReadonlyMessage=function(){return this.showMessage(u.removeCardReadonlyDisallowed)},n.showEditCardReadonlyMessage=function(){return this.showMessage(u.editCardReadonlyDisallowed)},n.showMoveCardReadonlyMessage=function(){return this.showMessage(u.moveCardReadonlyDisallowed)},n.showEditBoardReadonlyMessage=function(){return this.showMessage(u.editBoardReadonlyDisallowed)},n.showCompilationMessage=function(e,t,n,r){return this.showMessage(e,i()({},r,{translate:{title:t,url:n},url:n}))},n.showBoardSaveError=function(e,t){if(t)throw e&&t.status===d.v.CONFLICT?e.duplicateNameError():this.showXHRMessage(t),t},n.showBoardCreateError=function(e){e&&(e.status===d.v.CONFLICT?this.showMessage(u.createBoardDuplicate):this.showXHRMessage(e))},n.showComplaintMessage=function(e){return this.showMessage(u.complaintSuccess,e)},n.showComplaintHideMessage=function(e){return this.showMessage(u.cardHided,e)},n.showNoAvailableBallotsMessage=function(){this.showMessage(u.noAvailableBallots)},n.showSaveBallotVoteFailedMessage=function(){this.showMessage(u.saveBallotVoteFailed)},n.showFileParseErrorMessage=function(e){return void 0===e&&(e={}),this.showMessage(u.fileParseError,e)},n.showUserMessage=function(e,t,n){var r=this.getRouterState();if(r&&(!n||!n.disableNotifications)){var i=e.id?r.getProfileURL(e):null;return n=Object.assign({},n,{translate:{user_login:e.getLogin(),user_url:i},url:i}),this.showMessage(t,n)}},n.onAuth=function(e){this.trigger("user:auth",e)},n.onCardRemove=function(){this.trigger("card:remove")},n.onCardLike=function(e){this.trigger("card:like",e)},n.onCardUnLike=function(e){this.trigger("card:unlike",e)},n.onPluginStore=function(e){this.trigger("plugin:store",e)},n.getNotifications=function(){return this.notifications},n.setRouterState=function(e){this.set("routerState",e)},n.getRouterState=function(){return this.get("routerState")},n.setCurrentUser=function(e){this.set("currentUser",e)},n.getCurrentUser=function(){return this.get("currentUser")},n.getBoardTitle=function(e){return e.getTitle()},n.updateDependencies=function(e){this.set(e),this.setEnv(e.env)},t.factory=function(){return this.instance||(this.instance=new t),this.instance},t}(c.a)},"9qq7":function(e,t,n){},"9svB":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/2c07.gif"},"9v4R":function(e,t,n){},"9yiq":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){return"string"==typeof e&&""===e};function i(e){return Object.keys(e).filter((function(t){return null!=e[t]&&!r(e[t])})).reduce((function(t,n){var r=e[n];return Array.isArray(r)?r.forEach((function(e){return t.push([n,String(e)])})):t.push([n,String(r)]),t}),[]).map((function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&")}},"A/00":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zM4.995 3.934L8 6.94l3.005-3.005 1.06 1.061L9.06 8l3.006 3.005-1.061 1.06L8 9.062l-3.005 3.005-1.06-1.061L6.938 8 3.934 4.995l1.06-1.06z"}))}i.defaultProps={viewBox:"0 0 16 16"},e.exports=i,i.default=i},"A/eW":function(e,t,n){},A2YD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){r=!0}}))}catch(e){}},A6Lc:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("cDcd"),i=n("JxqJ"),a=n("6ga4"),o=n("aQo4"),s=n("miTa"),c=n("fFoT");n("7HMk");var u=Object(i.a)((function(e,t){var n=t.boardId;return n?{ownerId:Object(s.a)(e,n),collabs:Object(o.a)(e,n)}:{}}))((function(e){var t,n=e.className,i=e.showOwner,o=e.avatarSize,s=e.ownerAvatarSize,u=e.ownerId,l=e.collabs,d=l&&l.length;return d||i||u?(t=i?l&&l.slice(0,2):l,o||(o="S"),r.createElement("div",{className:Object(a.a)("cl-board-coauthors",{size:o},n)},(i||d&&d<=2)&&r.createElement(c.a,{className:"cl-board-coauthors__avatar",userId:u,size:s||o,verified:!1,insertHref:!1}),t&&t.map((function(e){var t=e.id;return r.createElement(c.a,{key:t,className:"cl-board-coauthors__avatar",userId:t,size:o,verified:!1,insertHref:!1})})))):null}))},"AF+Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("o0o1"),i=n.n(r),a=n("+mVu"),o=n("CZvv"),s=n("x9gI"),c=n("ICaW"),u=n("pryo"),l=n("4RqY"),d=n("nAK0"),h=n("cX81"),f=Object(l.a)((function(e,t){var n,r,l,f,p,b,m;return i.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(n=t.getState,r=t.dispatch,l=t.di,!e){v.next=17;break}if(f=n(),d.d.clickCardEdit({cardId:e}),!Object(s.a)(f,c.d.COLLECTIONS_DESKTOP_ADD_INTERNAL)){v.next=8;break}return v.abrupt("return",r(Object(u.a)({cardId:e,type:"edit"})));case 8:if(!Object(o.a)(f,e)){v.next=11;break}return v.abrupt("return",r(Object(u.a)({cardId:e,type:"edit"})));case 11:return p=Object(a.a)(f,e),b=h.a.dataFactory(p,{parse:!0}),v.next=15,i.a.awrap(l("SidebarState"));case 15:m=v.sent,b&&m.editCard(b);case 17:case"end":return v.stop()}}))}))},AGq3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lc+m"),i=n("om3R"),a=n("i1uP"),o=n("rT8E");function s(e,t){return Object(a.a)(r.a,(function(n){return!!n&&(0===n.id.indexOf(t)||Object(o.a)(Object(i.a)(n))===e)}))}},AHze:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("cDcd"),c=n("JxqJ"),u=n("6ga4"),l=n("BKHA"),d=n("8OQS"),h=n.n(d),f=n("+69i");function p(e){return e.items.map((function(e){return e.id})).join(",")}var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).latestHash=p(t.props.column),t}o()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this,n=p(e.column);return!!["columnsCount","isBulkView"].some((function(n){return e[n]!==t.props[n]}))||n!==this.latestHash&&(this.latestHash=n,!0)},n.render=function(){var e=this.props,t=e.stateKey,n=e.options,r=e.column,i=e.columnsCount,a=e.isBulkView,o=e.Item;if(!r||!n)return null;n&&n.Item&&(o=n.Item);var c=r.items.map((function(e){return s.createElement(o,{key:e.id,item:e,stateKey:t,options:n})}));return s.createElement("div",{className:"cl-masonry__column cl-masonry__column_"+i,style:{paddingTop:r.offset+"px"}},n.teaserWrap?s.createElement(f.a,{mods:{"bookmark-teaser":!0,"under-header":!0,bulk:a}},c):c)},t}(s.Component);function m(e){return e.map(p).join("/")}var v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).latestHash=m(t.props.columns),t}o()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this,n=m(e.columns);return!!["columnsCount","isBulkView"].some((function(n){return e[n]!==t.props[n]}))||n!==this.latestHash&&(this.latestHash=n,!0)},n.render=function(){var e=this.props,t=e.columns,n=e.columnsCount,r=h()(e,["columns","columnsCount"]);return s.createElement(s.Fragment,null,t.map((function(e,t){return s.createElement(b,i()({key:t,column:e,columnsCount:n},r))})))},t}(s.Component);function g(e){var t=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).latestHash=m(e.props.columns),e}o()(n,t);var r=n.prototype;return r.shouldComponentUpdate=function(e){var t=this;if(["height","initColumns","more","overflow","children","isBulkView"].some((function(n){return e[n]!==t.props[n]})))return!0;var n=m(e.columns);return n!==this.latestHash&&(this.latestHash=n,!0)},r.render=function(){var t=this.props,n=t.id,r=t.overflow,a=t.isBulkView,o=t.stateKey,c=t.more,l=t.height,d=t.children,h=t.containerRef,f=t.columns,p=t.initColumns,b=t.options,m=void 0===b?{}:b,g=m.header,O=p?f.slice(0,p):[],_=p?f.slice(p):f,y={stateKey:o,options:m,isBulkView:a,columnsCount:f.length};return s.createElement("div",{className:Object(u.a)("cl-masonry-wrap",{overflow:r,more:c}),id:n,ref:h},s.createElement("div",{className:"cl-masonry-wrap__container",style:{minHeight:r?"auto":l+"px",maxHeight:r?l+"px":"none"}},s.createElement("div",{className:Object(u.a)("cl-masonry",{size:f.length})},O.length>0&&s.createElement("div",{className:Object(u.a)("cl-masonry__wrap",{size:!!_.length&&O.length,max:!_.length})},g&&s.createElement("div",{className:"cl-masonry__header"},g),s.createElement("div",{className:"cl-masonry__columns"},s.createElement(v,i()({Item:e,columns:O},y)))),s.createElement(v,i()({Item:e,columns:_},y)))),d)},n}(s.Component);return Object(c.a)((function(e){return{isBulkView:Object(l.a)(e).visible}}))(t)}n.d(t,"a",(function(){return g}))},ANKn:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("RvyH"),o=n("T6Rw"),s=n("3WeZ"),c=Object(o.a)((function(e,t){var n=Object(a.a)(e);return n&&n.sidebarOpen===t?e:Object(s.a)(e,{layout:i()({},n,{sidebarOpen:t})})}))},ATg4:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M3 12.5C3 14.6 4.2 16 6.3 16h3a26.3 26.3 0 00-.2 2.5c0 2 1.8 3.5 3.6 3.5 1.5 0 1.9-.8 2-2.7a166.7 166.7 0 01.4-2.1c.3-1.4 1-3 1.7-3.9l.5.4c.4.2.9.3 1.5.3h.4c.6 0 1.1-.1 1.5-.3l1-1c.2-.4.3-.9.3-1.5V5.8c0-.6-.1-1.1-.3-1.5a2.3 2.3 0 00-1-1c-.4-.2-.9-.3-1.5-.3h-.4c-.6 0-1.1.1-1.5.3a2.3 2.3 0 00-.6.5c-.7-.5-1.7-.8-3-.8H9.2C7.7 3 6.7 3.6 6 4.5a4 4 0 00-.6 1.2.8.8 0 01-.2.2L5 6l-.4.4-.7 1c-.4.8-.4 1.3-.4 2.2v.6a3 3 0 01-.1.4v.2a4 4 0 00-.4 1.6zm9.8 6.6a106.2 106.2 0 01.3-2.3c.4-2 1.6-4.3 2.9-5.5V7c0-1.4-.5-2-2.3-2H9.2c-.8 0-1.3.2-1.6.7l-.3.6-.6 1-.3.3c-.2 0-.3.2-.3.2a2.6 2.6 0 00-.5.6v1.2a3.3 3.3 0 01-.4 1.9v.1a2 2 0 00-.2.9c0 1 .4 1.5 1.3 1.5h4a1 1 0 011 1.1l-.2 3.4c0 .7.8 1.4 1.5 1.5l.2-1zm7-7.2l-.6.1h-.4l-.6-.1a.3.3 0 01-.1-.1l-.1-.6V5.8l.1-.6a.3.3 0 01.1-.1l.6-.1h.4l.6.1a.3.3 0 01.1.1l.1.6v5.4l-.1.6a.3.3 0 01-.1.1z"}))}i.defaultProps={width:"24",height:"24",id:"dislike-card-24"},e.exports=i,i.default=i},AVFj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return Boolean(e&&e.content&&e.content.length>1)}},"AW/l":function(e,t,n){},AeOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LyO5");function i(e,t){void 0===t&&(t=0);var n=Object(r.a)(e);return n&&n.urls&&n.urls[t]?n.urls[t]:""}},Afbn:function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];if(n&&n._url)return n._url}n.d(t,"a",(function(){return r}))},AhEr:function(e,t,n){"use strict";var r=n("stuq"),i=n("9BmU"),a=n("QLwr"),o=n("LvaR");n.d(t,"a",(function(){return s}));var s=function(e,t){var n,s=Object(i.a)(e);return 0===s?o.free():s?Object(r.a)(t?!(n=s)||n<1e6?n:n>=1e9?a.billion({price:Math.floor(n/1e9)}):n>=1e6?a.million({price:Math.floor(n/1e6)}):void 0:s)+" ₽":""}},Ahwa:function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=e,e=null);var n=t.data.view;return e||(e=n&&n.options&&void 0!==n.options.content?n.options.content:this.content),"function"==typeof e?e.call(n,this):e}n.d(t,"a",(function(){return r}))},Aipb:function(e,t,n){},"Am/A":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("preferences"))},AnPS:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),i=r.router,a=r.hash,o=r.data.view,s=t.shift(),c={};t.length&&(c=t.reduce((function(e,t){return Object.assign(e,t)}),{}));var u=Object.assign(c,a);if(i)return i.reverse(s,u);if(o)return o.getEnv().router.reverse(s,u);throw new Error("Cannot find view context")}n.d(t,"a",(function(){return r}))},B1ly:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({commentsTitle:[function(e){return i(e.count)+" comment"},function(e){return i(e.count)+" comments"},"Comments"]})},B3Rj:function(e,t,n){"use strict";var r=n("dNnX");t.a=r.a.applyDecls()},B8Yn:function(e,t,n){"use strict";function r(e,t,n){return function(r,i){if(r&&i){var a=e(r,i);return a&&a[t]?n(r,a[t].id):void 0}}}n.d(t,"a",(function(){return r}))},BCLc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("T6Rw"),i=n("3WeZ"),a=Object(r.a)((function(e,t){return Object(i.a)(e,{currentBoard:t})}))},BGl9:function(e,t,n){},BKHA:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rpX3"),i=Object(r.a)("bulk",{})},BMkj:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({description:"Are you sure you want to make the collection visible to everyone?"})},BMrr:function(e,t,n){"use strict";var r=n("76oa");t.a=r.a.applyDecls()},BXUJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("is_verified"))},"BZL/":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=1e4,a="img-preloader",o="-9999px",s="10px",c={};function u(e,t){var n=(void 0===t?{}:t).timeout,u=void 0===n?i:n;return new Promise((function(t,n){var i,l=new Image;function d(){clearTimeout(i),c[l.currentSrc]||((r||((r=document.createElement("div")).className=a,r.style.position="absolute",r.style.overflow="hidden",r.style.top=o,r.style.left=o,r.style.width=s,r.style.height=s),r.parentNode||document.body.appendChild(r),r).appendChild(l),c[l.currentSrc]=!0),t(l)}u>0&&(l.src="",i=setTimeout((function(){return n(new Error("Image load timeout("+u+'): "'+e+'"'))}),u)),l.onload=d,l.onerror=function(){n(new Error("Can't load image \""+e+'"'))},l.src=e,l.complete&&l.naturalWidth>0&&l.naturalHeight>0&&d()}))}},"Ba+M":function(e,t,n){},BarE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("X4fP"),i=function(e){return(e?Number(Object(r.a)(e)):0)+1}},BbsN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="READ_ONLY"]=1]=t,e[e[t="READ_WRITE"]=2]=t,e[e[t="ADMIN"]=3]=t,e[e[t="BANNED"]=4]=t,e}({})},BiF8:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.062 19.393a8 8 0 114.33-4.33c-.407.983-.174 1.947-.174 1.947l.582 2.225a.463.463 0 01-.565.565l-2.225-.582s-.947-.24-1.948.175zM15.35 12a3.35 3.35 0 11-6.7 0 3.35 3.35 0 016.7 0z"}))}i.defaultProps={width:"24",height:"24",fill:"#000"},e.exports=i,i.default=i},BiGe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n("pVnL"),i=n.n(r),a=n("x9gI"),o=n("ICaW"),s=n("cVdW"),c=n("dFp+"),u={retsepty:s.feedRecipes(),interery:s.feedInteriors(),"podelki-svoimi-rukami":s.feedDiy(),svadba:s.feedWeddings(),"krasota-i-ukhod":s.feedBeauty(),pricheski:s.feedHairstyles(),priroda:s.feedNature(),sad:s.feedGardening(),"odezhda-i-obuv":s.feedFashion(),puteshestviya:s.feedTravel(),tatuirovki:s.feedTattoo(),avto:s.feedAuto()},l={retsepty:c.feedRecipesNY(),interery:c.feedInteriorsNY(),"podelki-svoimi-rukami":c.feedDiyNY(),"odezhda-i-obuv":c.feedFashionNY(),puteshestviya:c.feedTravelNY(),general:c.feedGeneralNY()},d=i()({general:c.general()},u);function h(e,t){return Object(a.a)(e,o.d.COLLECTIONS_DESKTOP_NY2020)&&l[t]?{title:l[t],custom:!0}:{title:d[t],custom:!1}}},BlF0:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/b274.woff2"},BmkG:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18 13.5c.6 0 1 .5 1 1v3c0 .8-.7 1.5-1.5 1.5h-11c-.8 0-1.5-.7-1.5-1.5v-11C5 5.7 5.7 5 6.5 5h3a1 1 0 0 1 0 2H7v10h10v-2.5c0-.5.4-1 1-1zm-1.7-6.7v-.3l-1.1.3-1.7.2a1 1 0 0 1-1-1c0-.6.4-1 1-1H18c.6 0 1 .4 1 1v4.5c0 .6-.4 1-1 1a1 1 0 0 1-1-1c0-.6 0-1.1.2-1.7l.3-1.1h-.3l-1 1.4-1 1.1-3.5 3.5a1 1 0 1 1-1.4-1.4l3.5-3.5 1-1 1.5-1z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},BpHA:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={retsepty:"food",pricheski:"hairstyles",interery:"interiors"},i=(Object.keys(r).reduce((function(e,t){return e[r[t]]=t,e}),{}),{subscriptions:"subscriptions",retsepty:"recipes",interery:"interiors","podelki-svoimi-rukami":"diy",svadba:"weddings","krasota-i-ukhod":"beauty",pricheski:"hairstyles",priroda:"nature",sad:"gardening","odezhda-i-obuv":"fashion",puteshestviya:"travel",tatuirovki:"tattoo",avto:"auto_and_moto"});Object.keys(i).reduce((function(e,t){return e[i[t]]=t,e}),{})},C4oF:function(e,t,n){"use strict";n.r(t),n.d(t,"translateWrapper",(function(){return u}));var r=n("pVnL"),i=n.n(r),a=n("jwyx"),o=n.n(a),s={};function c(e,t,n,r){var i=t[n];if(r&&i&&r.hasOwnProperty("count")&&Array.isArray(i)&&(i=i[function(e,t,n){var r=e.plural,i=e.count;return 0===Number(t)&&n>i?i:("string"==typeof t&&(t=Number(t.replace(" ",""))),r(t))}(e,r.count,i.length)]),"function"==typeof i)return i(r);if(i&&i.v){if(r&&r.react)return i.r(r);if(r&&r.hvalanka)return i.h.call(r.hvalanka,r);i=i.v}return r&&i&&Object.keys(r).forEach((function(e){i=i.replace("__"+e+"__",(function(){return String(r[e]||"")}))})),i}function u(e,t){void 0===t&&(t="en");for(var n=s[t],r=c.bind(null,n,e),a=Object.keys(e),o=function(t){var o=a[t],s=c.bind(null,n,e,o);s.toString=s,s.r=function(e){return s(i()({react:!0},e))},s.h=function(e){return s(i()({hvalanka:this},e))},s.p=function(e){return s(i()({plain:!0},e))},r[o]=s},u=0;u<a.length;u++)o(u);return r}s.en={plural:o.a,count:2}},C9FQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o}));var r="is_toloker",i="shown_plugin",a="shown_plugin_date",o="allow_chat"},CACh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("rdt4"),i=n("oYiD");function a(e,t){var n=(void 0===t?{}:t).maxDiffDays,a=new r.a(e),o=new r.a,s=o.diff(a),c=s<0?o:a;return n&&s>n*i.a?"":c.fromNow(!0,{locale:"en"})}},CEFX:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M20 5.8A3.3 3.3 0 0116.7 9a3.2 3.2 0 01-2.2-1l-5.2 3 .2 1-.2 1.1 5.2 2.8a3.2 3.2 0 012.3-.9 3.3 3.3 0 110 6.5 3.3 3.3 0 01-3.3-3.3v-.5l-5.4-3c-.6.3-1.2.6-1.8.6a3.3 3.3 0 110-6.5c.6 0 1.3.2 1.8.5l5.4-3v-.6a3.3 3.3 0 116.5 0z"}))}i.defaultProps={width:"24",height:"24",id:"share-card-24-filled"},e.exports=i,i.default=i},CER0:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("o0o1"),i=n.n(r),a=n("WMgd"),o=n("1lnf"),s=n("y144"),c=n("4RqY"),u=Object(c.a)((function(e,t){var n,r,c,u;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=e.boardData,r=e.counter,c=t.dispatch,l.next=4,i.a.awrap(c(Object(a.a)({boardData:n,counter:r})));case 4:return u=l.sent,l.next=7,i.a.awrap(c(Object(o.a)({boardId:u.id,counter:r})));case 7:c(Object(s.a)({value:{},force:!0}));case 8:case"end":return l.stop()}}))}))},CHZ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("+r4z");function i(e,t){return Boolean(Object(r.a)(e)===t)}},CIhk:function(e,t,n){"use strict";var r=n("56Ik"),i=n("HVa/"),a=n("o0o1"),o=n.n(a),s=n("pVnL"),c=n.n(s),u=n("5k1W"),l=n("3lXt"),d=n("y1pN"),h=n("UQOb"),f=n("k0aB"),p=n("0Boe"),b=n("nt9X"),m=n("nUi2"),v=n("osxO"),g=n("aM2i"),O=n("gQdx"),_=n("6MYP"),y=n("U0LE"),C=n("7Jbl"),E=n("4RqY"),j=n("bKlb"),S=n("nAK0"),w=n("n73F"),k=Object(E.a)((function(e,t){var n,r,i,a,s,E,k,I,T,R,L,x,D,N,A,P,B,M;return o.a.async((function(U){for(;;)switch(U.prev=U.next){case 0:return n=e.boardId,r=e.boardData,i=e.counter,a=t.getState,s=t.dispatch,E=t.di,U.next=4,o.a.awrap(E("request"));case 4:return k=U.sent,T=a(),U.next=8,o.a.awrap(E("router"));case 8:if(R=U.sent,L=Object(l.a)(T,n),x=Object(u.a)(r,L,["title","description","is_wishlist","is_private"]),D={title:r.title,description:r.description,is_private:r.is_private,is_wishlist:r.is_wishlist},N=Object(d.a)(T,n),Object(m.a)(N)&&(A=Object(b.a)(N)),!x){U.next=32;break}return U.prev=16,P="/collections/api/boards/"+n,B=Object(p.a)(P,{as_company:A}),U.next=21,o.a.awrap(k.patch(B,D));case 21:I=U.sent,U.next=28;break;case 24:throw U.prev=24,U.t0=U.catch(16),s(Object(j.a)({error:U.t0})),U.t0;case 28:I&&I.id&&(s(Object(O.a)({id:I.id,value:I})),(x.title||void 0!==x.is_wishlist)&&R.replaceQuery({slug:I.slug,wish:r.is_wishlist?"active":void 0},{replace:!0,trigger:!1}),!x.title&&!x.is_wishlist||Object(h.a)(I)||(s(Object(_.a)({boardId:n})),s(Object(g.a)({boardId:n}))),M=Object(f.a)(a(),n),w.a.dataFactory(M,{parse:!0}).set({title:I.title,description:I.description,is_private:I.is_private,is_wishlist:I.is_wishlist})),I=I||L,S.d.finishBoardEdit(c()({boardId:I.id},i)),s(Object(y.a)({type:v.b.BOARD_UPDATED,data:{boardId:I.id}}));case 32:return s(Object(C.a)()),I||(I=L),U.abrupt("return",I);case 35:case"end":return U.stop()}}),null,null,[[16,24]])})),I=n("785c"),T=n("hFHJ");n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return L}));var R=i.b.action(),L=i.b.action(),x=r.a.point(I.c.BOARD_EDIT);i.b.link(i.a,x,L),i.b.link(x,i.a,T.e,C.a),i.b.link(x,i.a,T.g,C.a),i.b.link(x,i.a,R,k),i.b.link(x,i.a,T.b,C.a)},CMmM:function(e,t,n){},CPm8:function(e,t,n){},CSYv:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("Y+Td"),i="function"==typeof Symbol?Symbol("DI.js instance id"):"___di.js",a=/^!?([^.#]+)(\.([^#]+))?(#(.+))?$/,o=Object.keys,s=Object.assign,c=function(e,t){return Object(r.omit)(e,(function(e,n){return n===t}))},u=0,l=function(e,t,n){if(e&&e.then)return e.then(t,n);try{return t(e)}catch(e){return n?n(e):Promise.reject(e)}},d=function(e,t,n){if(e.some((function(e){return Boolean(e&&e.then)})))return Promise.all(e).then(t,n);try{return t(e)}catch(e){return n?n(e):Promise.reject(e)}},h=function(e){var t=e?e.match(a):null;if(!t)throw new Error("Unknown module format: "+JSON.stringify(e));var n=t[1],r=t[3],i=t[5];if("!"===e[0]){var o={reuse:n};return r&&(o.factory=r),i&&(o.update=i),o}return{parentId:e,bundleName:n,factory:r,update:i}},f=function(e,t){var n={id:e};if("string"==typeof t)s(n,h(t));else if(Object(r.isArray)(t))"object"==typeof t[0]?s(n,t[0]):s(n,h(t[0]),{dependencies:t[1]});else if(Object(r.isObject)(t))s(n,h(e),{dependencies:t});else{if("string"!=typeof e||t)throw new Error("Unknown type of dependency definition");s(n,h(e))}var i=n.dependencies;return i&&i.static&&(n.static=i.static,n.dependencies=c(i,"static")),n},p=function(e){return e.reuse?Object(r.defaults)(e,{dependencies:{}}):Object(r.defaults)(e,{factory:"factory",update:"updateDependencies",dependencies:{}})},b=function(e){if(!0===e.__esModule)return e.default?e.default:Object(r.find)(e,(function(e){return Object(r.isFunction)(e)||Object(r.isObject)(e)}));if("object"==typeof e){var t=Object.getOwnPropertyNames(e).map((function(t){return Object.getOwnPropertyDescriptor(e,t)})).find((function(e){return e.get}));if(t)return t.get()}return e},m=function(){return function(e,t){var n=e.Module,r=e.factory,i=e.id;if(n[r])return l(n[r](t),(function(e){if(!e)throw new Error('Factory "'+i+"."+r+'" return instance of '+typeof e+" type");return e}));if(r&&"factory"!==r)throw new Error('Module "'+i+'" has no factory with name "'+r+'"')}},v=function(){return function(e,t){var n=e.Module,r=e.id,i=typeof n;if("function"!==i)throw new Error('Module "'+r+'" cannot be constructed, because has '+i+" type");return new n(t)}},g=function(e){var t=void 0===e?{}:e,n=t.resolvers,a=void 0===n?[]:n,O=t.dependencies,_=void 0===O?{}:O,y=t.factories,C=void 0===y?[m(),v()]:y,E=t.definitions,j=void 0===E?function(e){var t={},n=function(a){Object(r.forEach)(a.dependencies,(function(o,s){if("object"!=typeof o||Object(r.isArray)(o)||(o=[s,o]),"string"!=typeof o||e[o]||(h(o).bundleName===o?e[o]=i(o).id:o=[o,{}]),Object(r.isArray)(o)){var c=a.id+"/"+s;e[c]=o;var u=i(c);t[u.id]=u,a.dependencies[s]=u.id,n(u)}}))},i=function(a){if(t[a])return t[a];var o,c=f(a,e[a]);if(c.reuse){var u=i(c.reuse);(c=s(Object.create(u),c)).parentId=c.id,c.dependencies=s({},u.dependencies,c.dependencies)}if(c.id!==c.parentId)if((o=e[c.parentId]?c.parentId:c.bundleName)===a)c.parentId=c.bundleName,c=p(c);else{var l=i(o);if(l.reuse){var d=i(l.reuse);c=s(Object.create(d),c)}(c=Object(r.defaults)(c,l)).parentId=o,c.bundleName=l.bundleName,c.dependencies!==l.dependencies&&(c.dependencies=s({},l.dependencies,c.dependencies),c.dependencies=Object(r.omit)(c.dependencies,(function(e){return null==e}))),l.static&&(c.static=s({},l.static,c.static))}else c=p(c);return n(c),t[a]=c};return o(e).forEach(i),t}(_):E,S=t.resolve,w=void 0===S?function(e){var t={};return function(n){var r=e.slice();if(t[n])return t[n];var i=function(){if(r.length){var e=r.shift();return l(e(n),(function(e){return e?t[n]=e:i()}))}};return t[n]=i()}}(a):S,k=t.factory,I=void 0===k?function(e){return function(t,n){var r=e.slice(),i=function(){var e=r.shift();return l(e(t,n),(function(e){return e||(r.length?i():void 0)}))};return i()}}(C):k,T=[],R=function(e){return e.Module?e.Module:l(w(e.bundleName),(function(t){if(!t)throw new Error('Cannot find bundle with name "'+e.bundleName+'"');return e.Module=b(t),t}))},L=function(e){if("string"==typeof e)return j[e]?j[e]:j[e]=p(f(e,{}));throw new Error("Unknown module: "+JSON.stringify(e))},x=function(e,t){var n,a=L(e),o=function(e,t){var n=e.instance;return n&&n.isInstanceValid?n.isInstanceValid(t):Boolean(n)}(a,t),s=function(e,t){return!t||e.diSessionId!==t}(a,t.diSessionId)||!o;return a._progress?a._progress:a.hasOwnProperty("instance")&&a.instance&&!s?a.instance:(a._progress=l((n=[N(a,t),a.instance?null:R(a)],d(n,(function(e){var n=e[0];return n.definition=a,l(a.instance&&o?a.instance:I(a,n),(function(e){if(!e)throw new Error('Factory of "'+a.id+'" return instance of '+typeof e+" type");if(e[i]=a.id,a.diSessionId=t.diSessionId,Object(r.isFunction)(e[a.update])){if(s)return l(e[a.update](n),(function(t){return t&&e!==t&&t instanceof e.constructor?(T.push(e),t):e}))}else if(a.update&&"updateDependencies"!==a.update)throw new Error('Module "'+a.id+'" has no instance method with name "'+a.update+'"');return e}))}))),(function(e){if(a.instance=e,a.reuse){var n=L(a.reuse);n.instance=e,n.diSessionId=t.diSessionId}return e})),l(a._progress,(function(e){return a._progress=null,e}),(function(e){throw a._progress=null,e})))},D=function(e,t,n){void 0===n&&(n=!0);var i=n?s({},t):{};if(e){var a=Object(r.map)(e,(function(e,n){return l(x(e,t),(function(e){return i[n]=e}))}));return d(a,(function(){return i}))}return i},N=function(e,t){return l(D(e.dependencies,t),(function(t){return e.static?s(t,e.static):t}))},A=function(e,t){var n=e.instance;n&&(e.reuse?delete e.instance:(P(n,t),e.instance=null))},P=function(e,t){var n=void 0===t?{}:t,a=n.trigger,o=void 0===a||a,s=n.destroy,c=void 0===s||s;try{e[i]&&(o&&Object(r.isFunction)(e.trigger)&&e.trigger("di:destroy"),c&&Object(r.isFunction)(e.destroy)&&e.destroy(),e[i]=void 0)}catch(e){console.error(e)}},B=function(e,t){return void 0===t&&(t={}),"string"==typeof e?x(e,t):D(e,t,!1)};return B.session=function(e){void 0===e&&(e={});var t="di"+u++;e.diSessionId=t;var n,i=function(t,n){return void 0===n&&(n={}),s(n,e),B(t,n)};return i.load=i,i.close=function(e){for(Object(r.forEach)(j,(function(n){var r=n.instance;!n.isPersistent&&n.diSessionId&&n.diSessionId!==t&&r&&A(n,e)}));T.length;){var n=T.shift(),i=B.getInstanceDefinition(n);i&&n===i.instance||P(n,e)}},(n=B,o(n).filter((function(e){return Object(r.isFunction)(n[e])}))).forEach((function(e){i[e]=B[e]})),i},B.put=function(e,t,n){var r=L(e);return s(r,{instance:t,isPersistent:!0},n),t[i]=r.id,this},B.serialize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={},a=Object(r.filter)(j,(function(e){if(e.hasOwnProperty("instance")){var t=e.instance;return t&&Object(r.isFunction)(t.serialize)}})),o=a.map((function(e){var n=e.id,r=e.instance;return l(r.serialize.apply(r,t),(function(e){return i[n]=e}))}));return d(o,(function(){return i}))},B.restore=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=Object(r.map)(e,(function(e,t){return B.restoreModule.apply(B,[t,e].concat(n))}));return d(a,(function(e){return e}))},B.restoreModule=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=L(e);return l(R(i),(function(e){var t;if(!(e=b(e)).restore)throw new Error("Cannot restore module");return l((t=e).restore.apply(t,n),(function(e){return i.instance=e}))}))},B.getDefinitions=function(){return j},B.getDefinition=function(e){return L(e)},B.getInstanceDefinition=function(e){if(e){var t=e[i];if(t)return j[t];for(var n=o(j),r=0;r<n.length;r++){var a=n[r];if(j[a].instance===e)return j[a]}}},B.destroy=function(e){Object(r.forEach)(j,(function(t){return A(t,e)}))},B.annihilate=function(){B.destroy(),Object.keys(j).forEach((function(e){Object.keys(j[e]).forEach((function(t){delete j[e][t]})),delete j[e]}))},B.clone=function(e){var t=(void 0===e?{}:e).cloneInstances,n=void 0!==t&&t,i={},a=[],o=function(e,t){void 0===t&&(t={});var r,i=Object.create(t);return s(i,n?e:c(e,"instance")),i.dependencies=(r=i.dependencies,s({},r)),i};return Object(r.forEach)(j,(function(e,t){e.reuse?a.push({definition:e,id:t}):i[t]=o(e)})),a.forEach((function(e){var t=e.definition,n=e.id;i[n]=o(t,i[t.reuse])})),g({resolve:w,definitions:i,factory:I})},B.loadModuleBundle=function(e){return R(L(e))},B}},CUhL:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("cDcd"),c=n("nAK0"),u=n("Pxkf"),l=function(e){var t=e.children,n=o()(e,["children"]),r=Object(u.a)();return s.createElement(c.b.Provider,{value:i()({},r,{},n)},t)}},CXpC:function(e,t,n){"use strict";var r=n("lPPs"),i=n("/KRU"),a=n("7z6F"),o=n("RoKP"),s=n("Gmy3"),c=n("Yxky"),u=n("ag8l"),l=n("om3R"),d=n("Jxqj"),h=n("o/ci"),f=n("4UlD"),p=n("1RcF"),b=n("gdZZ"),m=n("3M9W"),v=n("W/Rk"),g=n("lpMR"),O=n("MTjZ"),_=n("8KBr"),y=n("CsIx"),C=n("gLBg");function E(e,t){var n={};if(!t||!e)return n;var E=Object(a.a)(t);n.card_title=function(e){if(e)return e.recipe?Object(u.a)(e):e.object_answer?Object(s.a)(e):e.market?Object(o.a)(e.market):e.organization?Object(c.a)(e):void 0}(t);var j=t.board&&t.board.id;if(Object(y.a)(Object(O.a)(e)))n.eventName=C.a.FAVORITES_TYPE;else if(j||t.owner)n.board_title=Object(r.a)(Object(i.a)(e,t.id)),n.owner_login=Object(_.a)(Object(d.a)(e,t.id)),Object(g.a)(Object(l.a)(t))?n.prefix="Video":E&&(n.prefix="WithDescription",n.card_title=E);else{var S;S=Object(b.a)(t)?"VirtualGeo":Object(f.a)(t)?"VirtualMarket":Object(m.a)(t)?"VirtualOrganization":Object(v.a)(t)?"VirtualRecipe":Object(p.a)(t)?"VirtualGame":"VirtualCard",n.prefix=S,E&&"VirtualCard"===S&&(n.card_title=E)}return Object(h.a)(t)&&(n.prefix="Banned"),n.eventName=n.eventName||"card",n}n.d(t,"a",(function(){return E}))},CYZy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=(n("wy7W"),function(e,t){return e[e[t="CARD"]="cards"]=t,e[e[t="SIMILAR_CARD"]="similarCard"]=t,e[e[t="SIMILAR_BOARDS_AFTER_SUBSCRIPTION"]="similarBoardsAfterSubscription"]=t,e[e[t="BOARD"]="boards"]=t,e[e[t="CHANNEL"]="channels"]=t,e[e[t="CHANNEL_BOARDS"]="channelBoards"]=t,e[e[t="EXTENSION"]="extension"]=t,e[e[t="AUTH"]="auth"]=t,e[e[t="PSEUDO"]="pseudo"]=t,e[e[t="CHANNEL_CAROUSEL"]="channelCarousel"]=t,e[e[t="BOARDS_CAROUSEL"]="boardsCarousel"]=t,e[e[t="EDITORS_CHOICE"]="editorsChoice"]=t,e[e[t="FEED_ONBOARD"]="onboard"]=t,e[e[t="RTB_BANNER"]="rtbBanner"]=t,e[e[t="BOARD_FOOTER"]="boardFooter"]=t,e[e[t="USER_RECENT"]="userRecent"]=t,e[e[t="FEED_BOARD"]="feedBoard"]=t,e[e[t="CARD_RECOMMENDATION"]="cardRecommendation"]=t,e}({})),o={},s=[];function c(e,t){var n=[],r={},a=o[t.id],c={},u=t.entries.filter(Boolean),l={},d=!a;if(u.forEach((function(t){var n,r=t.storeKey,i=t.infinite;n=t.items||(i?s:e[r]&&e[r].results),d||a.prev[r]===n||(d=!0),c[r]=n})),!d)return a.value;u.forEach((function(t){var n=t.storeKey,i=t.items,a=t.infinite;if(i)r[n]=i.slice(),l[n]=!0;else if(a)r[n]=[];else{var o=e[n];o&&o.results?r[n]=o.results.slice():r[n]=[]}}));for(var h,f=!0,p=1e4;f&&p--;){var b=n.length;f=!1;for(var m=0;m<u.length;m++){var v=u[m],g=v.storeKey,O=v.infinite,_=v.type,y=v.start,C=v.step,E=v.options,j=v.meta,S=v.items;if(r[g].length||O){if(b>=y&&(0===C&&b===y||(b-y)%C==0)){var w=O?i()({id:"infinite-"+b,index:b},E):r[g].shift(),k=_&&e.entities[_]&&e.entities[_][w.id];n.push({sid:t.id,id:g+"/"+w.id,storeKey:g,type:_||g,item:k||w,position:b,meta:j}),f=!0;break}}else if(!l[g]&&e[g]&&e[g].next&&!S&&b>=y&&(b-y)%C==0){f=!1,h=g;break}}}var I={nextStoreKey:h,result:n};return o[t.id]={prev:c,value:I},I}},CZvv:function(e,t,n){"use strict";var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("meta")),s=n("izju");n.d(t,"a",(function(){return c}));var c=Object(i.a)(r.a,(function(e){var t=o(e);return Boolean(t&&t.type===s.a.PRODUCT)}))},Cj3a:function(e,t,n){"use strict";var r=n("DqoW");t.a=r.a.applyDecls()},CmRB:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("EVdn"),i=n("LGxj"),a=n("bmsa"),o=n("E5ki"),s=n("mtHV"),c=new i.a;c.$=r,c.Model=a.a,c.Collection=o.a,c.View=s.a,c.Events=new i.a,t.b=c;var u=a.a;o.a,s.a,i.a},CsAx:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/03b5.woff2"},CsIx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("is_restricted"))},"D+d4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("VbXa"),i=n.n(r),a=n("cDcd"),o=n("8yzE"),s=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.unregister&&(this.unregister(),this.unregister=void 0)},n.componentDidMount=function(){var e=this.props,t=e.keyCode,n=e.callback,r=e.options;Object(o.b)(t,n,r),this.unregister=function(){return Object(o.d)(t,n)}},n.render=function(){return this.props.children||null},t}(a.Component)},D5L8:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=function(e,t){return e[e[t="DEFAULT"]="default"]=t,e[e[t="CLASSIC"]="classic"]=t,e}({}),i=function(e,t){return e[e[t="NORMAL_SMALL"]="ns"]=t,e[e[t="EXTRA_SMALL"]="xs"]=t,e[e[t="SMALL"]="s"]=t,e[e[t="MEDIUM"]="m"]=t,e[e[t="NORMAL"]="n"]=t,e[e[t="LARGE"]="l"]=t,e[e[t="HEAD"]="head"]=t,e}({}),a=function(e,t){return e[e[t="ACTION"]="action"]=t,e[e[t="CLEAR"]="clear"]=t,e[e[t="LINK"]="link"]=t,e[e[t="NORMAL"]="normal"]=t,e[e[t="PSEUDO"]="pseudo"]=t,e[e[t="RAISED"]="raised"]=t,e}({}),o=function(e,t){return e[e[t="DEFAULT"]="default"]=t,e[e[t="RED"]="red"]=t,e[e[t="GREY"]="grey"]=t,e[e[t="DARK"]="dark"]=t,e}({})},D8p6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n("+wBA"),i=n("WB5C"),a="ei_guide_cards_step",o="DesktopMainGuideAdd",s=1;function c(e){return Object(i.a)(e)&&Object(r.a)(e,a,s)}},DB3B:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HVa/"),i=r.b.action();r.b.action(),n("muJa")},DBAK:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/26bf.gif"},DKyp:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("3lXt"),o=n("RWwA"),s=n("/Oqo"),c=n("CsIx");function u(e,t){if(Object(c.a)(e)){var n=Object(s.a)(e)||{},r=t+"_cards";return"number"==typeof n[r]?n[r]:0}return 0}var l=n("euOF"),d=n("Pm7h"),h=n("XPFG"),f=n("0Boe"),p=n("+r4z"),b=n("MTjZ"),m=n("c+Ap"),v=n("gLBg"),g=n("/bNA"),O=n("WXND"),_=n("DQJ2"),y=n("0ikO"),C=n("lm6b"),E=n("TChA"),j=n("4RqY"),S=n("dICJ"),w=n("4Hw2"),k=n("wBxh"),I=n("nAK0");n.d(t,"a",(function(){return x}));var T={cards:function(e){return"/collections/api/cards/"+e+"/"},boards:function(e){return"/collections/api/boards/"+e+"/"}},R={cards:function(e){return I.d.finishCardRemove({cardId:e})},boards:function(e){return I.d.finishBoardRemove({boardId:e})}},L={cards:function(e,t){var n,r,s,c,f,g;return i.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:if(n=t.dispatch,r=t.getState,s=e.board.id,c=r(),e.id===Object(h.a)(Object(d.a)(c))&&n(Object(C.a)({skipStack:!0})),Object(p.a)(c)!==v.a.MAIN){_.next=10;break}if(!(f=c.userCards)||!f.results||1!==f.results.length){_.next=10;break}if(f.results[0].id!==e.id){_.next=10;break}return _.next=10,i.a.awrap(n(Object(w.a)({})));case 10:if(g=[n(Object(k.a)({})),n(Object(E.a)({id:e.id}))],Boolean(e.competitions)&&n(Object(S.a)()),!Object(l.a)(r(),s)){_.next=16;break}return _.abrupt("return",Promise.all(g).then((function(){var e=r(),t=Object(b.a)(e),i=Object(a.a)(e,s),c=Object(o.a)(i),l={cards_count:u(t,c)};n(Object(y.a)({id:s,value:l})),n(Object(y.a)({id:m.r+"-"+c,value:l}))})));case 16:return g.push(n(Object(O.a)({boardId:s}))),_.abrupt("return",Promise.all(g));case 18:case"end":return _.stop()}}))},boards:function(e,t){var n=t.dispatch,r=e.id;return Promise.all([n(Object(k.a)({})),n(Object(_.a)({boardId:r}))])}},x=Object(j.a)((function(e,t){var n,r,a,o,s,c,u,l,d,h,p,b,m;return i.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return n=e.id,r=e.storeKey,a=e.asCompanyLogin,o=t.getState,s=t.dispatch,c=t.di,u=o().entities[r],l=u&&u[n],d=T[r],h=R[r],v.next=8,i.a.awrap(c("request"));case 8:if(p=v.sent,!l||!d){v.next=13;break}return b=d(n),m=Object(f.a)(b,{as_company:a}),v.abrupt("return",p.del(m).then((function(){var e=L[r];e&&(h&&h(n),e(l,{dispatch:s,getState:o}))})).catch((function(e){throw g.a.showXHRMessage(e),e})));case 13:return v.abrupt("return",Promise.resolve());case 14:case"end":return v.stop()}}))}))},DMNr:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("U+yc"),c=n.n(s),u=n("cDcd"),l=n("JxqJ"),d=n("LH8O"),h=n("6ga4"),f=n("vjVR"),p=n("EvZm");n("o10p");var b,m,v,g,O,_=function(e){var t,n=e.className,r=e.items,i=e.shadow,a=e.children,o=e.itemRef,s=e.props;return r&&r.length||a?(s&&(s["data-e2e"],t=s.style),u.createElement("ul",{className:Object(h.a)("cl-popup-menu",{shadow:i},n),style:t,ref:o},r&&r.map((function(e,t){var n=e.title,r=e.point,i=e.onClick;return e.e2eLabel,u.createElement("li",{className:"cl-popup-menu__item",onClick:i,key:t},u.createElement("span",{className:"cl-popup-menu__label"},n,r&&u.createElement("span",{className:"cl-popup-menu__label-point"})))})),Boolean(a)&&u.Children.map(a,(function(e){return e&&u.createElement("li",{className:"cl-popup-menu__item"},e)})))):null};n.d(t,"a",(function(){return E}));var y={passive:!0,capture:!1},C=(b=Object(d.a)(),m=Object(d.a)(),v=Object(d.a)(),g=Object(d.a)(),O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={visible:!1},t}o()(t,e);var n=t.prototype;return n.toggleVisible=function(){var e=this.props,t=e.counterSender,n=e.onVisibilityChange,r=!this.state.visible;t&&t(i()({},this.props.counter,{visible:r})),this.setState({visible:r}),this.openerClick=!0,this.toggleListeners(r),n&&n(r)},n.toggleListeners=function(e){e?(window.addEventListener("click",this.onDocumentClick),window.addEventListener("keydown",this.onDocumentKeyDown),window.addEventListener("scroll",this.onDocumentScroll,y)):(window.removeEventListener("click",this.onDocumentClick),window.removeEventListener("keydown",this.onDocumentKeyDown),window.removeEventListener("scroll",this.onDocumentScroll,y))},n.onDocumentScroll=function(){this.onClickOut()},n.onDocumentClick=function(){this.openerClick?this.openerClick=!1:this.onClickOut()},n.onDocumentKeyDown=function(e){e.keyCode===f.c&&this.onClickOut()},n.onClickOut=function(){this.toggleVisible()},n.componentWillUnmount=function(){this.toggleListeners()},n.render=function(){var e=this.props,t=e.className,n=e.buttonProps,r=e.popupMenuProps,a=e.itemRef,o=e.children,s=this.state.visible;return u.createElement("div",{className:Object(h.a)("cl-button-popup-menu",{},t),ref:a},u.createElement(p.a,i()({},n,{mods:i()({state:!!s&&"check"},n.mods),onClick:this.toggleVisible})),s&&u.createElement(_,r),o)},t}(u.Component),c()(O.prototype,"toggleVisible",[b],Object.getOwnPropertyDescriptor(O.prototype,"toggleVisible"),O.prototype),c()(O.prototype,"onDocumentScroll",[m],Object.getOwnPropertyDescriptor(O.prototype,"onDocumentScroll"),O.prototype),c()(O.prototype,"onDocumentClick",[v],Object.getOwnPropertyDescriptor(O.prototype,"onDocumentClick"),O.prototype),c()(O.prototype,"onDocumentKeyDown",[g],Object.getOwnPropertyDescriptor(O.prototype,"onDocumentKeyDown"),O.prototype),O),E=Object(l.b)()(C)},DMoZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("ukm6"),o=Object(r.a)(a.a,Object(i.a)("sideblock"))},DPpg:function(e,t,n){"use strict";var r=n("c+Ap"),i=n("/bNA");function a(e){return function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a.size<=r.C.byte&&t.push(a)}return t.length<e.length&&i.a.showImageSizeError(r.C.label),t}(function(e){for(var t=[],n=0;n<e.length;n++)(e[n].type.match(/^image\//)||""===e[n].type)&&t.push(e[n]);return t}(e))}n.d(t,"a",(function(){return a}))},DQJ2:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("o0o1"),i=n.n(r),a=n("y1pN"),o=n("+3en"),s=n("+r4z"),c=n("gLBg"),u=n("4RqY"),l=n("3tUY"),d=n("kxd7"),h=["boardBoards","userBoards","userBoardsSidebar"],f=Object(u.a)((function(e,t){var n,r,u,f,p,b;return i.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=e.boardId,r=t.getState,u=t.dispatch,f=r(),m.next=5,i.a.awrap(Promise.all(h.map((function(e){if(f[e])return u(Object(d.a)({storeKey:e,id:n}))}))));case 5:if(f=r(),p=Object(o.a)(f),b=Object(a.a)(f,p),Object(s.a)(f)!==c.a.BOARD||!p||p.id!==n||!b){m.next=10;break}return m.abrupt("return",u(Object(l.a)({url:Object(c.L)(b.login)})));case 10:case"end":return m.stop()}}))}))},DSRK:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("3lXt"),i=n("lPPs"),a=n("/KRU"),o=n("IWXk"),s=n("gLBg"),c=n("rreP"),u=n("4RqY"),l=n("7wgA"),d=Object(u.a)((function(e,t){var n,u=e.id,d=e.storeKey,h=t.getState,f=t.dispatch,p=h();switch(d){case"cards":var b=Object(a.a)(p,u);if(b){var m=Object(o.a)(p,b.owner.id)||{};n=l.cardRemove.r({board_url:"https://yandex.ru"+Object(s.f)(m.login,b.slug),board_title:Object(i.a)(b)})}break;case"boards":var v=Object(r.a)(p,u);v&&(n=l.boardRemoved.r({board_title:Object(i.a)(v)}))}n&&f(Object(c.a)({id:u,message:n}))}))},DUEF:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({boardUpdated:"Changes saved"})},DVNm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=Object(a.a)((function(e,t){var n=t.id,r=e.notifications,a=void 0===r?[]:r,o=a.filter((function(e){return e.id!==n}));return a.length===o.length?e:i()({},e,{notifications:o})}))},DdyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("uPfy"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("title"))},Df4F:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=.75,i="360x270",a=.3125},Dlre:function(e,t,n){},DnAm:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("PEpF");t.a=Object(a.decl)({block:"user-account",attrs:function(){return i()({},this.__base.apply(this,arguments),{},{})}})},DyDS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=n("3WeZ"),s=Object(a.a)((function(e){return Object(o.a)(i()({},e,{notifications:[]}),{})}))},E097:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({cardSave:{v:'Card added to the collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card added to the collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card added to the collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}}})},EBe9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_invite",!1))},EF4d:function(e,t,n){"use strict";var r=n("PEpF");Object(r.decl)({block:"textinput",content:function(e){var t=e.children;return this.__base.apply(this,arguments).concat(t)}})},EFK4:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({title:function(e){return'Are you sure you want to remove the collection "'+i(e.title)+'"?'},description:"All cards will be lost from it",cancelLabel:"Отмена",confirmLabel:"Удалить"})},EJzq:function(e,t,n){},ERar:function(e,t,n){"use strict";var r=n("Ogzi");t.a=r.a.applyDecls()},ETjY:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("NVra"),i=n("y1pN"),a=n("+3en"),o=n("XPFG"),s=n("7kld"),c=n("plOZ"),u=n("c+Ap"),l=n("4RqY"),d=Object(l.a)((function(e,t){var n=(0,t.getState)(),l=Object(a.a)(n),d=Object(i.a)(n,Object(o.a)(l)),h=Object(s.a)(d),f=Object(c.a)(d);h&&f&&Object(r.a)(n,{id:u.ab,idOnly:!0}).reachGoal("COLLECTIONS_EDIT_ACTION",{permalink:h})}))},EemP:function(e,t,n){"use strict";var r=n("rpDg");t.a=r.a.applyDecls()},EgTM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YFOV"),i=Object(r.a)("channels")},Ek58:function(e,t,n){},ElOb:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l}));var r=n("Zoo8");function i(e){return String(r.f[e]||e).replace(/s$/,"")}function a(e){return 4800*e/146097}function o(e){return 146097*e/4800}function s(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function c(e){return e<0?Math.floor(e):Math.ceil(e)}function u(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function l(e){return r.i[e]||r.i.ru||r.i[Object.keys(r.i)[0]]}},Eo2z:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("tld","ru"))},ErrP:function(e,t,n){},EsBG:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=function(){function e(){}var t=e.prototype;return t.getTestParams=function(){var e={};if(this.env){var t=this.env,n=t.testId,r=t.expConfs,i=t.query;n&&(e["test-id"]=n),r&&(e.exp_confs=r),i&&i.exp_flags&&(e.exp_flags=i.exp_flags)}return e},t.get=function(e,t){if(t&&t.metadata){var n=Date.now(),r={_url:e},a=t&&t.data,o=t&&t.headers;return a&&(r._query=a),o&&(r._headers=o),this._get(e,t).then((function(e){return r._time=Date.now()-n,Array.isArray(e)&&(e={results:e}),i()({},r,{},e)}))}return this._get(e,t)},t.getJson=function(e,t){return this.get(e,t)},t._get=function(e,t){return this.sync("read",null,i()({url:e},t))},t.postData=function(e,t,n){return this.sync("create",null,i()({url:e,data:t},n))},t.post=function(e,t,n){var r=t instanceof FormData;return this.postData(e,r?t:JSON.stringify(t),i()({},r?{dataType:"json",contentType:!1,processData:!1}:{contentType:"application/json"},{},n))},t.put=function(e,t,n){return this._syncJSON("update",e,t,n)},t.patch=function(e,t,n){return this._syncJSON("patch",e,t,n)},t.del=function(e,t,n){return this._syncJSON("delete",e,t,n)},t._syncJSON=function(e,t,n,r){return this.sync(e,null,i()({url:t,data:n?JSON.stringify(n):void 0,contentType:"application/json"},r))},e}(),c=n("x9gI"),u=n("ICaW"),l=3,d=n("7e2C"),h=function(){function e(e){this.timeInterval=0,this.minErrorShare=0,this.minErrorCount=0,this.isEnabled=!1,this.errorCount=0,this.successCount=0,this.isSendingScheduled=!1;var t=Object(c.a)(e,u.d.COLLECTIONS_CLIENT_500);if(t){var n=function(e){var t=0,n=0,r=0;if(e&&"string"==typeof e){var i=e.split(",");if(i.length!==l)return[0,0,0];if(t=Number(i[0]),n=Number(i[1]),r=Number(i[2]),isNaN(t)||isNaN(n)||isNaN(r))return[0,0,0]}return[t,n,r]}(t),r=n[0],i=n[1],a=n[2];this.timeInterval=r,this.minErrorShare=i,this.minErrorCount=a,this.isEnabled=!0}}var t=e.prototype;return t.trackSuccess=function(){var e=this;this.isEnabled&&(this.successCount++,this.timeInterval&&setTimeout((function(){e.successCount--}),1e3*this.timeInterval))},t.trackError=function(){var e=this;if(this.isEnabled){this.errorCount++;var t=this.minErrorCount<=this.errorCount&&this.errorCount/this.successCount>=this.minErrorShare;if(this.timeInterval){var n=1e3*this.timeInterval;!this.isSendingScheduled&&t?(this.isSendingScheduled=!0,setTimeout((function(){e.isSendingScheduled=!1,e.sendLog(),e.errorCount--}),n)):setTimeout((function(){e.errorCount--}),n)}else t&&this.sendLog()}},t.sendLog=function(){Object(d.a)("client-request-500")},e}(),f=n("1XU/"),p=n("Wopx"),b=n("Z0W1"),m=n("+r4z"),v=n("/Epz"),g=n("y6Xm"),O=n("ukm6"),_=Object(v.a)(O.a,Object(g.a)("add")),y=Object(v.a)(_,Object(g.a)("options")),C=Object(v.a)(y,Object(g.a)("sourceName")),E=n("gLBg"),j="yandexsearch",S="yabrowser",w=function(e,t){return e[e[t="touch"]="touch"]=t,e[e[t="desktop"]="desktop"]=t,e[e[t="pad"]="pad"]=t,e}({}),k=["Android","iOS"];function I(e){var t=function(e){return e.isTablet?w.pad:e.isMobile?w.touch:w.desktop}(e),n=function(e){if(k.includes(e.OSFamily))return e.OSFamily.toLocaleLowerCase()}(e);return n?t+"."+n:t}var T=n("0Boe"),R=n("c+Ap"),L=n("EVdn"),x=n.n(L),D=n("QEzC"),N=n("Y+Td");n.d(t,"a",(function(){return P}));var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"},P=function(e){function t(t){var n,r=void 0===t?{}:t,i=r.logger,a=r.env;return(n=e.call(this)||this).env=a,n.logger=i,n.errorLogger=new h({env:a}),n}o()(t,e);var n=t.prototype;return n.sync=function(e,t,n){if(t||(t={trigger:function(){}}),"read"===e){n.cache=!1!==n.cache;var r=3;return n&&"retries"in n&&(r=n.retries),this._makeRetryRequest(e,t,n,r)}return this._makeRequest(e,t,n)},n._makeRequest=function(e,t,n){var r=this;return new Promise((function(a,o){var s,c=Date.now(),u=n.success,l=n.error,d=r.logger,h=r.errorLogger,f=3,v=function(e){var t=e.getResponseHeader("x-csrftoken");t&&D.a.setItem("csrftoken",t)},g=function(){var a,o,s,c,u=i()({},n);if(u.headers=u.headers||{},!u.insecure){var l=D.a.getItem("csrftoken");l&&(u.headers["X-CSRFToken"]=l),r.env&&(u.headers["x-req-id"]=r.env.getRequestId(),r.env.isRobot&&(u.headers["Y-Collections-Robot"]=1))}if("read"!==e){var d=(a={env:r.env,event:r.env.event},o=Object(b.a)(a),c={source_name:s=function(e){var t=Object(p.a)(e);return Object(m.a)(e)===E.a.ADD_FLOW?C(e)||"lego":t.isYandexApp?j:t.isBrowserApp?S:t.isEmbed?"plugin":"collections"}(a),ui:I(o)},[S,j].includes(s)&&(c.source_version=o.BrowserVersion),c),h=u.url||Object(N.result)(t,"url");u.url=Object(T.a)(h,d)}var f=r.getTestParams();Object.keys(f).length&&r.env&&("read"===e?u.data=i()({},f,{},u.data):u.url=Object(T.a)(u.url,f)),r._sync(e,t,u)},O=function(e){e.getResponseHeader(R.Q)&&r._checkCookieReset()},_=function(){return{response:{url:s.url,method:s.method,statusCode:s.status,time:Date.now()-c}}};n.xhr=function(){return(s=new XMLHttpRequest).open=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.method=t[0],s.url=t[1],XMLHttpRequest.prototype.open.apply(this,t)},s},n.success=function(e,t,n){v(n),O(n),function(e){return!!e&&-1===String(e.url).indexOf("/collections/counters")}(s)&&d&&d.info(_()),u&&u.call(this,e,t,n),h.trackSuccess(),a(e)},n.error=function(t,r,i){var a=t.status;if(v(t),O(t),a===R.v.CREATED||a===R.v.MULTI_STATUS||!n.notHideErrorNotFound&&"delete"===e&&a===R.v.NOT_FOUND)return n.success({},"success",t);d&&"abort"!==r&&d.error(_()),t.status>=R.v.INTERNAL_SERVER_ERROR&&h.trackError(),a===R.v.FORBIDDEN&&f--?g():(l&&l.call(this,t,r,i),o(t))},g()}))},n._makeRetryRequest=function(e,t,n,r){var a=this;return void 0===r&&(r=3),new Promise((function(o,s){var c=function(){try{a._makeRequest(e,t,i()({},n)).then(o,(function(e){r--&&e.status>=R.v.INTERNAL_SERVER_ERROR?setTimeout(c,3e3):s(e)}))}catch(e){s(e)}};c()}))},n._sync=function(e,t,n){var r=A[e],i=!0;"boolean"==typeof(n=n||{}).parseJSON&&(i=n.parseJSON);var a={type:r,dataType:i?"json":"text",url:n.url};if(a.url||(a.url=Object(N.result)(t,"url")),!a.url)throw new Error('A "url" property or function must be specified');null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(n.attrs||t.toJSON(n))),"GET"!==a.type&&(a.processData=!1);var o=n.error;n.error=function(e,t,r){n.textStatus=t,n.errorThrown=r,o&&o.call(n.context,e,t,r)};var s=n.xhr=this._ajax(Object.assign(a,n));return t.trigger("request",t,s,n),s},n._ajax=function(e){return x.a.ajax(e)},n._checkCookieReset=function(){var e=this;if(!this._latestCookieUpdate){var t=this.env&&this.env.tld,n=Object(f.a)("https://passport.yandex.ru/auth/update",t);return this._latestCookieUpdate=this.sync("read",null,{url:n,insecure:!0,parseJSON:!1,xhrFields:{withCredentials:!0}}),this._latestCookieUpdate.then((function(){e._latestCookieUpdate=null})).catch((function(t){console.error(t),e._latestCookieUpdate=null}))}return Promise.resolve()},t.factory=function(e){if(!this.instance){if(!e)return null;this.instance=new this(e)}return this.instance},t}(s)},EuEB:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("MTjZ"),c=n("IWXk"),u=n("8KBr"),l=n("51KI"),d=n("ZMRC"),h=n("jGRQ"),f=n("prdO"),p=Object(o.a)((function(e,t){var n=t.userId,r=n?Object(c.a)(e,n):Object(s.a)(e);return{displayName:Object(u.a)(r)||""}}))((function(e){var t=e.insertHref,n=void 0===t||t,r=e.userId,o=e.displayName,s=a.createElement(d.a,{displayName:o,noWrapper:n});return n&&(s=a.createElement(h.a,{userId:r,className:"ya-login__name"},s)),a.createElement(l.a,i()({verifiedTitle:f.userVerified()},e),s)}))},Ev79:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/ae29.gif"},EvZm:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("6ga4"),s=n("FzJZ"),c=function(e){var t=e.mods,n=e.buttonRef,r=e.tagName,c=e.className,u=e.label,l=e.iconComponent,d=e.icon,h=e.iconMods,f=e.iconRef,p=e.onClick,b=e.props,m=e.children,v=e.size,g=e.type,O=e.ei,_=e.disabled,y=e.shadow,C=e.iconOnly,E=e.shape,j=b&&b.href?"a":r||"button";if(b&&b.href&&!Object(s.a)(b.href))return console.error("Link is not allowed "+b.href),null;var S=i()({className:Object(o.a)("button",i()({ei:O,size:v,type:g,shape:E,disabled:_,shadow:y,icon:d,"icon-only":C},t),c),onClick:p},b);return n&&(S.ref=n),a.createElement(j,S,l,!l&&d&&a.createElement("span",{className:Object(o.a)("button__icon",h),ref:f}),u&&a.createElement("span",{className:"button__label"},u),m)}},EyUQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("VbXa"),i=n.n(r),a=n("mdRN"),o=n("jOGB"),s=n("EVdn"),c=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.initialize=function(){this.view.$on("click",this.clickOut.bind(this))},n.clickOut=function(e){var t=s(e.target),n=this.options,r=n.ignoreDetachedNodes,i=n.includeSelf;r&&!t.closest(document).length||(i&&!t.closest(this.$el).length||!this.$(e.target).length)&&this.triggerEvent(e)},n.triggerEvent=function(e){this.view.triggerMethod(this.options.eventName,null,e)},t}(o.a);Object(a.a)({defaults:{includeSelf:!0,eventName:"clickOut",ignoreDetachedNodes:!1}})(c)},F1gm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("We6+"),i=n("lc+m"),a=Object(r.a)(i.a)},F7wz:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/84ac.gif"},"FA/Q":function(e,t,n){},FDTi:function(e,t,n){},FH3s:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n("pVnL"),i=n.n(r),a=n("QodL"),o=n("4RqY"),s=n("1WnH"),c=n("nAK0"),u=function(e,t){return e[e[t="default"]="default"]=t,e[e[t="feed"]="feed"]=t,e}({}),l={boards:function(e){return{boardId:e}},cards:function(e){return{cardId:e}},comments:function(e){return{commentId:e}}},d={boards:c.d.clickBoardComplain,cards:c.d.clickCardComplain,comments:c.d.clickCommentComplain},h=Object(o.a)((function(e,t){var n=e.id,r=e.storeKey,o=e.type,c=e.counter,u=t.dispatch;return c=i()({},c,{},l[r](n)),d[r](c),u(Object(s.a)({type:"feed"===o?a.c.FEED_COMPLAIN:a.c.COMPLAIN,animationType:a.a.MODAL,options:{id:n,type:o,counter:c,stateKey:r}}))}))},FIs7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n("x9gI"),i=n("ICaW"),a=1,o=2;function s(e){var t=Object(r.a)(e,i.d.COLLECTIONS_DESKTOP_ADD_BULK);return t===a||t===o}},FOrz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("lQce"),i=Object(r.a)("cards")},FRvd:function(e,t,n){},"FVd+":function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("Oaat"),c=n("qAEN"),u=n("c+Ap"),l=n("4RqY"),d=n("S7YN"),h=n("dNc+"),f=n("YFOV"),p=Object(f.a)("tasks"),b=n("K5nR"),m=Object(b.a)({normalizer:h.h,getEntity:p}),v=n("wBxh");n.d(t,"a",(function(){return g}));var g=Object(l.a)((function(e,t){var n,r,a,l,h,f,p,b,g,O;return i.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:return n=e.taskId,r=e.storeKey,a=t.getState,l=t.di,h=t.dispatch,_.next=4,i.a.awrap(l("request"));case 4:if(f=_.sent,p=a(),b=10,!n){_.next=34;break}case 8:if(!b--){_.next=25;break}return _.prev=9,_.next=12,i.a.awrap(f.get("/collections/api/tasks/"+encodeURIComponent(n)));case 12:if((g=_.sent).state===c.a.QUEUED){_.next=15;break}return _.abrupt("break",25);case 15:_.next=21;break;case 17:if(_.prev=17,_.t0=_.catch(9),_.t0.status!==u.v.NOT_FOUND){_.next=21;break}return _.abrupt("break",25);case 21:return _.next=23,i.a.awrap(Object(s.a)(1e3));case 23:_.next=8;break;case 25:if(!g||!r||g.state!==c.a.SUCCESS){_.next=32;break}if(O=p[r],h(m({id:n,value:o()({},g)})),O){_.next=30;break}throw new Error("Cannot sync empty collection");case 30:return _.next=32,i.a.awrap(h(Object(d.a)({storeKey:r,url:O._url,query:o()({},O._query,{page:1}),reset:{results:[]}})));case 32:return setTimeout((function(){h(Object(v.a)({})).catch((function(e){return console.error(e)}))}),1e3),_.abrupt("return",g);case 34:case"end":return _.stop()}}),null,null,[[9,17]])}))},FWBO:function(e,t,n){"use strict";n("p/3D");var r=n("PEpF"),i=n("nAK0"),a=Object(r.decl)({block:"notifier",onIconClick:function(){var e=this.state.popupVisible;this.__base.apply(this,arguments),i.d.clickTimeline({visible:!e})},_getIframeUrl:function(){return this.props.iframeUrl||this.__base.apply(this,arguments)},_getLoaderUrl:function(){return this.props.loaderUrl||this.__base.apply(this,arguments)}});t.a=a.applyDecls()},FcaK:function(e,t,n){"use strict";n("Faot");var r=n("Jq38");t.a=r.a.applyDecls()},Fe8d:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=1e3,c=150;function u(e){return e}function l(e){return e*(2-e)}function d(e){var t=e.duration,n=void 0===t?c:t,r=o()(e,["duration"]);return function(e){var t=e.duration,n=void 0===t?s:t,r=e.ease,i=void 0===r?u:r,a=e.step;return new Promise((function(e){var t=Date.now(),r=function(){var o=(Date.now()-t)/n;o>1&&(o=1);var s=i(o);a(s),o<1?requestAnimationFrame(r):requestAnimationFrame(e)};requestAnimationFrame(r)}))}(i()({duration:n,ease:l},r))}},"Ff+0":function(e,t,n){"use strict";function r(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}n.d(t,"a",(function(){return r}))},FfN0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("subscribers_count"))},FlAr:function(e,t,n){"use strict";var r=n("+qwI");t.a=r.a.applyDecls()},FqSg:function(e,t,n){var r={"./spinner-L-gray@2x.gif":"L3d8","./spinner-L-invert@2x.gif":"hA21","./spinner-L-normal@2x.gif":"8i7z","./spinner-M-gray@2x.gif":"Zngv","./spinner-M-invert@2x.gif":"jjJ1","./spinner-M-normal@2x.gif":"3ROj","./spinner-S-gray@2x.gif":"9svB","./spinner-S-invert@2x.gif":"Sn9x","./spinner-S-normal@2x.gif":"5p+6","./spinner-XL-gray@2x.gif":"yxf4","./spinner-XL-invert@2x.gif":"S7CM","./spinner-XL-normal@2x.gif":"KyvS","./spinner-XS-gray@2x.gif":"+Ipk","./spinner-XS-invert@2x.gif":"tvkE","./spinner-XS-normal@2x.gif":"RPZc"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="FqSg"},"Ft+C":function(e,t,n){"use strict";var r=n("ZIAp");t.a=r.a.applyDecls()},FzJZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ivQ0"),i=/^(yellowskin|mailto:|intent:#Intent)/i;function a(e){return Object(r.a)(e)||"/"===e[0]&&"/"!==e[1]||i.test(e)}},G1vW:function(e,t,n){"use strict";var r=n("9D4S");t.a=r.a.applyDecls()},G44D:function(e,t,n){"use strict";var r=n("BB3L");t.a=r.a.applyDecls()},G5PU:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("VbXa"),c=n.n(s),u=n("U+yc"),l=n.n(u),d=n("cDcd"),h=n("JxqJ"),f=n("LH8O"),p=n("Qr5T"),b=n("c+Ap");function m(e,t){var n=window;return n.Ya||(n.Ya={}),Ya.Cmnt||(Ya.Cmnt={theme:"serp",lang:"en",version:t}),Object(p.a)(e+"/v1/comments.js").then((function(){if(b.V){var e=Ya.Cmnt._config;e&&(e.api=e.api.replace(/^.*(\/comments\/api\/.*)$/,"$1"))}}))}var v=n("x9gI"),g=n("hV2r"),O=n("ICaW"),_=function(e,t){return e[e[t="ADD_COMMENT"]="addComment"]=t,e[e[t="REMOVE_COMMENT"]="removeComment"]=t,e}({});function y(){var e=window.Ya,t=e&&e.Cmnt;return Boolean(t&&t.api)}var C,E,j=n("wy7W"),S=n("plYr"),w=n("4RqY"),k={},I=Object(w.a)((function(e,t){var n,r,a,o;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.cmntEntityId,r=t.di,s.next=4,i.a.awrap(r("request"));case 4:if(a=s.sent,!k[n]){s.next=10;break}return s.next=8,i.a.awrap(k[n]);case 8:s.next=21;break;case 10:return o=Object(S.a)((function(){return a.put("/collections/api/cmnt/init/"+n,{})})),k[n]=o,s.prev=12,s.next=15,i.a.awrap(o);case 15:s.next=21;break;case 17:throw s.prev=17,s.t0=s.catch(12),delete k[n],s.t0;case 21:case"end":return s.stop()}}),null,null,[[12,17]])})),T=n("hqMG"),R=Object(w.a)((function(e,t){var n,r,a,s,c,u,l,d,h,f,p,b;return i.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(n=e.cmntEntityId,r=e.entityId,a=e.stateKey,s=t.getState,c=t.dispatch,u=s(),l=Object(v.a)(u,O.d.COLLECTIONS_COMMENTS),d=Object(v.a)(u,O.d.COLLECTIONS_COMMENTS_TOKEN),h=Object(v.a)(u,O.d.COLLECTIONS_COMMENTS_URL),!(n&&d&&h)){g.next=14;break}return g.next=9,i.a.awrap(Promise.all([m(h,l),new Promise((function(e){if(y())e();else var t=setInterval((function(){y()&&(clearInterval(t),e())}),50)})),c(I({cmntEntityId:n}))]));case 9:return g.next=11,i.a.awrap(Ya.Cmnt.api.fetchTree({entityId:n,apiKey:d}));case 11:f=g.sent,(p=Object(j.a)(s(),a,r))&&Array.isArray(p.comments)&&(b=p.comments,f.tree&&Object.keys(f.tree).forEach((function(e){if(f.tree[e].isDeleted)for(var t=0;t<b.length;t++)if(b[t].id===e){b.splice(t,1),b=[].concat(b);break}})),b!==p.comments&&c(Object(T.a)({id:r,stateKey:a,value:o()({},p,{comments:b})})));case 14:case"end":return g.stop()}}))}));n.d(t,"a",(function(){return x}));var L=(C=Object(f.a)(),E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).isDestroyed=!1,t.removeHandlers=null,t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.initCmnt()},n.componentDidUpdate=function(){this.initCmnt()},n.shouldComponentUpdate=function(e){return(e.cmntEntityId!==this.props.cmntEntityId||e.isReadonly!==this.props.isReadonly)&&(this.destroyCmnt(),!0)},n.componentWillUnmount=function(){this.isDestroyed=!0,this.removeHandlers&&(this.removeHandlers(),this.removeHandlers=null),this.destroyCmnt()},n.initCmnt=function(){this.initComments().catch((function(e){return console.error(e)}))},n.destroyCmnt=function(){this.initedCmnt&&"undefined"!=typeof Ya&&Ya.Cmnt&&(Ya.Cmnt.destroy(this.initedCmnt),this.initedCmnt=void 0)},n.updateRef=function(e){var t=this.props,n=t.entityId,r=t.updateStats,i=t.cmntEntityId,a=t.dispatch;if(n&&e&&e!==this.elem){var o=function(e){return function(){e<0&&a(R({cmntEntityId:i,entityId:n,stateKey:"cards"})),r(e)}};this.removeHandlers&&this.removeHandlers();var s=o(1),c=o(-1);e.addEventListener(_.ADD_COMMENT,s),e.addEventListener(_.REMOVE_COMMENT,c),this.removeHandlers=function(){e.removeEventListener(_.ADD_COMMENT,s),e.removeEventListener(_.REMOVE_COMMENT,c)},this.elem=e}},n.initComments=function(){var e,t,n,r,a,s,c,u,l,d,h,f,p;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(e=this.props,t=e.cmntEntityId,n=e.isReadonly,r=e.dispatch,a=e.apiKey,s=e.commentId,c=e.url,u=e.version,l=e.autoFocus,d=e.formPosition,h=e.stickyInput,f=e.loc,t&&!this.initedCmnt&&!this.isDestroyed&&a&&c&&u){b.next=3;break}return b.abrupt("return");case 3:return b.next=5,i.a.awrap(Promise.all([m(c,u),r(I({cmntEntityId:t}))]));case 5:if(t&&this.props.cmntEntityId===t&&!this.isDestroyed){b.next=7;break}return b.abrupt("return");case 7:p="chat-"+t,Ya.Cmnt.init(p,o()({entityId:t,apiKey:a,isMobile:!1,readOnly:n,commentId:s&&String(s),stats:{loc:f},autoFocus:l,formPosition:d,stickyInput:h},!1)),this.initedCmnt=p;case 10:case"end":return b.stop()}}),null,this)},n.render=function(){var e=this.props.cmntEntityId;return e?d.createElement("div",{id:"chat-"+e,className:"cmnt",ref:this.updateRef}):null},t}(d.Component),l()(E.prototype,"updateRef",[C],Object.getOwnPropertyDescriptor(E.prototype,"updateRef"),E.prototype),E),x=Object(h.a)((function(e){return{commentId:Object(g.a)(e).commentId,apiKey:Object(v.a)(e,O.d.COLLECTIONS_COMMENTS_TOKEN),url:Object(v.a)(e,O.d.COLLECTIONS_COMMENTS_URL),version:Object(v.a)(e,O.d.COLLECTIONS_COMMENTS)}}))(L)},G7lA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("VbXa"),i=n.n(r),a=n("mdRN"),o=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.initiaize=function(){this.toggled=this.options.toggled},n.toggle=function(e){e!==this.toggled&&(this.toggled=Boolean(e),this.view.triggerMethod("toggleRefresh",this.toggled))},n.onToggle=function(e){this.processEvent(e),this.toggle(!this.toggled)},n.onToggleShow=function(e){this.processEvent(e),this.toggle(!0)},n.onToggleHide=function(e){this.processEvent(e),this.toggle(!1)},n.onToggleRefresh=function(){this.options.defaultRefresh&&this.view.$el.toggle(this.toggled)},n.processEvent=function(e){e&&e.preventDefault&&this.options.preventDefault&&e.preventDefault()},t}(n("jOGB").a);Object(a.a)({defaults:{toggled:!1,includeSelf:!1,preventDefault:!0,defaultRefresh:!1}})(o)},"G7p/":function(e,t,n){"use strict";function r(e,t){var n=window.requestIdleCallback;return n?n(e,{timeout:t}):setTimeout(e)}function i(e){var t=window.cancelIdleCallback;if(t)return t(e);clearTimeout(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},GDzj:function(e,t,n){"use strict";var r=n("5Sit");t.a=r.a.applyDecls()},GFr9:function(e,t,n){"use strict";function r(e){return e&&(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return r}))},GGxO:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("izju"),i=[r.a.BOOK,r.a.FILM,r.a.SERIES];function a(e){return!!e&&-1!==i.indexOf(e)}},GMEU:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({more:"More"})},GOua:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Ff+0");function i(e){if(e&&e.categories&&e.categories.length)return e.categories.map(r.a).join(", ")}},GRsR:function(e,t,n){"use strict";function r(e,t){if(!e||!t)return!0;if(function(e,t){if(!e||!t)return!1;var n=e[t];return!!n&&!0===n._loading}(e,t))return!1;var n=e[t];return!n||!n.next}n.d(t,"a",(function(){return r}))},GWHe:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({hide:"Hide"})},GZ4p:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n("o0o1"),i=n.n(r),a=n("wjhi"),o=n("1JCn"),s=n("dohL"),c=n("4RqY"),u=n("IxYx"),l="add-file",d=Object(c.a)((function(e,t){var n,r,c,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(n=t.getState,r=t.dispatch,e&&0!==e.length){f.next=3;break}return f.abrupt("return");case 3:return c=function(){var e=n();return Object(a.a)(e)[l]},(d=function(e){var t;r(Object(u.a)(((t={})[l]=e,t)))})(!0),f.prev=6,f.next=9,i.a.awrap(r(Object(o.b)({files:e})));case 9:h=f.sent,f.next=16;break;case 12:throw f.prev=12,f.t0=f.catch(6),c()&&r(Object(s.a)({error:f.t0})),f.t0;case 16:if(!(h.length<1)){f.next=18;break}throw new Error("Valid cards not found");case 18:if(c()){f.next=20;break}return f.abrupt("return");case 20:return d(!1),f.abrupt("return",!0);case 22:case"end":return f.stop()}}),null,null,[[6,12]])}))},GZH0:function(e,t,n){"use strict";var r=n("/FG0"),i=n("cDcd"),a=n("JxqJ"),o=n("dQn9"),s=n("6YYB"),c=n("CUhL"),u=Object(a.a)()((function(e){var t=e.resolve,n=e.reject;return i.createElement(c.a,{dialogType:"confirmAdd"},i.createElement(o.a,{title:s.title(),description:s.description(),primaryLabel:s.cancelLabel(),secondaryLabel:s.confirmLabel(),secondaryDangerous:!0,onPrimary:function(){n(new Error("don't close dialog"))},onSecondary:function(){t()},onOut:function(){n(new Error("don't close dialog"))}}))}));n.d(t,"a",(function(){return l}));var l=Object(r.a)({dialogComponent:u})},GhlN:function(e,t,n){"use strict";function r(e,t,n){var r=[e];return t&&Object.keys(t).forEach((function(n){t[n]&&(r=r.concat(function e(t,n,r){return r?!0===r?[t+n]:Array.isArray(r)?r.reduce((function(r,i){return r.concat(e(t,n,i))}),[]):[t+n+"_"+r]:[]}(e+"_",n,t[n])))})),n&&r.push(n),r.join(" ")}function i(e,t){return r(e,t.hash)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},Gk7b:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/236a.gif"},Gl3M:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f}));var r=n("x9gI"),i=n("R2yN"),a=n("+wBA"),o=n("MTjZ"),s=n("/Oqo"),c=n("RouB"),u=n("ICaW"),l=n("fjc+").a.MY_BOARDS_COAUTHORS_KEY,d="DesktopMyBoardsCoauthors";function h(e){var t=Object(o.a)(e),n=Object(c.a)(t),d=Object(s.a)(t),h=d&&d.cards>0,f=Object(r.a)(e,u.d.COLLECTIONS_DESKTOP_COAUTHORS_PROMO_MYBOARDS),p=Object(i.a)(e),b=2===f?0===p[l]:Object(a.a)(e,l,0);return Boolean(h&&n&&(1===f||2===f)&&b)}function f(e){var t=Object(r.a)(e,u.d.COLLECTIONS_DESKTOP_COAUTHORS_PROMO_MYBOARDS),n=Object(i.a)(e);return 2!==t||-1!==n[l]}},Gmy3:function(e,t,n){"use strict";var r=n("Jtf9");function i(e){if(e&&e.object_answer){var t=e.object_answer.type;return t===r.a.GAME?function(e){if(e&&e.object_answer)return e.object_answer.title}(e):t===r.a.GEO?function(e){if(e&&e.object_answer)return e.object_answer.title}(e):void 0}}n.d(t,"a",(function(){return i}))},Go5O:function(e,t,n){},Gony:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="https://yastatic.net/s3/fiji-static/podb/assets/desktop";function i(e){return e.match(/^(https?|data:|\/\/)/)||0===e.indexOf(r)?e:r+"/"+e}},Gpwx:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("pVnL"),i=n.n(r),a=n("rANK"),o=n("nIVP"),s=n("qeDp"),c=n("nAK0");function u(e,t){var n=t.boardId,r=t.card,u=t.counter,l=Boolean(n&&Object(a.a)(e,n));c.d.finishCardShare(i()({},Object(s.a)(e,r.id),{},u,{isDefault:l,cardId:r.id})),c.d.finishCardTech(i()({type:"share",cardId:r.id},Object(o.a)(e,n)))}},Gqad:function(e,t,n){},GsO3:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var r=n("fjc+"),i=n("MTjZ"),a=n("INas"),o=n("RouB"),s=n("nt9X"),c=n("ikWr"),u=n("+wBA"),l=r.a.EDIT_PROFILE,d="DesktopEditProfile";function h(e){var t=Object(a.a)(e);if(!t)return!1;var n=Object(i.a)(e),r=Object(o.a)(n),d=Object(s.a)(t)===Object(s.a)(n),h=Object(c.a)(t);return Object(u.a)(e,l)&&r&&d&&!h}},Gxl1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("+Ncb");function i(e,t){void 0===t&&(t=!1);var n={};if(e)for(var i=e.split("&"),a=0;a<i.length;a++){var o=i[a].split("="),s=o[0],c=o[1];s=decodeURIComponent(s);var u=Object(r.a)(c);t&&s in n?Array.isArray(n[s])?n[s].push(u):n[s]=[n[s],u]:n[s]=u}return n}},Gyaw:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({cardsCreated:[{v:'Added __count__ card to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,"Added ",e.count,' card to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t(["Added ",e.count,' card to collection "',n("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},{v:'Added __count__ cards to collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,"Added ",e.count,' cards to collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t(["Added ",e.count,' cards to collection "',n("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}}],buttonDone:"Save"})},H0hN:function(e,t,n){"use strict";var r,i,a=n("o0o1"),o=n.n(a),s=n("pVnL"),c=n.n(s),u=n("cDcd"),l=n("JxqJ"),d=n("i+Us"),h=n("RouB"),f=n("gLBg"),p=n("l61k"),b=n("ODs8"),m=n("O0ux"),v=n("nAK0"),g=n("VbXa"),O=n.n(g),_=n("U+yc"),y=n.n(_),C=n("LH8O"),E=(r=Object(C.a)(),i=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).loading=!1,t}O()(t,e);var n=t.prototype;return n.onClick=function(e){var t,n,r;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=this.props,n=t.preventDefault,r=t.onClick,n&&e.preventDefault(),this.loading){i.next=11;break}if(this.loading=!0,i.prev=4,!r){i.next=8;break}return i.next=8,o.a.awrap(r(e));case 8:return i.prev=8,this.loading=!1,i.finish(8);case 11:case"end":return i.stop()}}),null,this,[[4,,8,11]])},n.render=function(){var e=this,t=this.props,n=t.children,r=t.preventDefault,i={};return r&&(i={"data-trigger":"false","data-navigate":"false"}),u.createElement(u.Fragment,null,u.Children.map(n,(function(t){return u.cloneElement(t,c()({},i,{onClick:e.onClick}))})))},t}(u.PureComponent),y()(i.prototype,"onClick",[r],Object.getOwnPropertyDescriptor(i.prototype,"onClick"),i.prototype),i);n.d(t,"a",(function(){return j}));var j=Object(l.b)((function(e,t){return t.channel?{}:Object(d.a)(e,t)}))((function(e){var t=e.channel,n=e.className,r=e.withoutTitle,i=e.onboarding,a=e.onClickSubscribe,s=e.children,l=e.dispatch,d=e.target,g=e.counter,O=Object(m.a)();if(!t)return null;var _=u.createElement("a",{href:Object(f.m)(t.slug),className:n,target:d,"data-c":v.c.clickChannel(c()({},g,{channelSlug:t.slug,recId:t.recommendations_id}))},!r&&(s||t.title));return a?u.createElement(E,{onClick:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(l(Object(p.a)({id:t.id,storeKey:"channels",isSubscribed:!t.is_subscribed,counter:g})));case 2:if(!i||!Object(h.a)(O)){e.next=5;break}return e.next=5,o.a.awrap(l(Object(b.a)({onboarding:!0})));case 5:case"end":return e.stop()}}))},preventDefault:!0},_):_}))},H0vb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("ukm6"),o=Object(r.a)(a.a,Object(i.a)("prevRoute"))},H1V1:function(e,t,n){},H2ZY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("+lu/"),o=n("LiK1"),s=n("T6Rw"),c=Object(s.a)((function(e,t){var n,r=t.key,s=t.items,c=t.next,u=t.loading,l=t.errorLoading,d=t.prepend,h=t.props,f=e[r];if(!f)return e;var p=f.results;if(s&&s.length){var b=Object(a.a)(f.results),m=Object(a.a)(s),v=f._filters?f.results:f.results.map((function(e){return m[e.id]||e})),g=Object(o.a)(s,(function(e){return e.id})).filter((function(e){return!b[e.id]}));p=d?g.concat(v):v.concat(g)}return i()({},e,((n={})[r]=i()({},f,{next:"next"in t?c:f.next,_loading:void 0===u?f._loading:u,_errorLoading:void 0===l?f._errorLoading:l,results:p},h),n))}))},H9rQ:function(e,t,n){},HJ91:function(e,t,n){},HOjc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("6ga4"),s=n("EvZm"),c=n("o82s"),u=n.n(c),l=function(e){var t=e.className,n=e.style,r=e.onClick,c=e.props;return a.createElement(s.a,{className:Object(o.a)("cl-button-close",{},t),ei:!0,size:"M",type:"clear",iconOnly:!0,iconComponent:a.createElement(u.a,{className:"button__icon cl-button-close__icon"}),onClick:r,props:i()({style:n},c)})}},HSMI:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({genre:"Architectural style",initDate:"Date built"})},"HVa/":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("56Ik"),i=n("785c"),a=r.a.factory({uiKey:i.a}),o=r.a.point(i.c.EMPTY);a.setStartPoint(o)},HZC2:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("++4/"),s=n("cD64"),c=n("rVhC"),u=n("oWpj"),l=n("Ryll"),d=n("Yl8S"),h=n("pUSZ"),f=n("muyD"),p=n("rWiK"),b=n("Ui2c"),m=n("AHze");n.d(t,"a",(function(){return g}));var v=Object(m.a)(b.a),g=function(e){return function(e){var t,n,r,b,m=e.options,v=e.shaker,g=e.Items;return a.createElement(d.b,null,a.createElement(c.a,i()({Items:g,rum:(n=l.a.FEED,r=v.id,b=Object(u.a)(n,[l.a.REQUEST_START,l.a.REQUEST_END,l.a.PROCESSING,l.a.RENDER]),{requestStart:b.bind(null,r,l.a.REQUEST_START),requestEnd:b.bind(null,r,l.a.REQUEST_END),render:b.bind(null,r,l.a.RENDER),parse:b.bind(null,r,l.a.PROCESSING)}),initColumns:m&&m.header?2:0,grid:new o.a({coverCardHeight:s.a,xGap:s.c,xPadding:s.d,threshold:1500,xCardPadding:s.b,virtualCount:10,virtualSpaceHeight:1e4,minColumnsCount:3,maxColumnsCount:9,serverColumns:document.querySelectorAll("#"+v.id+" .cl-masonry__column").length,firstLoadPlaceholders:m&&m.firstLoadPlaceholders}),options:i()({},m,{incutLogger:(t=new Set,function(e,n,r){var a=e.filter((function(e){return!t.has(e)}));a.length&&(a.forEach((function(e){return t.add(e)})),"board"===n&&Object(f.a)(i()({},r,{boardIds:a})),"channel"===n&&Object(p.a)(i()({},r,{channelIds:a})),"card"===n&&Object(h.a)(i()({},r,{cardIds:a})))})})},e)))}(i()({},e,{Items:v}))}},HdYh:function(e,t,n){"use strict";var r=n("cL+7");t.a=r.a.applyDecls()},Heix:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){return e&&e.selected_contents?e.selected_contents.length:0}))},Hkgn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("6EC7"),i=n("LyO5");function a(e,t){if(!t)return r.a;var n=Object(i.a)(t);if(n&&n.thumb_height&&n.thumb_width)return Object(r.b)(e,{height:n.thumb_height,width:n.thumb_width});if(!t.content||!t.content.sizes)return r.a;if(t.content.sizes[e])return t.content.sizes[e];var a=t.content.sizes.orig;return a?Object(r.b)(e,a):r.a}},Hnsh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("VbXa"),i=n.n(r),a=n("jOGB"),o=n("mdRN"),s=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.initialize=function(){var e=this;this._model=this.getOption("model")||this.view.getOption("model"),this.options.dynamic&&this._model&&(this.view.listenTo(this._model,"change:type",(function(){return e.onModelTypeChanged()})),this.onModelTypeChanged())},n.events=function(){return this.options.dynamic?{}:{wheel:"onScroll"}},n.onModelTypeChanged=function(){var e=this;this._control&&this._control.close(),this._model.isClosed()||(this._control=this.view.$on(window,"wheel",(function(t){return e.onScroll(t)})))},n.onScroll=function(e){var t=this.$(this.options.selector);if(t[0]){t[0].contains(e.target)||e.preventDefault();var n,r=this.options.excludeTarget&&this.$(this.options.excludeTarget),i=!!r&&r.is(e.target),a=e.originalEvent.deltaY>0,o=e.originalEvent.deltaY<0;i?(n=$(e.target),(this.isScrollReachedBottom(n)&&a||this.isScrollReachedTop(n)&&o)&&(n=t)):n=t;var s=this.isScrollReachedBottom(n),c=this.isScrollReachedTop(n);(s&&a||c&&o)&&e.preventDefault()}},n.isScrollReachedBottom=function(e){var t=e[0],n=e.scrollTop();return t.scrollHeight-n-e.outerHeight()<=1},n.isScrollReachedTop=function(e){return 0===e.scrollTop()},t}(a.a);Object(o.a)({options:{dynamic:!1}})(s)},HpZU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("o/z3"),i=200;function a(e){var t=String(e).trim(),n={valid:!0};return t&&t.length>i&&(n={valid:!1,message:r.boardDescriptionLong}),n}},HtIP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("cDcd"),i=n("6ga4"),a=n("Yv4e"),o=function(e){var t=e.size,o=void 0===t?"M":t,s=e.gif,c=void 0===s||s,u=e.type,l=void 0===u?"normal":u,d=o+"-"+l,h=n("/e/s")("./spinner-"+d+".gif"),f=n("FqSg")("./spinner-"+d+"@2x.gif");return r.createElement("div",{className:Object(i.a)("spinner",{size:o,gif:c,type:l})},c&&r.createElement("img",{className:"spinner__image",src:Object(a.a)(h),srcSet:Object(a.a)(f)+" 2x"}),c||r.createElement("div",{className:"spinner__circle"}))}},Hxdx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("LyO5"),o=Object(r.a)(a.a,Object(i.a)("url",""))},Hy4r:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({shortMinutes:function(e){return i(e.value)+" min"},shortHours:function(e){return i(e.value)+" h"},shortDays:[function(e){return i(e.count)+" d"},function(e){return i(e.count)+" d"}],shortMonths:function(e){return i(e.value)+" mth"}})},I3Hq:function(e,t,n){"use strict";n("DlUR");var r=n("WXFC");t.a=r.a.applyDecls()},I4Ii:function(e,t,n){"use strict";function r(e){return"https://yandex.ru/collections/picture/competitions/"+encodeURIComponent(e)+"/"}n.d(t,"a",(function(){return r}))},I7lw:function(e,t,n){"use strict";n.r(t),n.d(t,"removeCardClick",(function(){return O}));var r=n("56Ik"),i=n("VDDL"),a=n("785c"),o=n("hFHJ"),s=n("HVa/"),c=n("vdFK"),u=n("Ja54"),l=n("3Ci6"),d=n("txgp"),h=n("aC9m"),f=n("lyF8"),p=n("7Hn5"),b=n("7Jbl"),m=n("GZH0"),v=n("htIp"),g=n("gksT"),O=s.b.action(),_=r.a.point(a.c.BOARDS_LIST,d.b,{title:g.edit(),hideFooter:!0,autoFocus:!0,isEditAction:!0}),y=r.a.point(a.c.BOARD_CREATE,void 0,{title:g.saveTitle()}),C=r.a.point(a.c.CARD_SERIES_ADD,void 0,{hideBack:!0,nextLabel:g.save()}),E=Object(i.a)([m.a,b.a]),j=Object(i.a)([v.a,h.a,b.a]);s.b.link(s.a,_,u.a),s.b.link(_,s.a,o.c,f.a,{loading:!1}),s.b.link(_,s.a,o.e,b.a),s.b.link(_,s.a,o.g,b.a),s.b.link(_,y,o.h),s.b.link(_,C,c.v),s.b.link(y,_,o.b),s.b.link(y,s.a,o.d,l.a),s.b.link(y,s.a,o.e,b.a),s.b.link(y,s.a,o.g,E,{loading:!1}),s.b.link(C,_,o.i,p.a),s.b.link(C,s.a,o.g,E,{loading:!1}),s.b.link(C,s.a,o.e,b.a),s.b.link(_,s.a,O,j,{loading:!1})},IAY6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("offer_for_publication",!1))},ICKy:function(e,t,n){"use strict";var r=n("cDcd"),i=n("GhlN"),a=r.forwardRef((function(e,t){var n=e.labelSize,a=void 0===n?"M":n,o=e.labelType,s=e.labelPosition,c=e.labelValue,u=e.labelSub,l=e.disableShadow,d=e.onClick;if(!c&&!o)return null;var h=d?"button":"span",f={ref:t,onClick:d,"data-prevent-doubletap":!0,className:Object(i.a)("cl-teaser__label",{size:a,type:o,position:s,shadow:!l})};return r.createElement(r.Fragment,null,(c||o)&&r.createElement(h,f,c,u&&r.createElement("b",null,u)))}));n.d(t,"a",(function(){return a}))},ICS8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mUSw"),i={};function a(e){if(!i[e])try{"undefined"!=typeof BroadcastChannel?i[e]=new BroadcastChannel(e):i[e]=Object(r.b)((function(){return Promise.all([n.e(52),n.e(9)]).then(n.bind(null,"PeV1"))})).then((function(t){return new t.default(e)}))}catch(e){return Promise.resolve(void 0)}return Promise.resolve(i[e])}},ICaW:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=function(e,t){return e[e[t="MOBILE"]=1]=t,e[e[t="DESKTOP"]=2]=t,e[e[t="MOBILE_EXT"]=4]=t,e[e[t="DESKTOP_EXT"]=8]=t,e[e[t="DESKTOP_EXT_YABRO"]=16]=t,e[e[t="ALL"]=e.MOBILE|e.DESKTOP|e.MOBILE_EXT|e.DESKTOP_EXT|e.DESKTOP_EXT_YABRO]=t,e}({}),i=function(e,t){return e[e[t="NONE"]=0]=t,e[e[t="GUEST"]=1]=t,e[e[t="RESTRICTED_USER"]=2]=t,e[e[t="USER"]=4]=t,e[e[t="TOLOKA"]=8]=t,e[e[t="YT"]=16]=t,e[e[t="ALL"]=e.GUEST|e.RESTRICTED_USER|e.USER|e.TOLOKA|e.YT]=t,e[e[t="AUTH_USER"]=e.USER|e.TOLOKA|e.YT]=t,e}({}),a=function(e,t){return e[e[t="YAPLUS"]="yaplus"]=t,e[e[t="YAPLUS_BY"]="yaplus_by"]=t,e[e[t="MY_OBJECTS_SEARCH"]="my_objects_search"]=t,e[e[t="COLLECTIONS_BUTTON_UP"]="collections_button_up"]=t,e[e[t="DESKTOP_RICH_SUGGEST"]="desktop_rich_suggest"]=t,e[e[t="DESKTOP_RICH_SUGGEST_MY_CARDS"]="desktop_rich_suggest_my_cards"]=t,e[e[t="DESKTOP_RICH_SUGGEST_MY_BOARDS"]="desktop_rich_suggest_my_boards"]=t,e[e[t="DESKTOP_SUGGEST_CUSTOM_URL"]="desktop_suggest_custom_url"]=t,e[e[t="DESKTOP_SUGGEST_MAX_ITEMS"]="desktop_suggest_max_items"]=t,e[e[t="MOBILE_SUGGEST_CUSTOM_URL"]="mobile_suggest_custom_url"]=t,e[e[t="MOBILE_FEED_SHOW_COMMENT"]="mobile_feed_show_comment"]=t,e[e[t="DESKTOP_FEED_SHOW_COMMENT"]="desktop_feed_show_comment"]=t,e[e[t="USER_HAT"]="user_hat"]=t,e[e[t="MOBILE_COLLECTION_ACTIONS_HIDDEN"]="mobile_collection_actions_hidden"]=t,e[e[t="MOBILE_FEED_TOP_BUTTON"]="mobile_feed_top_button"]=t,e[e[t="COLLECTIONS_NY2019"]="collections_ny2019"]=t,e[e[t="COLLECTIONS_EVENT_POPUP_START_DATE"]="collections_event_popup_start_date"]=t,e[e[t="COLLECTIONS_EVENT_POPUP_END_DATE"]="collections_event_popup_end_date"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB"]="collections_desktop_rtb"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB_ID"]="collections_desktop_rtb_id"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB_FEED"]="collections_desktop_rtb_feed"]=t,e[e[t="COLLECTIONS_DESKTOP_NEW_ADV"]="collections_desktop_new_adv"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB_CARD2CARD"]="collections_desktop_rtb_card2card"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB_CARD2CARD_ID"]="collections_desktop_rtb_card2card_id"]=t,e[e[t="COLLECTIONS_DESKTOP_ADV_GREY_LINK"]="collections_desktop_adv_grey_link"]=t,e[e[t="COLLECTIONS_DESKTOP_ADV_THIN_LINK"]="collections_desktop_adv_thin_link"]=t,e[e[t="COLLECTIONS_DESKTOP_ADV_BOLD_TITLE"]="collections_desktop_adv_bold_title"]=t,e[e[t="COLLECTIONS_DESKTOP_IMAGE_SOURCE_SIMILAR"]="collections_desktop_image_source_similar"]=t,e[e[t="COLLECTIONS_BRO_FEED_LANDSCAPE"]="collections_bro_feed_landscape"]=t,e[e[t="COLLECTIONS_YANDEX_BUG"]="collections_yandex_bug"]=t,e[e[t="COLLECTIONS_TOUCH_YANDEX_BUG"]="collections_touch_yandex_bug"]=t,e[e[t="COLLECTIONS_COLLECTION_HIDDEN_COMMENTS"]="collections_collection_hidden_comments"]=t,e[e[t="COLLECTIONS_DESKTOP_REC_UP"]="collections_desktop_rec_up"]=t,e[e[t="COLLECTIONS_TOUCH_REC_UP"]="collections_touch_rec_up"]=t,e[e[t="COLLECTIONS_TOUCH_OWNER_REC_UP"]="collections_touch_owner_rec_up"]=t,e[e[t="COLLECTIONS_VIDEO_REC"]="collections_video_rec"]=t,e[e[t="COLLECTIONS_ADD_BRO_LOG"]="collections_add_bro_log"]=t,e[e[t="COLLECTIONS_OPEN_LINKS_ON_MULTIMORDA"]="collections_open_links_on_multimorda"]=t,e[e[t="COLLECTIONS_TOUCH_POPUP_WHITE_FOOTER"]="collections_touch_popup_white_footer"]=t,e[e[t="COLLECTIONS_TOUCH_IMAGE_SOURCE_SIMILAR"]="collections_touch_image_source_similar"]=t,e[e[t="COLLECTIONS_APP_SIGNIN"]="collections_app_signin"]=t,e[e[t="COLLECTIONS_APPSEARCH_LANDSCAPE"]="collections_appsearch_landscape"]=t,e[e[t="COLLECTIONS_TOUCH_BULK_ONBOARDING"]="collections_touch_bulk_onboarding"]=t,e[e[t="COLLECTIONS_DESKTOP_OPEN_COLLABS"]="collections_desktop_open_collabs"]=t,e[e[t="COLLECTIONS_MOBILE_OPEN_COLLABS"]="collections_mobile_open_collabs"]=t,e[e[t="COLLECTIONS_ACCEPT_INVITE_BLUE"]="collections_accept_invite_blue"]=t,e[e[t="DESKTOP_CARD_DIRECT_POSITION"]="desktop_card_direct_position"]=t,e[e[t="DESKTOP_CARD_DIRECT_QUERY"]="desktop_card_direct_query"]=t,e[e[t="COLLECTIONS_DESKTOP_VIEWER_RTB_ADV"]="collections_desktop_viewer_rtb_adv"]=t,e[e[t="COLLECTIONS_DESKTOP_VIEWER_DIRECT_STYLE"]="collections_desktop_viewer_direct_style"]=t,e[e[t="COLLECTIONS_DESKTOP_VIEWER_RTB_ROW_ADV"]="collections_desktop_viewer_rtb_row_adv"]=t,e[e[t="COLLECTIONS_DESKTOP_VIEWER_DIRECT_SHOW_SITELINKS"]="collections_desktop_viewer_direct_show_sitelinks"]=t,e[e[t="COLLECTIONS_DESKTOP_VIEWER_DIRECT_MOVE_TOP"]="collections_desktop_viewer_direct_move_top"]=t,e[e[t="COLLECTIONS_MOBILE_DIRECT_QUERY"]="collections_mobile_direct_query"]=t,e[e[t="COLLECTIONS_MOBILE_RTB_CARD"]="collections_mobile_rtb_card"]=t,e[e[t="COLLECTIONS_MOBILE_RTB_CARD_OPTION"]="collections_mobile_rtb_card_option"]=t,e[e[t="MOBILE_RTB_FEED"]="mobile_rtb_feed"]=t,e[e[t="MOBILE_RTB_BLOCK_ID"]="mobile_rtb_block_id"]=t,e[e[t="COLLECTIONS_MOBILE_VIEWER_RTB_ADV_ID"]="collections_mobile_viewer_rtb_adv_id"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB_CARD2BOARD_BLOCKID"]="collections_desktop_rtb_card2board_blockid"]=t,e[e[t="COLLECTIONS_DESKTOP_RTB_CARD2BOARD"]="collections_desktop_rtb_card2board"]=t,e[e[t="COLLECTIONS_MOBILE_RTB_CARD2BOARD_BLOCKID"]="collections_mobile_rtb_card2board_blockid"]=t,e[e[t="COLLECTIONS_MOBILE_RTB_CARD2BOARD"]="collections_mobile_rtb_card2board"]=t,e[e[t="COLLECTIONS_PROFILE_STATISTICS"]="collections_profile_statistics"]=t,e[e[t="COLLECTIONS_ADD_BUNDLE"]="collections_add_bundle"]=t,e[e[t="COLLECTIONS_ADD_BUNDLE_TOUCH"]="collections_add_bundle_touch"]=t,e[e[t="COLLECTIONS_BRO_ADD_BUNDLE"]="collections_bro_add_bundle"]=t,e[e[t="COLLECTIONS_DESKTOP_ADD_INTERNAL"]="collections_desktop_internal_add"]=t,e[e[t="COLLECTIONS_DESKTOP_INTERNAL_ADD_SELECT_ALL"]="collections_desktop_internal_add_select_all"]=t,e[e[t="COLLECTIONS_MOBILE_ADD_INTERNAL"]="collections_mobile_internal_add"]=t,e[e[t="COLLECTIONS_DESKTOP_COAUTHORS_PROMO_MYBOARDS"]="collections_desktop_coauthors_promo_myboards"]=t,e[e[t="COLLECTIONS_DESKTOP_COAUTHROS_PROMO_BOARD"]="collections_desktop_coauthors_promo_board"]=t,e[e[t="COLLECTIONS_MASONRY_SECOND_PAGE"]="collections_masonry_second_page"]=t,e[e[t="COLLECTIONS_DESKTOP_ADD_RENDER"]="collections_desktop_add_render"]=t,e[e[t="COLLECTIONS_DESKTOP_ADD_PRODUCT"]="collections_desktop_add_product"]=t,e[e[t="COLLECTIONS_PRODUCT_PRICE_LABEL"]="collections_product_price_label"]=t,e[e[t="COLLECTIONS_DESKTOP_SHOW_MAKE_COVER"]="collections_desktop_show_make_cover"]=t,e[e[t="COLLECTIONS_POPUP_BEHAVIOUR_ADV"]="collections_popup_behaviour_adv"]=t,e[e[t="COLLECTIONS_DESKTOP_BOARD_ADV"]="collections_desktop_board_adv"]=t,e[e[t="COLLECTIONS_DESKTOP_NEW_PLUGIN"]="collections_desktop_new_plugin"]=t,e[e[t="COLLECTIONS_COLD_ONBOARD"]="collections_cold_onboard"]=t,e[e[t="COLLECTIONS_MOBILE_FEED_BOARD_INCUT"]="collections_mobile_feed_board_incut"]=t,e[e[t="COLLECTIONS_AUTHOR_SUBSCRIBE"]="collections_author_subscribe"]=t,e[e[t="COLLECTIONS_RECOMMENDATION_AFTER_SUBSCRIPTION"]="collections_recommendation_after_subscription"]=t,e[e[t="COLLECTIONS_UNAUTH_LIKE"]="collections_unauth_like"]=t,e[e[t="COLLECTIONS_UNAUTH_COLLECTION"]="collections_unauth_collection"]=t,e[e[t="COLLECTIONS_UNAUTH_CARD"]="collections_unauth_card"]=t,e[e[t="COLLECTIONS_UNAUTH_CHANNEL"]="collections_unauth_channel"]=t,e[e[t="COLLECTIONS_UNAUTH_SOCIAL"]="collections_unauth_social"]=t,e[e[t="COLLECTIONS_DESKTOP_DISLIKE"]="collections_desktop_dislike"]=t,e[e[t="COLLECTIONS_CUT_THE_CRAP"]="collections_cut_the_crap"]=t,e[e[t="COLLECTIONS_MOBILE_ADD_EDIT"]="collections_mobile_add_edit"]=t,e[e[t="COLLECTIONS_UNAUTH_FEED"]="collections_unauth_feed"]=t,e[e[t="COLLECTIONS_UNAUTH_FEED_MOBILE"]="collections_unauth_feed_mobile"]=t,e[e[t="COLLECTIONS_DESKTOP_CARD_CTRLS"]="collections_desktop_card_ctrls"]=t,e[e[t="COLLECTIONS_AAB_COOKIE"]="collections_aab_cookie"]=t,e[e[t="COLLECTIONS_DESKTOP_OPEN_CHAT_TOOLTIP"]="collections_desktop_open_chat_tooltip"]=t,e[e[t="COLLECTIONS_DESKTOP_ADD_PRODUCT_WITH_CHAT"]="collections_desktop_add_product_with_chat"]=t,e[e[t="COLLECTIONS_DESKTOP_CHAT_FOR_COLLABORATORS"]="collections_desktop_chat_for_collaborators"]=t,e[e[t="COLLECTIONS_DESKTOP_CHAT_WITH_OWNER_PROFILE"]="collections_desktop_chat_with_owner_profile"]=t,e[e[t="COLLECTIONS_TOOLTIP_COLLECTION_SHARE"]="collections_tooltip_collection_share"]=t,e[e[t="COLLECTIONS_DESKTOP_MAIN_BROWSER"]="collections_desktop_main_browser"]=t,e[e[t="COLLECTIONS_DESKTOP_PUBLIC_TOOLTIP_USER"]="collections_desktop_public_tooltip_user"]=t,e[e[t="COLLECTIONS_DESKTOP_PUBLIC_TOOLTIP_PROFILE"]="collections_desktop_public_tooltip_profile"]=t,e[e[t="COLLECTIONS_DESKTOP_PUBLIC_TOOLTIP_BOARD"]="collections_desktop_public_tooltip_board"]=t,e[e[t="COLLECTIONS_DESKTOP_REPIN_ONECLICK"]="collections_desktop_repin_oneclick"]=t,e[e[t="COLLECTIONS_TOUCH_RECOMMENDATIONS_REPIN"]="collections_touch_recommendations_repin"]=t,e[e[t="COLLECTIONS_DESKTOP_SIMILAR_REPIN"]="collections_desktop_similar_repin"]=t,e[e[t="COLLECTIONS_MOBILE_SIMILAR_REPIN"]="collections_mobile_similar_repin"]=t,e[e[t="COLLECTIONS_FEATURED"]="collections_featured"]=t,e[e[t="COLLECTIONS_APPSEARCH_RECENT_AUTH"]="collections_appsearch_recent_auth"]=t,e[e[t="COLLECTIONS_DESKTOP_BOARDS_RECOMMENDATIONS"]="collections_desktop_boards_recommendations"]=t,e[e[t="COLLECTIONS_AUTH_SEARCH"]="collections_auth_search"]=t,e[e[t="COLLECTIONS_DESKTOP_ADD_BOARD_SEARCH"]="collections_desktop_add_board_search"]=t,e[e[t="COLLECTIONS_TOUCH_ADD_BOARD_SEARCH"]="collections_touch_add_board_search"]=t,e[e[t="COLLECTIONS_TOUCH_COLLECTION_TEASER"]="collections_touch_collection_teaser"]=t,e[e[t="COLLECTIONS_DESKTOP_DISABLE_INSTANT_SAVE"]="collections_desktop_disable_instant_save"]=t,e[e[t="COLLECTIONS_MOBILE_DISABLE_INSTANT_SAVE"]="collections_mobile_disable_instant_save"]=t,e[e[t="COLLECTIONS_MOBILE_2020_SEARCH"]="collections_mobile_2020search"]=t,e[e[t="COLLECTIONS_MOBILE_SMART_HEADER"]="collections_mobile_smart_header"]=t,e[e[t="COLLECTIONS_DESKTOP_SOCIAL_TEASER"]="collections_desktop_social_teaser"]=t,e[e[t="COLLECTIONS_MOBILE_ABOUT_TOOLTIP"]="collections_mobile_about_tooltip"]=t,e[e[t="COLLECTIONS_DESKTOP_EDITORS_CHOICE_PAGE"]="collections_desktop_editors_choice_page"]=t,e[e[t="COLLECTIONS_MOBILE_EDITORS_CHOICE_PAGE"]="collections_mobile_editors_choice_page"]=t,e[e[t="COLLECTIONS_TOTAL_UNAUTH"]="collections_total_unauth"]=t,e[e[t="COLLECTIONS_DESKTOP_ADD_BULK"]="collections_desktop_add_bulk"]=t,e[e[t="COLLECTIONS_2020"]="collections_2020"]=t,e[e[t="COLLECTIONS_MOBILE_NY2020"]="collections_mobile_ny2020"]=t,e[e[t="COLLECTIONS_DESKTOP_NY2020"]="collections_desktop_ny2020"]=t,e[e[t="COLLECTIONS_DESKTOP_PROFILE_COVER"]="collections_desktop_profile_cover"]=t,e[e[t="COLLECTIONS_DESKTOP_EDITORS_CHOICE_PAGE_ADD"]="collections_desktop_editors_choice_page_add"]=t,e[e[t="COLLECTIONS_MOBILE_EDITORS_CHOICE_PAGE_ADD"]="collections_mobile_editors_choice_page_add"]=t,e[e[t="COLLECTIONS_DESKTOP_BULK"]="collections_desktop_bulk"]=t,e[e[t="BEAUTY_TABS_ANIMATED"]="beauty_tabs_animated"]=t,e[e[t="ZALOGIN_REG_BUTTON"]="zalogin_reg_button"]=t,e[e[t="APPHOST_BOARD_DATA"]="apphost_board_data"]=t,e[e[t="APPHOST_CARD_DATA"]="apphost_card_data"]=t,e[e[t="COLLECTIONS_REACT_VIEWER_CONTROLS"]="collections_react_viewer_controls"]=t,e[e[t="COLLECTIONS_DESKTOP_VIEWER"]="collections_desktop_viewer"]=t,e[e[t="TABS_ORDER_VERSION"]="tabs_order_version"]=t,e[e[t="SERVER_REQUEST_TIMEOUT"]="server_request_timeout"]=t,e[e[t="FEED_API_TIMEOUT"]="feed_api_timeout"]=t,e[e[t="COLLECTIONS_USER_API_TIMEOUT"]="collections_user_api_timeout"]=t,e[e[t="COLLECTIONS_SERVER_500"]="collections_server_500"]=t,e[e[t="CRITICAL_CSS_DISABLE"]="critical_css_disable"]=t,e[e[t="CRITICAL_CSS_ONLY"]="critical_css_only"]=t,e[e[t="CRITICAL_CSS_EXTERNAL"]="critical_css_external"]=t,e[e[t="METRIKA_WEBVISOR"]="metrika_webvisor"]=t,e[e[t="DISABLE_CSP"]="disable_csp"]=t,e[e[t="DISABLE_SW"]="disable_sw"]=t,e[e[t="DISABLE_OLD_CHROME_SW"]="disable_old_chrome_sw"]=t,e[e[t="DISABLE_SAFARI_SW"]="disable_safari_sw"]=t,e[e[t="DISABLE_YANDEXAPP_SW"]="disable_yandexapp_sw"]=t,e[e[t="DISABLE_BRO_SW"]="disable_bro_sw"]=t,e[e[t="DISABLE_IMAGES_CSP"]="disable_images_csp"]=t,e[e[t="DESKTOP_IMAGE_LOGO_DATE"]="desktop_image_logo_date"]=t,e[e[t="UNIQUE_URLS"]="unique_urls"]=t,e[e[t="COLLECTIONS_ADV_LOGGING"]="collections_adv_logging"]=t,e[e[t="COLLECTIONS_DISABLE_XFRAME_OPTIONS"]="collections_disable_xframe_options"]=t,e[e[t="COLLECTIONS_DISABLE_DIRECT_CSP"]="collections_disable_direct_csp"]=t,e[e[t="COLLECTIONS_BK_CONTEXT_URL"]="collections_bk_context_url"]=t,e[e[t="COLLECTIONS_RECOMMENDER_BLOCK_ID"]="collections_recommender_block_id"]=t,e[e[t="COLLECTIONS_DISABLE_CSP_EVAL"]="collections_disable_csp_eval"]=t,e[e[t="COLLECTIONS_DISABLE_BRO_RTB"]="collections_disable_bro_rtb"]=t,e[e[t="COLLECTIONS_CLIENT_500"]="collections_client_500"]=t,e[e[t="COLLECTIONS_DISABLE_ROBOTS_ACCESS"]="collections_disable_robots_access"]=t,e[e[t="COLLECTIONS_COMMENTS"]="collections_comments"]=t,e[e[t="COLLECTIONS_COMMENTS_URL"]="collections_comments_url"]=t,e[e[t="COLLECTIONS_COMMENTS_TOKEN"]="collections_comments_token"]=t,e[e[t="COLLECTIONS_IMAGE_SESSION_SIGNAL"]="collections_image_session_signal"]=t,e[e[t="COLLECTIONS_CRITICAL_CACHE"]="collections_critical_cache"]=t,e[e[t="COLLECTIONS_SEND_BEACON_DATA"]="collections_send_beacon_data"]=t,e}({});t.d=a},IN3w:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({limit:"You can choose no more than 100 cards"})},INas:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("NuA5"),i=n("IWXk"),a=Object(r.a)("profileUser",i.a)},"IV/k":function(e,t,n){"use strict";function r(e){return e&&e.description}n.d(t,"a",(function(){return r}))},IWXk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YFOV"),i=Object(r.a)("users")},Ib6J:function(e,t,n){"use strict";n("Nn3Z"),n("yO7b"),n("EF4d"),n("K8/O").a.applyDecls()},IgGK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("T6Rw"),i=n("3WeZ"),a=Object(r.a)((function(e,t){void 0===t&&(t={});var n=t.scrollToCard,r=void 0===n||n;return Object(i.a)(e,{scrollToCard:r})}))},IonQ:function(e,t,n){"use strict";var r,i=n("lPPs"),a=n("lc+m"),o=n("/KRU"),s=n("om3R"),c=n("Jxqj"),u=n("5DR/"),l=n("CACh"),d=n("RLYd"),h=Object(d.a)(u.a,(function(e){if(e)return Object(l.a)(e)})),f=n("MMez"),p=n("rT8E"),b=n("CsIx"),m=n("izju"),v=n("o/z3");n.d(t,"a",(function(){return O}));var g=((r={})[m.a.IMAGE]=v.imageFavorites(),r[m.a.VIDEO]=v.videoFavorites(),r[m.a.FILM]=v.filmFavorites(),r[m.a.SERIES]=v.seriesFavorites(),r[m.a.LINK]=v.linkFavorites(),r[m.a.BOOK]=v.bookFavorites(),r[m.a.GEO]=v.geoFavorites(),r[m.a.ORGANIZATION]=v.organizationFavorites(),r);function O(e,t,n){var r=Object(a.a)(e,t);if(r){var u=Object(b.a)(Object(c.a)(e,t)),l=Object(s.a)(r),d=Object(p.a)(l),m=Object(o.a)(e,t),O=u?d&&g[d]||v.imageFavorites():Object(i.a)(m);return n&&n.date&&(O=h(r)||""),{title:Object(f.a)(e,t)||"",desc:O}}}},Iq3C:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n("+wBA"),i=n("WB5C"),a="ei_guide_cards_step",o="DesktopMainGuideProfile",s=1.5;function c(e){return Object(i.a)(e)&&Object(r.a)(e,a,s)}},It21:function(e,t,n){},Iv6v:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("VbXa"),i=n.n(r),a=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n._constructor=function(t,n){e.prototype._constructor.call(this,t,n),this.options=n||{},this.options.request&&this.setRequestAdapter(this.options.request)},n.url=function(){return this.getId()?this.urlRoot+encodeURIComponent(this.getId())+"/":this.urlRoot},n.setId=function(e){this.set(this.idAttribute,e)},n.getId=function(){return this.id},n.save=function(t,n,r){var i=this,a=this.isNew(),o=r;return null!==t&&"object"!=typeof t||(o=n),e.prototype.save.call(this,t,n,r).then((function(e){return i.trigger(a?"save:create":"save:update",o),e}))},n.remove=function(t){return Promise.resolve(e.prototype.remove.call(this,Object.assign({wait:!0,dataTypes:"text"},t)))},n.expectFields=function(e){var t=this;return!this.id||e.every((function(e){for(var n=e.split("."),r=t;r&&n.length;)r=r.get(n.shift());return Boolean(r)}))?Promise.resolve(this):this.fetch().then((function(){return t}))},n.clone=function(){var t=this.getRequestAdapter(),n=e.prototype.clone.call(this);return n.setRequestAdapter(t),n},n.toViewJSON=function(){return e.prototype.toJSON.call(this)},n.updateDependencies=function(e){var t=e.request,n=e.env;n&&this.setEnv(n),t&&this.setRequestAdapter(t)},t.factory=function(e){return this.dataFactory(null,e)},t.dataFactory=function(e,t){return new this(e,t)},t}(n("bmsa").a)},IxYx:function(e,t,n){"use strict";var r=n("wjhi"),i=n("pVnL"),a=n.n(i),o=n("3WeZ"),s=n("T6Rw");n.d(t,"a",(function(){return u}));var c,u=Object(s.a)((c=r.a,function(e,t){var n;return Object(o.a)(e,((n={}).locks=a()({},c(e),{},t),n))}))},"J+iS":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/6d0f.png"},J012:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({expand:"Expand"})},"JBI/":function(e,t,n){"use strict";var r=n("sUFg");t.a=r.a.applyDecls()},JEEa:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Zoo8"),i=n("ElOb"),a=function(){function e(e,t){var n=t.unit,a=void 0===n?"milliseconds":n,o=t.forbidNegative;a=Object(i.g)(a),o&&e<0&&(e=0),this.months=this.milliseconds=0,"month"===a||"year"===a?this.months=Number(e)*("month"===a?1:12):this.milliseconds=Number(e)*r.b[a],this.milliseconds+=this.months%1*r.c,this.months=Object(i.b)(this.months)}var t=e.prototype;return t.getTime=function(){return this.milliseconds+r.c*this.months},t.getParts=function(){var e=this.milliseconds,t=Object(i.b)(e/1e3),n=Object(i.b)(t/60),r=Object(i.b)(n/60),a=Object(i.b)(r/24),o=Object(i.b)(Object(i.d)(a)),s=this.months+o,c=Object(i.b)(s/12);return{ms:e%1e3,s:t%60,m:n%60,h:r%24,d:a-Object(i.a)(Object(i.e)(o)),M:s%12,y:c}},t.getAbsoluteParts=function(){var e=Math.abs(Object(i.c)(this.milliseconds)),t=Math.abs(Object(i.c)(e/1e3)),n=Math.abs(Object(i.c)(t/60)),r=Math.abs(Object(i.c)(n/60)),a=Math.abs(Object(i.c)(r/24)),o=Math.abs(this.months+Object(i.c)(Object(i.d)(a)));return{ms:e,s:t,m:n,h:r,d:a,M:o,y:Math.abs(Object(i.c)(o/12))}},t.toISOString=function(){var e=(this.milliseconds+r.c*this.months)/1e3,t=this.getParts(),n=t.s,i=t.m,a=t.h,o=t.d,s=t.M,c=t.y;return e?(e<0?"-":"")+"P"+(c?c+"Y":"")+(s?s+"M":"")+(o?o+"D":"")+(a||i||n?"T":"")+(a?a+"H":"")+(i?i+"M":"")+(n?n+"S":""):"P0D"},t.get=function(e){var t=this.getParts();if((e=Object(i.g)(e))in r.g)return t[r.g[e]];throw new Error("Unknown unit "+e)},t.humanize=function(t,n){void 0===t&&(t=!1);var a=void 0===n?{}:n,o=a.key,s=a.unit,c=(a.locale,this.getAbsoluteParts()),u=c.s,l=c.m,d=c.h,h=c.d,f=c.M,p=c.y;s=o?s||o[0]:(o=(u<=r.d.ss?"s":u<r.d.s&&"ss")||l<=1&&"m"||l<r.d.m&&"mm"||d<=1&&"h"||d<r.d.h&&"hh"||h<=1&&"d"||h<r.d.d&&"dd"||f<=1&&"M"||f<r.d.M&&"MM"||p<=1&&"y"||"yy")[0];var b=c[r.g[Object(i.g)(s)]];return e.relativeTime(o,Math.sign(this.milliseconds+this.months)*b,t)},e.relativeTime=function(e,t,n){void 0===n&&(n=!1);var r=Object(i.f)("en"),a=r.relativeTime[e];return"function"==typeof a&&(a=a(t,!n,e)),n&&(a=r.relativeTime.past.replace("%s",(function(){return a}))),a=a.replace("%d",(function(){return t}))},e}()},JFDR:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("gLBg"),c=n("y1pN"),u=n("3lXt"),l=n("nt9X"),d=n("K7k/"),h=n("nAK0"),f=n("CsIx"),p=n("RWwA"),b=n("izju"),m=n("WLYw"),v=n("LYw3"),g=n("lPPs"),O=n("CHZ4"),_=n("Wopx"),y={isBrowserFavorites:1},C=Object(o.b)((function(e,t){var n=Object(u.a)(e,t.boardId);if(!n)return{};var r,a,o=Object(_.a)(e),h=o.isYandexApp,C=o.isYandexRecent,E=o.isMultiMordaApp,j=o.utm,S=Object(O.a)(e,s.a.ADD_FLOW),w=Object(c.a)(e,n.id),k=Object(l.a)(w),I=Object(p.a)(n)||b.a.IMAGE,T=Object(m.a)(n),R=j;if(Object(f.a)(w))r=Object(s.r)(I,R),a=Object(v.a)(I);else{var L=C?i()({},R,{},y):R;r=k&&T&&Object(s.f)(k,T,L),a=Object(g.a)(n)}return{href:r&&h&&C?Object(d.a)(r):r,title:a,target:E||C||S?"_blank":void 0,boardId:n.id,recId:n.recommendations_id}}))((function(e){var t=e.href,n=e.title,r=e.boardId,o=e.recId,s=e.target,c=e.className,u=e.withoutTitle,l=e.children,d=e.counter;return t?a.createElement("a",{href:t,className:c,target:s,"data-c":h.c.clickBoard(i()({},d,{boardId:r,recId:o}))},!u&&(l||n)):null}))},JTLk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sIh0"),i=1e3;function a(e){void 0===e&&(e=0);var t=new Date,n=t.getUTCFullYear(),a=t.getUTCMonth(),o=t.getUTCDate(),s=Math.round(e/i);return{id:"photo-of-the-day",slug:"photo-of-the-day",title:r.photoDailyTitle(),description:r.photoDailyDescription(),schedule:{submission:new Date(Date.UTC(n,a,o,18,0,s)).toISOString(),evaluation:new Date(Date.UTC(n,a,o,18,0,s)).toISOString(),conclusion:new Date(Date.UTC(n,a,o,21,0,s)).toISOString()},stats:{ballots:0}}}},Ja54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("HVa/").b.action();n("I7lw")},JaHL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("rT8E"),o=Object(i.a)(r.a,(function(e){var t=e&&e.content&&e.content[0];return Object(a.a)(t)}))},JeHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("y6Xm"),i=n("RLYd"),a=n("/Oqo"),o=Object(i.a)(a.a,Object(r.a)("cards",0))},JhOR:function(e,t,n){"use strict";var r=n("Faot");t.a=r.a.applyDecls()},JhPm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="CARD"]="card"]=t,e[e[t="BOARD"]="board"]=t,e}({})},JmCj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3lXt"),i=n("y1pN");function a(e,t){return{board:Object(r.a)(e,t),owner:Object(i.a)(e,t)}}},JmMj:function(e,t,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),a=n("/+oc"),o=n("lc+m"),s=n("kWnB"),c=n("5gmI"),u=n("kKIY"),l=n("W7A8"),d=n("7dCv"),h=n("AhEr"),f=n("Heix"),p=n("5DR/"),b=n("gdZZ"),m=n("3M9W"),v=n("ol8y"),g=n("y1pN"),O=n("+3en"),_=n("XPFG"),y=n("MTjZ"),C=["boardCards","userCards","searchCards"];function E(e,t){var n=Object(_.a)(Object(y.a)(e)),r=Object(O.a)(e),i=Object(_.a)(r),a=Object(_.a)(Object(g.a)(e,i)),o=(r||{}).collabs,s=t&&C.includes(t),c=o&&o.length;return Boolean(s&&(n!==a||c))}var j=n("Tl7j"),S=n("Hkgn"),w=n("uDOU"),k=n("x9gI"),I=n("Mp5Z"),T=n("TUXw"),R=n("GGxO"),L=n("6/ZC"),x=n("6jw5"),D=n("rT8E"),N=n("Hxdx"),A=n("RYE9"),P=n("8fc2"),B=n("O/ol"),M=n("ICaW"),U=n("Df4F"),F=n("izju"),V=n("7oCh"),H=n("GhlN"),W=n("pVnL"),z=n.n(W),K=n("VbXa"),Y=n.n(K),q=n("U+yc"),G=n.n(q),X=n("LH8O"),J=n("ng36"),Z=n("6ga4"),Q=n("xFYi"),$=n("VRo3"),ee=n("bphC"),te=n("/KRU"),ne=n("Jxqj"),re=n("om3R");n("+zfR");var ie,ae,oe,se,ce,ue=[F.a.IMAGE,F.a.VIDEO],le=n("9kjY"),de=n("aJLw"),he=n("pNVW"),fe=n("U9Ap"),pe=n("Wopx"),be=n("P34R"),me=n("+r4z"),ve=n("nUi2"),ge=n("CsIx"),Oe=n("gLBg"),_e=n("AF+Z"),ye=n("FOrz"),Ce=n("o0o1"),Ee=n.n(Ce),je=n("WyUc"),Se=n("4RqY"),we=n("cYeE"),ke=n("ICS8"),Ie=n("qh/6"),Te=n("nAK0"),Re=Object(Se.a)((function(e,t){var n=e.cardId,r=e.counter,i=t.dispatch;return function(e,t){var n,r,i;return Ee.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.cardId,r=e.counter,i=t.dispatch,Te.d.clickCardDislike(z()({},r,{cardId:n})),i(Object(we.a)({id:n,stateKey:"cards",reason:je.a.HIDE,sendCounter:!1}));case 4:case"end":return a.stop()}}))}({cardId:n,counter:r},{dispatch:i}).then((function(){var e,t;e=n,Ee.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.a.awrap(Object(ke.a)(Ie.a.REMOVE_CARD));case 2:(t=n.sent)&&t.postMessage({data:{id:e}});case 4:case"end":return n.stop()}}))}))})),Le=n("EvZm"),xe=Object(i.b)()(function(e){function t(){return e.apply(this,arguments)||this}return Y()(t,e),t.prototype.render=function(){var e=this.props,t=e.cardId,n=e.className,i=e.dispatch,a=e.counter;return r.createElement(Le.a,z()({},this.props,{className:Object(Z.a)("button_card",{dislike:!0},n),onClick:function(){i(Re({cardId:t,counter:a}))}}))},t}(r.Component)),De=n("tVjm"),Ne=n("VPES"),Ae=n("yPj3"),Pe=n("9EBK"),Be=(n("Gqad"),function(e){var t=e.className,n=e.children,i=e.itemRef;return r.createElement("div",{className:Object(H.a)("cl-pulse-animation-container",{},t),ref:i},n)}),Me=n("SKNd"),Ue=n.n(Me),Fe=n("VA5u"),Ve=n.n(Fe),He=n("ATg4"),We=n.n(He),ze=n("dPRx"),Ke=n.n(ze),Ye=n("iFr2"),qe=n.n(Ye),Ge=n("chMB"),Xe=n.n(Ge),Je=n("CEFX"),Ze=n.n(Je);n("Ysr/"),n("3STI");var Qe=0,$e=0,et=(ie=Object(X.a)(),ae=Object(X.a)(),oe=Object(X.a)(),se=Object(X.a)(),ce=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).state={animationType:"",anchors:{},hasUserLiked:0!==t.props.userLikesCount},t.containerRef=r.createRef(),t}Y()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.containerRef&&this.containerRef.current&&!this.observer&&this.props.animationLikeFrequency&&(this.observer=Object(J.a)(this.containerRef.current,{threshold:1},this.onVisibilityChange))},n.componentDidUpdate=function(){var e=this.props.userLikesCount;!this.state.hasUserLiked&&e&&e>0&&this.setState({hasUserLiked:!0})},n.componentWillUnmount=function(){clearTimeout(this.animationTimeout),clearTimeout(this.actionTimeout),this.observer&&this.observer()},n.setAnchor=function(e,t){var n=this;t&&this.state.anchors[e]!==t&&setTimeout((function(){var r;return n.setState({anchors:z()({},n.state.anchors,(r={},r[e]=t,r))})}))},n.render=function(){var e,t=this,n=this.props,i=n.cardId,a=(n.stateKey,n.className),o=(n.showSimilar,n.showWish,n.button,n.isLiked),s=n.isOwnerCard,c=n.isProfileCompanyParticipant,u=(n.isWishList,n.isDislikeButtonExp),l=(n.isRestrictedOwner,n.showYaShare),d=n.isMultiMordaApp,h=n.dispatch,f=n.hasMineCards,p=(n.showKebab,n.showColdOnboardLike),b=n.showColdOnboardRepin,m=(n.userLikesCount,n.onboardLikeShowing),v=n.onboardRepinShowing,g=n.hasUserRepined,O=this.state.hasUserLiked,_=this.state.anchors,y=(_.likeAnchor,_.repinAnchor,s||c);d||(e=r.createElement(Le.a,{ei:!0,type:"white",shape:"round",shadow:!0,size:"M",className:"cl-card-teaser-controls__button cl-card-teaser-controls__button_edit",iconComponent:r.createElement(Pe.a,{className:"cl-card-teaser-controls__button-icon cl-card-teaser-controls__button-icon_edit",icon:Ke.a}),onClick:function(){return h(Object(_e.a)(i))},props:{}}));var C=r.createElement(r.Fragment,null,r.createElement(De.a,{type:"white",ei:!0,shape:"round",shadow:!0,size:"M",className:"cl-card-teaser-controls__button cl-card-teaser-controls__button_like",iconComponent:r.createElement(Pe.a,{className:Object(Z.a)("cl-card-teaser-controls__button-icon",{like:!0,"cold-onboard":p&&!O&&m}),icon:o?Xe.a:qe.a}),showStat:!1,cardId:i,onLike:this.onCardLike}),!u||y||f||o?l?r.createElement(Ae.a,{type:"white",ei:!0,shape:"round",shadow:!0,size:"M",iconOnly:!1,className:"cl-card-teaser-controls__button cl-card-teaser-controls__button_ya-share",icon:!1,iconComponent:r.createElement(Pe.a,{className:"cl-card-teaser-controls__button-icon cl-card-teaser-controls__button-icon_ya-share",icon:Ze.a}),id:i,storeKey:"cards"}):null:r.createElement(xe,{type:"white",ei:!0,shape:"round",shadow:!0,size:"M",className:"cl-card-teaser-controls__button cl-card-teaser-controls__button_dislike",iconComponent:r.createElement(Pe.a,{className:Object(Z.a)("cl-card-teaser-controls__button-icon",{dislike:!0,"cold-onboard":p&&!O&&m}),icon:We.a}),cardId:i}));return r.createElement(r.Fragment,null,r.createElement(Be,{className:Object(Z.a)("cl-card-teaser-controls",{animation:this.state.animationType},a),itemRef:this.containerRef},y?e:r.createElement(Ne.a,{ei:!0,type:"action",shape:"round",shadow:!0,size:"M",className:"button_card cl-card-teaser-controls__button cl-card-teaser-controls__button_share",iconComponent:r.createElement(Pe.a,{className:Object(Z.a)("cl-card-teaser-controls__button-icon",{share:!0,"cold-onboard":!g&&b&&v}),icon:Ue.a}),alreadySharedIcon:r.createElement(Pe.a,{className:"cl-card-teaser-controls__button-icon cl-card-teaser-controls__button-icon_share",icon:Ve.a}),iconOnly:!0,showStat:!1,hideLabel:!1,cardId:i,onShare:this.onCardShare,props:{ref:function(e){return t.setAnchor("repinAnchor",e)}}}),C,!1,!1,void 0,!1,!1),!1,!1)},n.onVisibilityChange=function(e){var t=this;this.actionTimeout&&(clearTimeout(this.actionTimeout),this.actionTimeout=0),e?this.actionTimeout=setTimeout((function(){var e=t.props,n=e.animationLikeFrequency,r=e.isLiked,i=e.hasMineCards,a=e.isOwnerCard,o=function(e){return 0!==e&&Qe%e==0?++$e%2==0?"like":"save":""}(n);(!o||"like"===o&&!r||"save"===o&&!i||a)&&(Qe++,o&&(t.setState({animationType:o}),clearTimeout(t.animationTimeout),t.animationTimeout=setTimeout((function(){t.setState({animationType:""})}),2e3)))}),2e3):this.actionTimeout&&clearTimeout(this.actionTimeout)},n.onCardShare=function(){},n.onUserInteraction=function(){var e=this.props,t=e.dispatch,n=e.cardId,r=e.stateKey;t(Object(ye.a)({id:n,value:{interacted:r}}))},n.onCardLike=function(){},t}(r.Component),G()(ce.prototype,"onVisibilityChange",[ie],Object.getOwnPropertyDescriptor(ce.prototype,"onVisibilityChange"),ce.prototype),G()(ce.prototype,"onCardShare",[ae],Object.getOwnPropertyDescriptor(ce.prototype,"onCardShare"),ce.prototype),G()(ce.prototype,"onUserInteraction",[oe],Object.getOwnPropertyDescriptor(ce.prototype,"onUserInteraction"),ce.prototype),G()(ce.prototype,"onCardLike",[se],Object.getOwnPropertyDescriptor(ce.prototype,"onCardLike"),ce.prototype),ce),tt=Object(i.a)((function(e,t){var n=t.cardId,r=t.showSimilar,i=t.showComplain,a=(Object(pe.a)(e).ua||{BrowserName:null}).BrowserName,o=Object(me.a)(e),s=Object(te.a)(e,n),c=Object(ne.a)(e,n),u=Boolean(Object(he.a)(e,n)||Object(Q.a)(s)),l=Object(fe.a)(e,n),d=Object(g.a)(e,Object(_.a)(s)),h=Object(ve.a)(d),f=function(e,t){var n,r=Object(re.a)(e,t),i=Object(D.a)(r),a=ue.includes(i),o=(n=t,Boolean(n&&0===n.indexOf("_url/")));return Boolean(a&&(!o||!1))}(e,n);return{isLiked:Object(de.a)(e,n),isOwnerCard:s&&Object(ee.a)(e,s.id)||Object(fe.a)(e,n),isProfileCompanyParticipant:h,isWishList:Boolean(Object($.a)(s)),hasViewerControls:Boolean(!1),isDislikeButtonExp:Object(k.a)(e,M.d.COLLECTIONS_DESKTOP_DISLIKE),animationLikeFrequency:"AndroidBrowser"===a&&o!==Oe.a.CARD?0:20,isRestrictedOwner:Object(ge.a)(c),showYaShare:!u,hasMineCards:Object(le.a)(e,n),isMultiMordaApp:Object(be.a)(e.env),showSimilar:Boolean(r&&f),showKebab:Boolean(i&&!(l||h)),userLikesCount:void 0,onboardLikeShowing:void 0,onboardRepinShowing:void 0,hasUserRepined:void 0}}))(et),nt=n("weQ4"),rt=n("auIy"),it=n("iwIO"),at=n("ICKy"),ot=n("8UbU");n.d(t,"a",(function(){return st}));var st=Object(i.a)((function(e,t){var n,r=t.cardId,i=t.badgeType,a=Object(o.a)(e,r),s=Object(d.a)(a),u=Object(k.a)(e,M.d.COLLECTIONS_DESKTOP_CARD_CTRLS);if(i===c.a.CONTEST&&e.contest){var h=Object(B.a)(e,e.contest.id),f=Object(c.b)(a,h);n=f&&f.label||void 0}return{card:a,contestLabel:n,isVideo:Object(v.a)(a),content:s,isCardLocked:Object(l.a)(e,r),isLastUpdatedLabel:E(e,t.storeKey),isVisibleControlsExp:"top"===u||"bottom"===u,showProductPriceLabel:Object(j.a)(e,r)}}))((function(e){var t=e.badgeType,n=e.preview,i=e.card,o=e.content,l=e.contestLabel,d=e.isVideo,v=e.isCardLocked,g=e.isLastUpdatedLabel,O=e.itemPosition,_=e.isAdd,y=e.isVisibleControlsExp,C=e.showProductPriceLabel;if(!o||!i)return null;var E,j,k,B,M=i.market,W=Object(D.a)(o),z=Object(x.a)(o),K=Object(A.a)(o),Y=(n?Object(f.a)(i):i.content&&i.content.length)||0,q=Boolean(Y>1),G=Object(R.a)(W),X=Object(L.a)(W),J=Object(b.a)(i)||Object(m.a)(i),Z=t===c.a.CONTEST,Q=W===F.a.LINK,$=function(e){if(e&&e.source&&e.source.entity&&e.source.entity.kinopoisk_rating){var t=e.source.entity.kinopoisk_rating.rating_value;if("number"==typeof t)return t.toFixed(1)}}(o),ee=Object(s.a)(i),te=Object(S.a)("s375",o),ne=te.height/te.width,re=Object(T.a)(ee,.1),ie=Object(u.a)(M),ae={backgroundColor:re,paddingTop:Math.round(100*ne)+"%"};C?(E="price",j=Object(h.a)(i,!0)):Z?j=l:ie?(E="market",j=ie):X||J?E="geo":q?(E="series",j=Y):d?z&&(E="video",j=Object(a.a)(z),k=Object(P.a)(o)?"hd":""):G?(ae={backgroundColor:re},B={boxShadow:"0 15px 21px -10px "+Object(T.a)(ee,.7)}):K?(E="gif",j="gif"):Q&&(j=Object(w.a)(Object(N.a)(o)));var oe,se=ne<.3125,ce="current-card-temp"===i.id&&Q&&(!o||!o.source||!o.source.preview),ue=se&&Q||ce;if(se&&!ue?(oe=U.a,ae.paddingTop=100*U.c+"%"):oe=G?"s280":"s375",ue){var le=o&&!o.id&&o.source?o.source.url:o.id;ae.background=Object(I.a)(le)}var de=void 0!==O&&O<5;return r.createElement("div",{className:"cl-teaser__picture",style:ae},r.createElement(it.a,{mods:{fit:!1,"teaser-card":!0,"min-height":ue},className:"cl-card-teaser-picture",content:ce?void 0:o,size:oe,label:r.createElement(r.Fragment,null,de&&g&&r.createElement(ot.a,{updatedAt:Object(p.a)(i)}),r.createElement(V.a,{position:"bottom-left"},!_&&v?r.createElement(nt.a,{labelSize:"S"}):null,!ue&&r.createElement(at.a,{labelSize:"S",labelType:E,labelPosition:"static",labelValue:j,labelSub:k})),(d||K&&!ue)&&r.createElement(rt.a,null,r.createElement("span",{className:Object(H.a)("cl-teaser-video-play__icon",{size:"M"})}))),rating:$,style:B}),y&&r.createElement(tt,{cardId:i.id}))}))},Js1F:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("8fVR"),s=n("7kNC"),c=(n("K0pC"),n("2I9E"),n("EMDh"),n("V5CL"),n("7Gzh"),n("VdQS"),n("p7RJ"),n("jI17"),function(e){return a.createElement(s.a,i()({hasClose:!0},e,{corner:e.corner&&a.createElement(o.a,e.cornerProps,e.corner)}))})},Jtf9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="GAME"]="VideoGame"]=t,e[e[t="GEO"]="Geo"]=t,e}({})},JuUm:function(e,t,n){},Jv5b:function(e,t,n){},Jw3V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XPFG"),i=n("MTjZ");function a(e){var t=Object(i.a)(e);return Object(r.a)(t)}},JxqJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("/MKj"),i=n("nAK0");function a(e){return function(t){return Object(r.connect)(e)(t)}}function o(e){return function(t){return Object(r.connect)(e)(Object(i.f)(t))}}},Jxqj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("B8Yn"),a=n("IWXk"),o=Object(i.a)(r.a,"owner",a.a)},K3v3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("o0o1"),i=n.n(r),a=n("/bNA"),o=n("4RqY"),s=n("S7YN"),c=Object(o.a)((function(e,t){var n;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,i.a.awrap(n(Object(s.a)({storeKey:"user",url:"/collections/api/user",query:{}})));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),a.a.showXHRMessage(e.t0),e.t0;case 10:case"end":return e.stop()}}),null,null,[[1,6]])}))},K5nR:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("asM3"),o=n("T6Rw");function s(e){var t=e.normalizer,n=e.getEntity;return Object(o.a)((function(e,r){var o=r.id,s=r.value,c=r.parse;if(e){var u=c?t.parse(s):s,l=i()({},n(e,o),{},u,{id:o}),d=t(e.entities||{},l);if(d.entities!==e.entities)return i()({},e,{entities:Object(a.a)(d.entities)})}return e}))}},K6aF:function(e,t,n){"use strict";var r=n("ixsu");n.d(t,"a",(function(){return r.a}))},"K7k/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("4qu2");function i(e){return e&&0===e.indexOf("yellowskin://")?e:(e&&0!==e.indexOf("http")&&(e=Object(r.a)()+e),"yellowskin://?url="+encodeURIComponent(e))}},K9S7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("CSYv"),i=n("SiKM"),a={},o=0;function s(e){var t=(void 0===e?{}:e).check,n=void 0===t?[]:t,s=o++;return function(e){var t=a[s]={},o=e.prototype.idAttribute,c=e.dataFactory,u=e.prototype.parse;if(e.prototype.model){var l=e.prototype._prepareModel;e.prototype._prepareModel=function(e,t){var n=this.model;if(this._isModel(e))return e.collection||(e.collection=this),e;if(this.disableInstanceCache)return l.call(this,e,t);var r=n.getInstanceFromCache(e);return r?r.instanceCacheUpdate?r.instanceCacheUpdate(e,t):r.set(t.parse?r.parse(e):e):(r=l.call(this,e,t),n.putInstanceToCache(r)),r}}else if(e.dataFactory=function(e,t){var n=this;if(this.prototype.disableInstanceCache)return c.call(this,e,t);var i=this.getInstanceFromCache(e);return i?(i.instanceCacheUpdate&&i.instanceCacheUpdate(e,t),i):Object(r.e)(c.call(this,e,t),(function(e){return n.putInstanceToCache(e)}))},e.putInstanceToCache=function(e){var n=this,r=e.get(o);if(r){if(e.shouldBeCached&&!e.shouldBeCached())return e;t[r]?t[r]!==e&&console.warn("Cache collision - two equal instances: "+r,t[r],e):(t[r]=e,e.on("destroy",(function(){t[r]=null})))}else e.once("change:"+o,(function(){return n.putInstanceToCache(e)}));return e},e.getInstanceFromCache=function(e){if(e&&e[o]){var n=e[o];if(t[n])return t[n]}},e.whereInstancesFromCache=function(e){var n=Object(i.matches)(e);return Object(i.filter)(t,(function(e){return n(e.attributes)}))},e.findWhereInstanceFromCache=function(e){var n=e;if("function"!=typeof n){var r=Object(i.matches)(e);n=function(e){return e&&r(e.attributes)}}return Object(i.find)(t,(function(e){return e&&n(e)}))},e.prototype.parse=function(e,t){var n=this.constructor.getInstanceFromCache(e);return e&&e[o]&&!n&&(this.set("id",e[o]),this.constructor.putInstanceToCache(this)),u.call(this,e,t)},n.length){var d=function(e,t){for(var n=t,r=e.split(".");n&&r.length;){var i=r.shift();n="function"==typeof n.get?n.get(i):"function"==typeof n[i]?n[i]():n[i]}return n};e.prototype.instanceCacheUpdate=function(e,t){var r=this;void 0===t&&(t={}),Object(i.values)(n).some((function(t){var n=d(t,e);if(void 0!==n&&n!==d(t,r))return!0}))&&this.set(t.parse?this.parse(e):e)}}e.dropCache=function(){t=a[s]={}}}}},KGKq:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("GFr9"),c=n("K7k/"),u=n("Wopx"),l=n("gLBg"),d=n("XU4g"),h={isBrowserFavorites:1,autoclose:"yes"},f={autoclose:"yes"},p=Object(o.b)((function(e,t){var n,r=Object(u.a)(e),a=r.isYandexAppMultiMorda,o=r.isYandexApp,s=r.isYandexRecent,d=r.isMultiMordaApp,p=r.utm;s?n=h:a&&(n=f);var b=Object(l.k)(t.cardId,i()({},p,{},n));return{href:b&&(a||o&&s)?Object(c.a)(b):b,target:d||s?"_blank":void 0}}))((function(e){var t=e.className,n=e.style,r=e.disableLink,o=e.cardId,c=e.storeKey,u=e.children,l=e.dispatch,h=e.target,f=e.href,p=e.counter,b=e.scrollToCard,m=void 0===b||b;return a.createElement("a",{href:f,"data-navigate":"false",className:t,target:h,style:n,onClick:function(e){r?(e.preventDefault(),e.stopPropagation()):Object(s.a)(e)||(e.preventDefault(),l(Object(d.a)({id:o,storeKey:c,counter:i()({},p,{cardId:o}),scrollToCard:m})))}},u)}))},Kdy2:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18.5 8.4a6.7 6.7 0 0 0-2.9-2.9l1-.9c.5-.5 1.3-.8 2.4.4 1.2 1.1.9 2 .4 2.4l-1 1zm-1.2 1l-8.6 8.7-.8.6-2.6 1a.8.8 0 0 1-1-1l1-2.6.6-.8 8.6-8.6a5.2 5.2 0 0 1 2.8 2.8z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},Kj4u:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("o0o1"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("xalX"),c=n("om3R"),u=n("aKBe"),l=n("4RqY"),d=function(e){return"/collections/api/cards/"+encodeURIComponent(e)},h=Object(l.a)((function(e,t){var n,r,a,l,h,f,p,b,m,v;return i.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return n=e.cardId,r=t.getState,a=t.di,l=t.dispatch,g.next=4,i.a.awrap(a("request"));case 4:return h=g.sent,g.next=7,i.a.awrap(h.get(d(n)));case 7:return(f=g.sent).id!==n?(f.id,p=o()(f,["id"]),b=Object(s.a)(p),(m=Object(c.a)(f))&&m.content&&"placeholder"===m.content.derived_from&&(v=Object(c.a)(r(),n))&&b.content&&b.content[0]&&(b.content[0]=v),l(Object(u.a)({id:f.id,value:Object(s.a)(f),parse:!0})),l(Object(u.a)({id:n,value:b,parse:!0}))):l(Object(u.a)({id:n,value:Object(s.a)(f),parse:!0})),g.abrupt("return",f);case 10:case"end":return g.stop()}}))}))},Kq94:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({yandex:{v:'"<a href="//yandex.com" target="_blank" class="link link_type_minor">Yandex</a>" LLC',r:function(e){return i.createElement(i.Fragment,null,'"',i.createElement("a",{href:"//yandex.com",target:"_blank",className:"link link_type_minor"},"Yandex"),'" LLC')},h:function(e){return(this.isRestored?c:s)(['"',(this.isRestored?o:a)("a","",{href:"//yandex.com",target:"_blank",class:"link link_type_minor"},["Yandex"],{view:this}),'" LLC'])}},eula:"User Agreement"})},KqGs:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({notAll:function(e){return"Only "+u(e.loaded)+" of  "+u(e.all)+" files loaded: you can upload only images"},bigSize:"The image is too large. Try uploading an image that is less that 15 MB",smallDimension:"Image must be at least 200 × 200 pixels, GIF must be at least 100 × 100 pixels",uploadWait:"Wait until all the images are uploaded before saving",uploadError:"Couldn't upload image. Please try again",uploadErrorAll:"Couldn't upload images. Please return to selection",notFound:"Nothing found at this URL",smallDimensionFound:"The resolution of images found at this URL is lower than 200×200 pixels",selectCards:"Select images you want to save in your collection",selectProduct:"Выберите картинки, которые вы хотите добавить в товар",loadImages:"Загрузите картинки, которые вы хотите добавить в товар",selectedLimit:function(e){return"You can add no more than "+u(e.count)+" images to a gallery"},singleVideo:"Можно выбрать только одно видео",conflict:"В этой коллекции такая карточка уже существует",alreadyInCompetition:"You are already particpating in this contest",privateCompetition:"It's not possible to create a contest card in a private collection",invalidUrl:"Wrong URL format",format:"Неверный формат картинки",unknown:"Error",updated:"Changes saved",cardCreate:{v:'Card added to the collection "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Card added to the collection "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Card added to the collection "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},limitCards:"Вы достигли ограничения на количество карточек в коллекции"})},Ktu8:function(e,t,n){},KyvS:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/0336.gif"},L3d8:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/d1e3.gif"},L9DS:function(e,t,n){"use strict";function r(){window.close()}n.d(t,"a",(function(){return r}))},LH8O:function(e,t,n){"use strict";function r(){return function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:n.value.bind(this)}),this[t]}}}}n.d(t,"a",(function(){return r}))},LND5:function(e,t,n){"use strict";n("JSWB"),n("rkHX");var r=n("bj4P");t.a=r.a.applyDecls()},LPNN:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/08b6.gif"},LRwV:function(e,t,n){"use strict";function r(e){return!e||!e.env||"boolean"!=typeof e.env.firstRoute||e.env.firstRoute}n.d(t,"a",(function(){return r}))},LTX9:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("YxMk"),o=n("Wopx"),s=n("hfWR"),c=n("eaCv"),u=n("hV2r"),l=n("+r4z"),d=n("nO3P"),h=n("Eo2z"),f=n("9yiq");function p(e,t){if(void 0===t&&(t={}),e){var n=t,r=n.loc,p=n.seed,b=n.retpath,m=void 0===b?function(e,t){var n=Object(c.a)(e)||Object(l.a)(e),r=Object(u.a)(e);return Object(s.a)(e)+Object(d.a)(n,i()({},r,{ptrnd:t}))}(e,p):b,v=n.queryOrigin,g=void 0===v?Object(a.a)(Object(o.a)(e),r):v;return function(e){return"https://passport.yandex."+Object(h.a)(e)}(e)+"/auth?"+Object(f.a)({origin:g,retpath:m})}}n.d(t,"a",(function(){return p}))},LTxF:function(e,t,n){},LXzm:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("t9gz"),o=n("T6Rw"),s=n("3WeZ"),c=Object(o.a)((function(e,t){var n=Object(a.a)(e);return Object.keys(t).every((function(e){return n[e]===t[e]}))?e:Object(s.a)(e,{viewer:i()({},n,{},t)})}))},LYQr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n("+wBA"),i=n("WB5C"),a="ei_guide_cards_step",o="DesktopMainGuideOnboard",s=2;function c(e){return Object(i.a)(e)&&Object(r.a)(e,a,s)}},LYkV:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({image:"Favorites",video:"Video",film:"Film",series:"TV show",link:"Link"})},LYw3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n("izju"),a=n("o/z3"),o=((r={})[i.a.IMAGE]=a.imageFavorites,r[i.a.VIDEO]=a.videoFavorites,r[i.a.FILM]=a.filmFavorites,r[i.a.SERIES]=a.seriesFavorites,r[i.a.LINK]=a.linkFavorites,r[i.a.BOOK]=a.bookFavorites,r[i.a.GEO]=a.geoFavorites,r[i.a.ORGANIZATION]=a.organizationFavorites,r);function s(e){var t=o[i.a.IMAGE]();if(e&&e in i.a){var n=o[e];if("function"==typeof n)return n()}return t}},LaFB:function(e,t,n){},LiK1:function(e,t,n){"use strict";function r(e,t){for(var n=e.map(t),r=[],i=[],a=e.length,o=0;o<a;++o){var s=n[o];-1===r.indexOf(s)&&(r.push(s),i.push(e[o]))}return i}n.d(t,"a",(function(){return r}))},LnVt:function(e,t,n){},Lng6:function(e,t,n){"use strict";var r=n("cDcd"),i=n("We6+"),a=n("IWXk"),o=Object(i.a)(a.a),s=n("GhlN"),c=n("JFDR"),u=n("jGRQ"),l=n("fFoT");n("z8gn"),n.d(t,"a",(function(){return d}));var d=function(e){var t=e.userId,n=e.boardId,i=e.info,a=e.className;return o(t)?r.createElement("div",{className:Object(s.a)("cl-user-person",{},a)},r.createElement(l.a,{userId:t,className:"cl-user-person__avatar"}),r.createElement("div",{className:"cl-user-person__wrap"},i&&r.createElement("div",{className:"cl-user-person__info"},i),n&&r.createElement(c.a,{boardId:n,className:"cl-user-person__link cl-user-person__board-link"}),r.createElement(u.a,{userId:t,className:"cl-user-person__link cl-user-person__user-link",showName:!0}))):null}},LvaR:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({free:"Бесплатно"})},LyO5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("y6Xm"),i=Object(r.a)("source")},M2ME:function(e,t,n){},M5xC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="https://market.yandex.ru/product/";function i(e){if(e)return e.link||r+encodeURIComponent(String(e.model_id))}},M740:function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];if(n&&n._query)return n._query}n.d(t,"a",(function(){return r}))},M7I4:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({servingsCount:[function(e){return i(e.count)+" serving"},function(e){return i(e.count)+" servings"}],servingsRangeCount:[function(e){return i(e.count0)+"-"+i(e.count)+" serving"},function(e){return i(e.count0)+"-"+i(e.count)+" servings"}],ingredientsCount:[function(e){return i(e.count)+" ingredient"},function(e){return i(e.count)+" ingredients"}]})},M7vq:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"default",(function(){return Ci}));var i={};n.r(i),n.d(i,"default",(function(){return Nf}));var a={};n.r(a),n.d(a,"default",(function(){return gb}));var o={};n.r(o),n.d(o,"default",(function(){return _b}));var s={};n.r(s),n.d(s,"default",(function(){return xb}));var c={};n.r(c),n.d(c,"BaseState",(function(){return _})),n.d(c,"BaseTitle",(function(){return re})),n.d(c,"Boards",(function(){return ie.a})),n.d(c,"Card",(function(){return ae.a})),n.d(c,"CardPopupState",(function(){return Ae})),n.d(c,"Cards",(function(){return Ie.a})),n.d(c,"ClientAppHost",(function(){return Pe})),n.d(c,"ClientApplication",(function(){return at})),n.d(c,"ClientEnv",(function(){return vt})),n.d(c,"ClientLogger",(function(){return Ot})),n.d(c,"ClientLoggerWriter",(function(){return _t})),n.d(c,"ClientRequest",(function(){return yt.a})),n.d(c,"ClientRouter",(function(){return wn})),n.d(c,"CountersCenter",(function(){return ge.a})),n.d(c,"CurrentUserState",(function(){return Tn})),n.d(c,"DesktopBasePage",(function(){return ji})),n.d(c,"DesktopLayout",(function(){return Nb})),n.d(c,"DesktopPluginLayout",(function(){return Ab})),n.d(c,"DesktopSidebar",(function(){return Mb})),n.d(c,"ExtBannerState",(function(){return Ub})),n.d(c,"HintState",(function(){return Fb})),n.d(c,"InternetCards",(function(){return Vb.a})),n.d(c,"InternetImagesState",(function(){return Hb})),n.d(c,"Metrika",(function(){return qb})),n.d(c,"NotificationCenter",(function(){return Pt.a})),n.d(c,"PageVisibilityState",(function(){return Gb})),n.d(c,"Planner",(function(){return Qb})),n.d(c,"PluginMessageBus",(function(){return tm})),n.d(c,"Redux",(function(){return nm})),n.d(c,"ReduxState",(function(){return rm.a})),n.d(c,"RouterState",(function(){return am})),n.d(c,"SidebarState",(function(){return sm})),n.d(c,"Translate",(function(){return cm})),n.d(c,"User",(function(){return rp.a})),n.d(c,"YandexImagesSuggestSource",(function(){return um}));var u={};n.r(u),n.d(u,"resolvers",(function(){return bm})),n.d(u,"routes",(function(){return mm})),n.d(u,"aliases",(function(){return vm})),n.d(u,"layouts",(function(){return gm})),n.d(u,"skipedLayouts",(function(){return Om})),n.d(u,"dependencies",(function(){return _m})),n("2X17"),n("4Xqd"),Array.prototype.includes||(Array.prototype.includes=function(e){return this.indexOf(e)>-1}),String.prototype.includes||(String.prototype.includes=function(e){return this.indexOf(e)>-1}),n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;var l=n("CSYv"),d=n("V3+z");n("idzK"),n("eJ/D"),n("886R");var h=n("7e2C"),f=!0;window.history&&"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var p=n("plYr"),b=n("VbXa"),m=n.n(b),v=n("mdRN"),g=n("gLBg"),O=n("Iv6v"),_=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.setIsWhitePage=function(e){this.set("isWhitePage",e)},n.isWhitePage=function(){return this.get("isWhitePage")},n.setOverflow=function(e){this.set("overflow",e)},n.isOverflow=function(){return this.get("overflow")},n.setPopup=function(e){this.set("popup",e)},n.isPopup=function(){return this.get("popup")},n.setInvertFooter=function(e){this.set("invertFooter",e)},n.isInvertFooter=function(){return this.get("invertFooter")},n.setCurrentUser=function(e){this.set("currentUser",e)},n.getCurrentUser=function(){return this.get("currentUser")},n.setRouterState=function(e){this.set("routerState",e)},n.getRouterState=function(){return this.get("routerState")},n.setCardPopupState=function(e){this.set("cardPopupState",e)},n.getCardPopupState=function(){return this.get("cardPopupState")},n.isCategoryLayout=function(){return this.get("categoryLayout")},n.setCategoryLayout=function(e){this.set("categoryLayout",e)},n.isAuthorized=function(){var e=this.getCurrentUser();return Boolean(e&&e.isAuthorized())},n.openCardPopup=function(e,t,n){return this.getCardPopupState().openCardPopup(e,t,n)},n.setAction=function(e){this.set("currentAction",e)},n.setCgModelVersion=function(e){this.set("cgModelVersion",e)},n.getChannel=function(){return this.get("channel")},n.setChannel=function(e){this.set("channel",e)},n.isFloatingCollapsed=function(){return this.get("floatingCollapsed")},n.onBoardClick=function(e){return this.getRouterState().navigateToBoard(e)},n.updateDependencies=function(e){var t=e.env,n=e.routerState,r=e.currentUser,i=e.cardPopupState,a=(e.channel,e.event),o=a.name,s=a.query,c=s.cg_model_version,u=s.torec;this.setEnv(t),this.setChannel(null),this.setRouterState(n),this.setCardPopupState(i),this.setIsWhitePage(!1),this.setCurrentUser(r),this.setCgModelVersion(c),this.setCategoryLayout(!1),"card"===o&&u&&this.setAction("scrollToSimilar"),this.trigger("route:update")},t}(O.a);Object(v.a)({defaults:{isWhitePage:!1,invertFooter:!1,showFooter:!0,navigation:!1,overflow:!1,popup:!1,categoryLayout:!1,floatingExpanded:!1}})(_);var y=n("U+yc"),C=n.n(y),E=n("jOGB"),j=n("k/eQ"),S=n("Pm7h"),w=n("XPFG"),k=n("9EtG"),I=n("+r4z"),T=n("iw2m"),R=n("BiGe"),L=n("hV2r"),x=n("m7uJ");function D(e){var t=Object(L.a)(e),n=t&&t.slug,r=Object(R.b)(e,n).title;return{title:r?x.metaVerticalTitle({vertical_title:r}):x.metaTitle()}}var N=n("2qyN"),A=n("y1pN"),P=n("UQOb"),B=n("lPPs"),M=n("+3en"),U=n("nNBK"),F=n("o7PK"),V=n("lv8r"),H=n("UoCc"),W=n("O/ol"),z=n("eaCv"),K=n("CHZ4"),Y=n("CXpC"),q=n("INas"),G=n("8KBr"),X=n("izju"),J={imagesTouch:"images",imagesDesktop:"images",imagesPad:"images",imagesSmart:"images"},Z=10;function Q(e){var t=e&&Object(w.a)(e.contest),n=t&&Object(W.a)(e,t),r=Object(z.a)(e)||Object(I.a)(e),i=Object(L.a)(e),a=e&&Object(S.a)(e);a?r=g.a.CARD:r&&J[r]&&(r=J[r]);var o,s={eventName:r};if(e){var c=Object(M.a)(e),u=Object(V.a)(e),l=Object(q.a)(e);if(c){var d=Object(P.a)(c)||0,h=Object(A.a)(e,c),f=Object(N.a)(c);s.board_title=Object(B.a)(c),s.owner_login=Object(G.a)(h),s.prefix="",d>Z&&(s.prefix="WithCount",s.count=d),f&&(s.prefix+="Custom",s.board_description=f),s.eventName===g.a.GEO_BOARD&&(s.eventName=g.a.BOARD)}if(l&&(s.login=Object(G.a)(l)),u){if(s.channel_title=Object(F.a)(u),s.channel_description=Object(U.a)(u),e.channelCards){var p=Object(H.a)(e,"channelCards");p&&(s.count=p<=24?10:p<=49?25:p<=74?50:p<=99?75:p-p%100)}s.eventName===g.a.GEO_CHANNEL&&(s.eventName=g.a.CHANNEL)}if(n&&(s.contest_title=n.title,s.contest_description=(void 0===(o=n.description)&&(o=""),o.replace(/(<\/?[a-z][^>]*(>|$))/gi," "))),Object(K.a)(e,g.a.SEARCH)){var b=i.text;s.search_query=b,b||r!==g.a.SEARCH||(s.prefix="Empty")}}if(a&&Object.assign(s,Object(Y.a)(e,a)),s.eventName!==g.a.VERTICAL_FEED||s.vertical_title||(s.eventName=g.a.FEED),s.eventName===g.a.FAVORITES_TYPE){var m=i.type||X.a.IMAGE;s.prefix=function(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}(m)}return s}var $,ee,te,ne=n("XKgQ"),re=($=Object(j.a)(),ee=Object(j.a)(),te=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this;this.listenTo(this.options.cardPopupState,"change:card",this.onCardChange),this.listenTo(this.options.notificationCenter,"board:update",this.onBoardChange);var t=this.options.redux,n=Object(w.a)(Object(S.a)(t.getState()));t.subscribe((function(){var r=Object(w.a)(Object(S.a)(t.getState()));r!==n&&(n=r,e.safeRender())}))},n.onCardChange=function(e,t,n){void 0===n&&(n={}),n.silentClose||this.safeRender()},n.onBoardChange=function(){this.safeRender()},n.render=function(){var e=function(e){if(e&&Object(I.a)(e)===g.a.EDITORS_CHOICE){var t=D(e);return t&&t.title}var n=Q(e);return Object(T.a)(ne.a.TITLE,n)}(this.env.getState());document.title=Object(k.a)(e)},n.onReady=function(){this.render()},t}(E.c),C()(te.prototype,"onCardChange",[$],Object.getOwnPropertyDescriptor(te.prototype,"onCardChange"),te.prototype),C()(te.prototype,"onBoardChange",[ee],Object.getOwnPropertyDescriptor(te.prototype,"onBoardChange"),te.prototype),te);Object(v.a)({tagName:"title"})(re);var ie=n("j3kT"),ae=n("cX81"),oe=n("pVnL"),se=n.n(oe),ce=n("EVdn"),ue=n.n(ce),le=n("o0o1"),de=n.n(le),he=n("SiKM"),fe=n("c+Ap"),pe=n("qz1P"),be=n("/bNA"),me=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onSaveSuccess=function(){var e=this.getType();this.get(e).setComplaint(this),this.isHideOnly()?be.a.showComplaintHideMessage():be.a.showComplaintMessage()},n.setHideOnly=function(e){this._hideOnly=e},n.isHideOnly=function(){return Boolean(this._hideOnly)},t}(pe.a),ve=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.getCard=function(){return this.get("card")},n.setCard=function(e,t){this.set("card",e,t)},n.getCards=function(){return this.get("cards")},n.setCards=function(e){this.set("cards",e)},n.getSelectedSeriesContent=function(){if(this.hasCard())return this.getCard().getFirstContent()},n.hasCard=function(){return Boolean(this.getCard())},n.getShowAllIngredients=function(){return this.get("showAllIngredients")},n.setShowAllIngredients=function(e){this.set("showAllIngredients",e)},n.isCurrentCardComplained=function(){var e=this.getCard();return Boolean(e&&e.getComplaint())},n.isCurrentCardBanned=function(){var e=this.getCard();return Boolean(e&&e.isBanned()&&!e.isVisible())},n.isCardVisible=function(){return!this.isCurrentCardBanned()&&!this.isCurrentCardComplained()},n.isCardPrivate=function(){var e=this.getCard(),t=e&&e.getBoard();return!!t&&t.isPrivate()},n.isSeriesOpen=function(){return this.get("seriesOpen")},n.setSeriesOpen=function(e,t){this.set("seriesOpen",e,t)},n.updateSeriesMetaData=function(e){this.trigger("update:series:meta",e)},n.setCardZoomed=function(e){this.set("cardZoomed",Boolean(e))},n.isCardZoomed=function(){return Boolean(this.get("cardZoomed"))},n.isMyCard=function(){var e=this.options.env.currentUser,t=this.getCard();return!!t&&e.isAuthorized()&&t.getOwnerLogin()===e.getLogin()},n.isWishFulfilled=function(){var e=this.getCard();return Boolean(e&&e.isWishFulfilled())},n.isLiked=function(){var e=this.getCard();return Boolean(e&&e.isLiked())},n.getLikesCount=function(){var e=this.getCard();return e?e.getLikesCount():0},n.getComplaint=function(e){var t=e.card,n=void 0===t?this.getCard():t,r=e.board,i=void 0===r?this.getBoard():r;return new me({card:n,board:i,type:fe.j.CARD},{request:this.getRequestAdapter()})},n.hasRestrictedOwner=function(){var e=this.getCard();return!!e&&e.hasRestrictedOwner()},t}(O.a),ge=n("RQkB"),Oe=n("nAK0"),_e=n("t0kG"),ye=n("ICaW"),Ce=n("UJ4k"),Ee=n("ANKn"),je=n("+POQ"),Se=n("+zfR"),we=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this;this.trackLogger=Object(je.a)(),this.on("change:cardEdited",(function(){return e.setCardTouched(!1)})),this.on("change:cardEdited",(function(){var t=e.getEnv();if(t){var n=t.getState(),r=e.isCardEdited();n&&(n.ui&&n.ui.layout&&n.ui.layout.sidebarOpen)!==r&&t.dispatch(Object(Ee.a)(r))}}))},n.createCurrentCardClone=function(e){if(e||this.hasCard()){var t=e||this.getCard();return this.setCurrentCardClone(t.clone()),this.getCurrentCardClone()}},n.setCurrentCardClone=function(e){this._cardClone&&this._cardClone.stopListening(),this._cardClone=e},n.getCurrentCardClone=function(){return this._cardClone},n.setCard=function(e,t){var n=this,r=Promise.resolve();if(this.getCard()!==e){this.getCard()&&this.stopListening(this.getCard()),this.set("card",e,t),this.setShowAllIngredients(!1),this.listenTo(e,{"change:complaint":this.onCardComplained,all:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n.trigger.apply(n,["card:"+e].concat(r))},"destroy:start":this.onCardDestroyStart});var i=this.getSidebarState();i&&i.setVisibilityMode(e?fe.h.LAYOUT:fe.h.NORMAL),e?this.selectFirstContentInSeries():this.setSelectedSeriesContent(null),this.setSeriesOpen(!1);var a=this.getEnv();a&&t&&t.updateReduxCard&&(r=a.invokeStrategy(_e.a.CardSetCurrentCardToReduxStrategy,{card:e,stateKey:t.stateKey}).catch((function(e){return console.error(e)})))}return e&&this.setBoard(e.getBoard()),this.setCurrentCardClone(null),r},n.shouldShowNav=function(){if(!this.hasCard())return!1;var e=this.getCard(),t=this.getCards(),n=e.isVirtual(),r=t&&t.indexOf(e)>=0;return!n||r},n.makeSureSelectedContent=function(){this.getSelectedSeriesContent()||this.selectFirstContentInSeries()},n.selectFirstContentInSeries=function(e){var t=this.getCard();t&&this.setSelectedSeriesContent(t.getFirstContent(),e)},n.setSelectedSeriesContent=function(e,t){this.set("selectedSeriesContent",e,t)},n.getSelectedSeriesContent=function(){return this.get("selectedSeriesContent")},n.isSelectedContentPresent=function(){return Boolean(this.getSelectedSeriesContent())},n.isSeriesAddState=function(){return this.hasCard()&&this.isCardEdited()&&!this.isSelectedContentPresent()},n.fetchContentsFromFiles=function(e){if(this.hasCard())return this._createContents(this.getEnv().invokeStrategy(_e.a.CardsFetchFromFilesStrategy,{files:e}))},n._createContents=function(e){var t=this,n=(this.getCurrentCardClone()||this.getCard()).getContent();return e.then((function(e){return e=Object(he.compact)(e),Promise.all(e.map((function(e){var r=e.getFirstContent(),i=r.getSource(),a=i.isDataImage(),o=i.getUrl();return n.add(r),t.getEnv().invokeStrategy(_e.a.CardCreateContentStrategy,{content:r}).then((function(e){return a&&e.setFallbackUrl(o),e})).catch((function(e){n.remove(r),be.a.showXHRMessage(e)}))})))}))},n.fetchCardsFromQuery=function(e){var t=this,n=this.getInternetImagesState(),r=this.getInternetCards(),i=e;if(r&&r.reset(),e){if(/^https?:\/\/yandex.[a-z]{2,6}\/images/.test(e)){var a=this.getRouterState().getRouter().buildQuery(e);a.text&&(i=a.text)}return n.setUrl(i),n.fetchImages().then((function(e){t.setInternetCards(e)}))}return Promise.resolve(this.getInternetCards())},n.toggleCardContentToSeries=function(e){var t=(this.getCurrentCardClone()||this.getCard()).getContent(),n=e.getFirstContent();return t.get(n.id)?(t.remove(n.id),{toggled:!1,promise:Promise.resolve(!1)}):(t.add(n),{toggled:!0,promise:this.getEnv().invokeStrategy(_e.a.CardCreateContentStrategy,{content:n}).then((function(e){var t=e.getSource().getUrl();return e.setFallbackUrl(t),!0})).catch((function(e){return t.remove(n),be.a.showXHRMessage(e),!1}))})},n.setInternetImagesState=function(e){this.set("internetImagesState",e)},n.getInternetImagesState=function(){return this.get("internetImagesState")},n.setInternetCards=function(e){this.set("internetCards",e)},n.getInternetCards=function(){return this.get("internetCards")},n.setCardEdited=function(e){this.set("cardEdited",Boolean(e))},n.setCardTouched=function(e){this.set("cardTouched",Boolean(e))},n.isCardEdited=function(){return Boolean(this.get("cardEdited"))},n.isCardTouched=function(){return Boolean(this.get("cardTouched"))},n.setCards=function(e){this.set("cards",e),e&&e.length?this.trigger("cards:update"):this.resetTrackObjects()},n.onCardComplained=function(){},n.onCardDestroyStart=function(){var e=this.getCard();if(e){var t=e.getBoard();this.closeCard(),t.trigger("card:destroy:start",e)}},n.getBoard=function(){return this.get("board")},n.setBoard=function(e){var t=this.getBoard();t&&e&&t.id===e.id||(e&&e.setRequestAdapter(this.getRequestAdapter()),this.set("board",e))},n.setRouterState=function(e){this.set("routerState",e)},n.getRouterState=function(){return this.get("routerState")},n.getInitialPointEvent=function(){return this._initialPointEvent},n.setInitialPointEvent=function(e){this._initialPointEvent=e},n.setSidebarState=function(e){this.set("sidebarState",e)},n.getSidebarState=function(){return this.get("sidebarState")},n.setSimilarCards=function(e){this.set("similarCards",e)},n.getSimilarCards=function(){return this.get("similarCards")},n.setBoardCards=function(e){this.set("boardCards",e)},n.getBoardCards=function(){return this.get("boardCards")},n.isVoting=function(){return Boolean(this.get("voting"))},n.openCardPopup=function(e,t,n){var r,i,a;return de.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===n&&(n={}),!this.getSidebarState().hasCardContent()){o.next=4;break}return o.abrupt("return");case 4:if(!e){o.next=19;break}return(r=this.getEnv()).reduxState&&r.dispatch(Object(Ce.a)({hidePopup:!0})),i=this.getRouterState(),this.lastOptions=n.permanent?n:{},this.hasCard()||this.setInitialPointEvent(i.getRouter().getLastEvent()),i.isSearchPage()&&this.trackClick(e.getClickUrl()),a=null===this.getCard(),t&&(this.counterData=n.counter,this.setCards(t.clone())),this.openCardPopupByType(e,n),this.set("voting",n.isVoting),this.setAutoplay(a),o.next=18,de.a.awrap(this.setCard(e,{prerender:Boolean(n.prerender),stateKey:n.stateKey,updateReduxCard:!0}));case 18:n.prerender||this.trackObjects(e);case 19:case"end":return o.stop()}}),null,this)},n.closeCard=function(){var e=this.getRouterState(),t=e.getRouter(),n=this.getInitialPointEvent(),r=this.getCard(),i=this.getCards(),a={manualAction:!0};if(i&&i.get(r)&&i.scrollToCard(r),this._silentTitleClose&&(a.silentClose=this._silentTitleClose,this._silentTitleClose=null),a.updateReduxCard=!0,this.set("voting",!1),this.setCard(null,a),n&&"card"!==n.name){var o=!this.hasContext();t.navigateToReverse(n.name,Object.assign({},n.params,n.query),{trigger:!o}),o&&ge.a.sendAccess({delayed:!0,metrika:!0,pageName:n.name})}else e.navigateToCardOrigin(r)},n.getNextCard=function(e){var t=this;return void 0===e&&(e=1),new Promise((function(n,r){var i=t.getCards(),a=t.getCard();if(a&&i){var o=i.indexOf(a);if(o>=0){var s=o+e;return s<0?i.isFullyLoaded()?n(i.last()):n():i.length>s?n(i.at(s)):i.length<s+1&&!i.isFullyLoaded()?i.fetchNext().then((function(){return n(i.at(s))})):t.isVoting()?n():n(i.first())}return t._rightId&&1===e?n(i.get(t._rightId)):t._leftId&&-1===e?n(i.get(t._leftId)):t.isVoting()?n():n(i.first())}r()}))},n.setMoveCount=function(e){this.set("moveCount",e)},n.incrementMoveCount=function(){var e=this.getMoveCount()+1;this.setMoveCount(e)},n.decrementMoveCount=function(){var e=this.getCards(),t=this.getMoveCount()-1;e&&t<=-e.length&&(t=0),this.setMoveCount(t)},n.getMoveCount=function(){return this.get("moveCount")},n.getArrowCards=function(){var e=this,t=this.getNextCard(1),n=this.getNextCard(-1);return Promise.all([n,t]).then((function(t){var n=t[0],r=t[1];return e._leftId=n&&n.id,e._rightId=r&&r.id,{left:n,right:r}})).catch((function(e){throw console.error(e),e}))},n.nextCard=function(e){return void 0===e&&(e=1),this.incrementMoveCount(),this.openCardByDirection(e)},n.previousCard=function(e){return void 0===e&&(e=-1),this.decrementMoveCount(),this.openCardByDirection(e)},n.openCardByDirection=function(e){var t=this;return void 0===e&&(e=1),this.getNextCard(e).then((function(n){return n&&ge.a.sendCounter(Oe.a.showCard,{type:"arrow",dir:e>0?"next":"prev",cardId:n.id}),t.openCardPopup(n,null,t.lastOptions),n}))},n.hasPageableCards=function(){var e=this.getCards();return!!e&&e.length>1},n.editSeriesRemove=function(){var e=this.getSelectedSeriesContent(),t=this.getCurrentCardClone();return t&&t.getContent().remove(e.id),Promise.resolve(e)},n.updateSimilarCards=function(){var e=this,t=this.getCard(),n=this.getSimilarCards();if(t&&t.id){var r=ye.d.COLLECTIONS_DESKTOP_IMAGE_SOURCE_SIMILAR,i=this.getEnv().hasFeature(r)||!Object(Se.a)(t.id);return t.isBanned()||!i?(n.reset(),n):n.fetchBySimilarTo(t).then((function(t){return e.setSimilarCards(t),t}))}},n.abortSimilarCardsRequest=function(){var e=this.getSimilarCards();e&&e.abort()},n.setContext=function(e){this.set("context",e)},n.getContext=function(){return this.get("context")},n.hasContext=function(){return Boolean(this.getContext())},n.updateInitialPointEvent=function(e,t){void 0===t&&(t={}),this.setInitialPointEvent(e),t.silentTitleClose&&(this._silentTitleClose=t.silentTitleClose)},n.trackObjects=function(e){if(e&&e.id){ge.a.sendAccess({delayed:!0,metrika:!0,pageName:"card"});var t=this.counterData||{},n={loc:"cardPopup",feedSessionId:t.feedSessionId,cardsSessionId:t.cardsSessionId},r=this.getEnv(),i=r&&r.pageState,a=i&&i.getWindowWidth()||320,o=i&&i.getWindowHeight()||1/0,s=0,c=0,u=e.getFirstContent();if(u){var l=u.getFitImageInfo(a-576,o-176);s=l.width,c=l.height}this.trackLogger.track([{x:0,y:0,w:s,h:c,item:{id:e.id,item:e.toJSON(),type:"",storeKey:"currentCardPopup",position:0}}],n)}},n.resetTrackObjects=function(){this.trackLogger.reset(),this.counterData=void 0},n.updateDependencies=function(e){var t,n,r,i,a,o,s,c,u,l;return de.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.card,n=e.cards,r=e.request,i=e.routerState,a=e.sidebarState,o=e.similarCards,s=e.boardCards,c=e.internetImagesState,e.env,e.event.query.context,u=e.updateReduxCard,l=void 0===u||u,this.setRouterState(i),this.setRequestAdapter(r),this.setSidebarState(a),this.setMoveCount(0),this.setCardEdited(!1),this.setCardZoomed(!1),this.setSimilarCards(o),this.setBoardCards(s),this.setInternetImagesState(c),this.setCards(n||null),!t||!t.id){d.next=16;break}return d.next=14,de.a.awrap(this.setCard(t,{updateReduxCard:l}));case 14:d.next=18;break;case 16:return d.next=18,de.a.awrap(this.setCard(null,{updateReduxCard:l}));case 18:this.setContext(null);case 19:case"end":return d.stop()}}),null,this)},t}(ve);Object(v.a)({defaults:{moveCount:0,seriesOpen:!1}})(we);var ke,Ie=n("v4Hp"),Te=n("cJ2g"),Re=n("PSoe"),Le=n("N98e"),xe=n("L9DS"),De=n("iROX"),Ne=n("+wVo"),Ae=Object(v.a)(Te.a)(ke=Object(v.a)({defaults:se()({},we.prototype.defaults,{autoplay:!0,scrollTop:0,isScrolling:!1,historySimilarCards:[]})})(ke=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(t,n){var r=this;e.prototype.initialize.call(this,t,n),n.pluginMessageBus&&n.pluginMessageBus.read(Re.e.SHARE_PAGE,(function(){r.getSidebarState().onShareOrMove(r.getCard())}))},n.setHistorySimilarCard=function(e){this.set("historySimilarCards",e)},n.getHistorySimilarCard=function(){return this.get("historySimilarCards")},n.addHistorySimilarCard=function(e){var t=this.getHistorySimilarCard();t.push(e),this.setHistorySimilarCard(t)},n.removeHistorySimilarCard=function(){return this.getHistorySimilarCard().pop()},n.setAutoplay=function(e){this.set("autoplay",e)},n.isAutoplay=function(){return this.get("autoplay")},n.continueOpenCardPopup=function(){var e=this.getCard();e&&(this.trackObjects(e),this.trigger("open:card",this,e),this.navigateByType(e))},n.trackClick=function(e){e&&ue.a.get("https://clck.yandex.ru/click/dtype="+e)},n.navigateByType=function(e,t){if(void 0===t&&(t={}),!t.prerender){var n=this.getRouterState(),r=this.getCards(),i=Object.assign({trigger:!1,localState:{cardsFetchParams:r&&r.fetchParams,cardsUrl:r&&r.url}},t);n.navigateToCard(e,i)}},n.openCardPopupByType=function(e,t){void 0===t&&(t={}),t.skipNavigate||this.navigateByType(e,t),this.setCardEdited(!1),this.setCardZoomed(!1)},n.openCardPopupWithDefaults=function(e,t){var n=this;void 0===t&&(t={});var r=this.getRequestAdapter(),i=Ie.a.factory({request:r}),a=e.getBoard(),o=e.isWishFulfilled()?fe.Y:fe.X;a&&a.isWishlist()&&(t.wish=o);var s=null;return t.cardsFetchParams?(t.cardsUrl&&(i.url=t.cardsUrl),s=i.fetchWithOptions(t.cardsFetchParams)):e.isVirtual()?s=Promise.resolve():a.isDefault()?(i.reset(),s=Promise.resolve()):s=i.fetchByBoard(a.id,t),s.then((function(){n.openCardPopup(e,i,t)}))},n.openCardPopupById=function(e,t){var n=this;void 0===t&&(t={});var r=this.getRequestAdapter(),i=ae.a.dataFactory({id:e},{request:r});if(i.getComplaint()||i.isBanned()&&!i.isVisible())throw new De.e("Card not found");return i.isFilled()?this.openCardPopupWithDefaults(i,t):i.fetch({parse:!0}).then((function(){return n.openCardPopupWithDefaults(i,t)}))},n.onReady=function(){this.isRestorated?this.trigger("update"):this.isRestorated=!0},n.saveCard=function(){var e=this,t=this.options.env,n=this.getCard(),r=this.getEditProxy();return(n.hasContests()&&r.getContent().length>1?Object(Le.a)(t,n):Promise.resolve(!0)).then((function(i){if(i)return t.invokeStrategy(_e.a.CardEditStrategy,{card:n,source:r}).then((function(){e.setCardEdited(!1),e.makeSureSelectedContent()}))}))},n.setEditProxy=function(e){this.set("editProxy",e)},n.getEditProxy=function(){return this.get("editProxy")},n.closeCard=function(){var t,n=this,r=this.getEnv();!function(e){return 1===history.length&&(e.isYandexApp||e.isBrowserApp)}(r)&&"yes"!==((t=r.getState())&&Object(Ne.a)(t,"autoclose"))?e.prototype.closeCard.call(this):(Object(xe.a)(),setTimeout((function(){e.prototype.closeCard.call(n)}),1e3))},n.updateDependencies=function(t){return e.prototype.updateDependencies.call(this,t)},t}(we))||ke)||ke,Pe=function(){function e(e){var t=e.request;this.request=t}return e.prototype.fetch=function(e){return de.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.route!==g.a.OFFLINE&&e.route!==g.a.NOT_FOUND){t.next=2;break}return t.abrupt("return",{event:e});case 2:return t.abrupt("return",this.request.get("/collections/web-api/aggregate",{data:se()({route:e.route,origRoute:e.origRoute},e.query)}));case 3:case"end":return t.stop()}}),null,this)},e}(),Be=!1,Me=1e3;function Ue(e){Be||(Be=!document.body.classList.contains("page_critical")),Be?e():setTimeout((function(){return Ue(e)}),Me)}var Fe=n("xriV"),Ve="__patched__",He={info:fe.z.INFO,warn:fe.z.WARN,error:fe.z.ERROR};function We(e,t,n,r){var i,a;return de.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=e.getDefinition("errorLogger"),o.prev=1,!i||!i.instance){o.next=6;break}a=i.instance,o.next=9;break;case 6:return o.next=8,de.a.awrap(e("errorLogger"));case 8:a=o.sent;case 9:o.next=14;break;case 11:return o.prev=11,o.t0=o.catch(1),o.abrupt("return");case 14:a[t](n,r);case 15:case"end":return o.stop()}}),null,null,[[1,11]])}function ze(e,t){return We(e,fe.z.ERROR,t)}function Ke(e){var t,n=e.di;window.onerror=function(e,t,r,i,a){var o=Object(Fe.a)(a);t&&(o.sourceFile=t),e&&(o=se()({},o,{errorMessage:e instanceof Event?e.type:e})),ze(n,o)},window.addEventListener("unhandledrejection",(function(e){e.preventDefault(),ze(n,Object(Fe.a)(e.reason))})),window.addEventListener("rejectionhandled",(function(e){e.preventDefault(),ze(n,Object(Fe.a)(e.reason))})),t=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return We.apply(void 0,[n].concat(t))},Object.keys(He).forEach((function(e){!function(n,r,i){if(!n[r][Ve]){var a=(o=n[r],console["_"+e]=o,function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(i[0]instanceof Error)e(fe.z.ERROR,Object(Fe.a)(i[0]),{logToConsole:!1});else if("string"==typeof i[0]){var o={name:"console",message:i[0],stack:(new Error).stack};e(n,o,{logToConsole:!1})}return t.apply(console,i)}}(t,o,He[e]));a[Ve]=!0,n[r]=a}var o}(console,e)}))}var Ye,qe,Ge,Xe=n("79NS"),Je=((Ye={})[g.a.BRO_MAIN]="bro",Ye),Ze=n("x9gI"),Qe=[ye.d.DISABLE_SW,ye.d.DISABLE_SAFARI_SW,ye.d.DISABLE_OLD_CHROME_SW,ye.d.DISABLE_YANDEXAPP_SW,ye.d.DISABLE_BRO_SW],$e=n("dJh7"),et=n("LH8O"),tt=n("Wopx"),nt=n("T6Rw"),rt=Object(nt.a)((function(e,t){var n=Object(tt.a)(e);return se()({},e,{env:se()({},n,{href:t})})})),it=Object(nt.a)((function(e,t){var n=Object(tt.a)(e);return n.firstRoute===t?e:se()({},e,{env:se()({},n,{firstRoute:t})})}));n("okbb"),n("NsM5");var at=(qe=Object(et.a)(),Ge=function(){function e(e){var t=e.di,n=e.config,r=e.isOffline,i=e.isNotFound;this.di=t,this.config=n,this.isOffline=r,this.isNotFound=i,window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)}var t=e.prototype;return t.updateOnlineStatus=function(){var e,t;return de.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!navigator.onLine){n.next=4;break}be.a.hidePersistentOfflineMessage(),n.next=9;break;case 4:return n.next=6,de.a.awrap(this.di("env"));case 6:e=n.sent,t=e&&e.router&&e.router.getLastEvent(),e&&t&&t.name===g.a.ADD_FLOW||be.a.showPersistentOfflineMessage();case 9:case"end":return n.stop()}}),null,this)},t.start=function(){var e;return de.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,de.a.awrap(new Promise((function(e){return Ue(e)})));case 4:return t.next=7,de.a.awrap(this.restore());case 7:return t.next=10,de.a.awrap(this.di("env"));case 10:(e=t.sent).disableSW||(r=function(e){var t=Object(z.a)(e),n=Object(I.a)(e);return Object(Xe.a)(e)&&n===g.a.FEED&&t!==g.a.APP_FEED?"feed":Je[t]||Je[n]}(n=e.getState()),!function(e){return Qe.some((function(t){return Object(Ze.a)(e,t)}))}(n)&&r&&$e(r,(function(){}))),window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark("3036"),e.dispatch(rt(window.location.pathname)),e.dispatch(it(!0)),this.updateOnlineStatus(),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),ze(this.di,t.t0);case 23:case"end":return t.stop()}var n,r}),null,this,[[1,20]])},t.restore=function(){var e,t,n,r,i,a;return de.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.config,t=e.routes,n=e.restoreData,r={di:this.di,routes:t,aliases:this.config.aliases,layouts:this.config.layouts,restoreData:n,skipedLayouts:this.config.skipedLayouts},Ke({di:this.di}),o.next=5,de.a.awrap(this.di("router",r));case 5:if((i=o.sent).bindListeners(),a=this.isNotFound||this.isOffline?i.match(i.reverse(this.isOffline?g.a.OFFLINE:g.a.NOT_FOUND)):i.matchCurrentUrl(),!this.isOffline){o.next=13;break}return a.then((function(){Object(h.a)("client-offline-render-success")}),(function(e){console.error(e),Object(h.a)("client-offline-render-fail")})),o.next=12,de.a.awrap(a);case 12:return o.abrupt("return",i.matchCurrentUrl({offlineRestoration:0}));case 13:return o.abrupt("return",a);case 14:case"end":return o.stop()}}),null,this)},e}(),C()(Ge.prototype,"updateOnlineStatus",[qe],Object.getOwnPropertyDescriptor(Ge.prototype,"updateOnlineStatus"),Ge.prototype),Ge),ot=n("W8MJ"),st=n.n(ot),ct=n("PJYZ"),ut=n.n(ct),lt=n("N4H6"),dt=n("7q/M"),ht=n("WbN8"),ft=ye.b.RESTRICTED_USER|ye.b.AUTH_USER,pt={resourceSubscribe:ft,compilationSubscribe:ft,resourceHide:ft,cardLike:ft,onboardShow:ft},bt=n("mTSw"),mt=navigator.connection,vt=function(e){function t(t){var n,r=e.call(this,t)||this,i=location.host,a=i.match(fe.q);return r.origin="https://"+i,a&&(n=a[1]),r.tld=n||"ru",r.timeDelta=Date.now()-t.timestamp,r.requestId=t.requestId,r.isOffline=t.isOffline,r.isRobot=t.isRobot,r.isTablet=t.isTablet,r.isLegacy=t.isLegacy,r.isEmbed=Boolean(t.isEmbed),r.disableSW=t.disableSW,r.osFamily=t.osFamily,r.ua=t.ua,r.logos=t.logos,r.regionId=t.regionId,r.query=t.query,r.hideHeader=t.hideHeader,r.showHeader=t.showHeader,r.extGuest=t.extGuest,r.testId=t.testId,r.expConfs=t.expConfs,r.platform=t.platform,r.network=t.network,r.isYandexApp=t.isYandexApp,r.isYandexAppMultiMorda=t.isYandexAppMultiMorda,r.isYandexRecent=t.isYandexRecent,r.isBrowserApp=t.isBrowserApp,r.isMultiMordaApp=t.isMultiMordaApp,r.isBrowserFavorites=t.isBrowserFavorites,r.isNativeAppPage=t.isNativeAppPage,r.isYandexBroWebView=t.isYandexBroWebView,r.contextNonce=t.contextNonce,r.header3Nonce=t.header3Nonce,t.flags&&(r.flags=t.flags),r.pageState=lt.a.factory({env:ut()(r)}),mt&&(mt.onchange=function(){r.updateNetwork(),r.trigger("change")}),r}m()(t,e);var n=t.prototype;return n.updateNetwork=function(){if(mt&&this.reduxState){var e=mt.effectiveType;this.network=se()({},this.network,{networkType:e,saveData:mt.saveData,isOnline:navigator.onLine})}},n.setCookie=function(e,t,n){this._setCookie(e,t,n),this.trigger("cookies:change")},n.getCookie=function(e){return Object(ht.a)(e)},n.getWindowWidth=function(){return this.pageState.getWindowWidth()},n.getWindowHeight=function(){return this.pageState.getWindowHeight()},n.getScrollWidth=function(){return this.pageState.getScrollWidth()},n.getPixelRatio=function(){return window.devicePixelRatio},n.getRequestId=function(){return window.requestId||this.requestId},n.getRegionId=function(){return this.regionId},n.getUserPermissions=function(){return this.permissions||pt},n.attachRedux=function(t){return de.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.on("change",(function(){return t.dispatch(Object(bt.a)({}))})),this.pageState.on("change:width change:height",(function(){return t.dispatch(Object(bt.a)({}))})),this.reduxState=t,this.updateNetwork(),n.abrupt("return",e.prototype.attachRedux.call(this,t));case 5:case"end":return n.stop()}}),null,this)},n.updateDependencies=function(t){e.prototype.updateDependencies.call(this,t),t.event&&!t.event.isFirstRender&&this.reduxState&&this.reduxState.dispatch(Object(bt.a)({})),t.event&&!t.event.isFirstRender&&(this.isOffline=!1)},n._setCookie=function(e,t,n){Object(ht.d)(e,t,se()({path:"/collections"},n)),Object(ht.d)(e,t,se()({path:"/images"},n))},t.restore=function(e){return this.factory(e)},t.factory=function(e){return this.instance||(this.instance=new this(e)),this.instance},st()(t,[{key:"cookies",get:function(){return Object(ht.c)(document.cookie)}}]),t}(dt.a),gt=n("VL+A"),Ot=function(e){function t(t,n){var r=e.call(this,t)||this;return r.writer=t.writer,r.type=n,r}return m()(t,e),t.prototype.write=function(e){e.request=se()({},e.request,{pageUrl:location.href}),e.clientVersion="1.184.2-842bfd6d",this.writer.write(e,this.type)},t.networkFactory=function(e){return new this(e,fe.B.clientNetwork)},t.errorFactory=function(e){return new this(e,fe.B.clientError)},t}(function(){function e(e){var t=(void 0===e?{}:e).env;this.env=t}var t=e.prototype;return t.log=function(e){return this._log(fe.z.INFO,e)},t.info=function(e){return this._log(fe.z.INFO,e)},t.warn=function(e,t){var n=(console._warn||console.warn).bind(console);return this._notifyConsole(n,e,t),this._log(fe.z.WARN,e,t)},t.error=function(e,t){var n=(console._error||console.error).bind(console);return this._notifyConsole(n,e,t),this._log(fe.z.ERROR,e,t)},t._notifyConsole=function(e,t,n){var r=(void 0===n?{}:n).logToConsole;(void 0===r||r)&&this.shouldLog(t)&&e(t)},t._log=function(e,t,n){var r=(void 0===n?{}:n).forceLog;if(void 0!==r&&r||this.shouldLog(t)){var i=se()({data:se()({},Object(gt.a)(t)),level:e},this.defaults());this.write(i),this.markLogAsLogged(t)}},t.shouldLog=function(e){return!(e&&(e[fe.A]||"abort"===e.statusText))},t.markLogAsLogged=function(e){e&&"object"==typeof e&&(e[fe.A]=!0)},t.write=function(e){console.log(e)},t.setEnv=function(e){this.env=e},t.defaults=function(){var e=this.env,t=e&&e.getRequestId(),n=e&&e.currentUser,r=n&&n.getLogin();return{timestamp:this.getTimestamp(),request:{login:r||"",requestId:t||""}}},t.getTimestamp=function(){return Math.round(Date.now()/1e3)},e}()),_t=function(){function e(){this.buffer=[],this.isPlanned=!1}var t=e.prototype;return t.write=function(e,t){this.buffer.push({type:t,json:e}),this.isPlanned||this.planFlush()},t.planFlush=function(){var e=this;this.buffer.length?(this.isPlanned=!0,this.timeout=setTimeout((function(){return e.flush()}),5e3)):this.isPlanned=!1},t._post=function(e){return fetch("/collections/web-api/log/",{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(e)})},t.flush=function(){var e=this,t=this.buffer.splice(0,10);return t.length?this._post(t).then((function(){return e.planFlush()}),(function(n){console.error(n),e.buffer=t.concat(e.buffer),e.planFlush()})):Promise.resolve()},e}(),yt=n("EsBG"),Ct=n("CmRB"),Et=n("Y+Td"),jt=n("LGxj"),St=function(){function e(e){this.entities=[],this.uniqueId=1,this.router=e}var t=e.prototype;return t.popHead=function(){return this.entities.pop()},t.getHead=function(){return this.entities[this.entities.length-1]},t.openModal=function(e,t){void 0===t&&(t=!0);var n={prefix:e,id:e+"-"+Math.random()+"-"+this.uniqueId++};return this.isEmpty()||this.getHead().prefix!==n.prefix?this.pushHead(n,t):this.replaceHead(n,t),n.id},t.replaceHead=function(e,t){this.entities[this.entities.length-1]=e,t&&this.router.replacePopState(e)},t.pushHead=function(e,t){t&&(this.isEmpty()?this.router.pushPopState(e):this.router.replacePopState(e)),this.entities.push(e)},t.isEmpty=function(){return 0===this.entities.length},t.closeByBackButton=function(){var e=this.popHead();if(!e)throw new Error("There are no such modal");if(!this.isEmpty()){var t=this.getHead();this.router.pushPopState(t)}return e.id},t.closeByUser=function(e){var t=this.getHead();return!(!t||t.id!==e.id||(this.popHead(),this.isEmpty()&&this.router.back(),0))},e}(),wt=n("M740"),kt=n("Afbn"),It=n("t9gz"),Tt=n("lm6b"),Rt=n("wRV7"),Lt=n("S7YN"),xt=n("smvh"),Dt=xt.c.channel("global.modal").commands,Nt=n("riXN"),At=n("1vK5"),Pt=n("9qcP"),Bt=n("gF9f"),Mt={search:!0},Ut=n("3FJW"),Ft=n("w7HD"),Vt={},Ht={},Wt=n("DMoZ"),zt=n("4RqY"),Kt=n("mxxA"),Yt=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c,u,l,d,h,f;return de.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=e.removeHistory,r=e.counter,i=t.getState,a=t.dispatch,o=t.di,s=i(),c=Object(Wt.a)(s),u=c&&c.type,Oe.d.clickSideblockClose(se()({type:u},r)),!n){p.next=18;break}return l=Object(z.a)(s)||Object(I.a)(s),d=Object(L.a)(s),p.prev=9,p.next=12,de.a.awrap(o("router"));case 12:h=p.sent,p.next=17;break;case 15:p.prev=15,p.t0=p.catch(9);case 17:h&&(l&&Vt[l]?(f=Ht[l])&&h.navigate(f(d),{trigger:!1,replace:!0}):h.back());case 18:a(Object(Kt.a)(void 0));case 19:case"end":return p.stop()}}),null,null,[[9,15]])})),qt=n("5QOx"),Gt=function(e,t,n){function r(e){if(!e)throw new Error('Unknown key "'+e+'"');return t[e]||e}return void 0===t&&(t={}),void 0===n&&(n={}),{alias:function(e){return r(e)},component:function(t){return e[r(t)]},load:function(e){var t;return de.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=this.component(e))){n.next=4;break}return n.next=4,de.a.awrap(t.loader());case 4:case"end":return n.stop()}}),null,this)},preload:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,i,a=this;return de.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=r(e),i=n[t]||[],o.next=4,de.a.awrap(Promise.all(i.map((function(e){return a.load(e)}))));case 4:case"end":return o.stop()}}))}))}}({}),Xt=n("oShl"),Jt="RouterError",Zt=function(e){function t(n,r){var i=e.call(this)||this;return i.name=Jt,n instanceof Error?(i.message=n.message,i.stack=n.stack,i.status=n.status):(void 0!==n.status?(i.status=n.status,i.message=n.statusText):i.message=n,Error.captureStackTrace?Error.captureStackTrace(ut()(i),t):i.stack=(new Error).stack),i.originalError=n,i.event=r,i}return m()(t,e),t}(n.n(Xt)()(Error)),Qt=n("WLYw"),$t=n("xFYi"),en=n("YxMk"),tn=n("0q89"),nn=n("Gxl1"),rn=n("+Ncb"),an=function(e,t){return function(){t(e.apply(void 0,arguments))}},on=0,sn=/\(([^)]+)\)/g,cn=/:([^/()]+)/g,un=/\*\w+/g,ln=function(){this.propagationStopped=!0},dn=function(){function e(e){var t,n,r,i,a,o,s=e.routes,c=e.layouts,u=e.aliases,l=e.hist;this.routes=[],this.index={},this.middleware=[],this.aliases=u||{},this.layouts=c,this.aliases=u,this.hist=l||("undefined"!=typeof window?window.history:void 0),this.resolveMiddlewareDebounced=(t=this.resolveMiddleware,n=this,r=function(e,t){return t.id},i=null,a=null,o=function(){return i=null},function(){for(var e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return i?r?(a=r.apply(void 0,s),new Promise((function(e,c){var u=function(){a===r.apply(void 0,s)&&(i=t.call.apply(t,[n].concat(s))).then(an(o,e),an(o,c))};i?i.then(u,u):u()}))):i:((i=t.call.apply(t,[n].concat(s))).then(o,o),i)}),this.bindRoutes(s)}var t=e.prototype;return t.documentClickHandle=function(e){var t=e.target;if(t instanceof HTMLAnchorElement){if(t.getAttribute("target"))return;e.preventDefault(),this.navigate(t.href)}},t.bindListeners=function(){"undefined"!=typeof window&&(this.popstateHandle=this.windowPopStateHandle.bind(this),window.addEventListener("popstate",this.popstateHandle)),"undefined"!=typeof document&&(this.clickHandle=this.documentClickHandle.bind(this),document.body.addEventListener("click",this.clickHandle))},t.buildQuery=function(e){return Object(nn.a)(e.split("?")[1])},t.getLastEvent=function(){return this.lastEvent},t.getPrevEvent=function(){return this.prevEvent},t.setLastEvent=function(e){this.lastEvent!==e&&(this.prevEvent=this.lastEvent,this.lastEvent=e)},t.getLastEventReverseURL=function(e,t){var n=this.getLastEvent()||{},r=se()({},n.query,{},n.params,{},t);return this.reverse(e,r)},t.getUrlMeta=function(e,t,n){void 0===n&&(n="navigate");for(var r,i=e.replace(/^https?:\/\/[^\/]+/,"").split("#"),a=i[0],o=i[1],s=void 0===o?"":o,c=a.split("?"),u=c[0],l=c[1],d=this.buildQuery(a),h=0;h<this.routes.length&&!(r=this.routes[h](u,d,s,t));h++);r=se()({},r,{search:l,reason:n});var f=this.aliases[r.name];return f&&Object.assign(r,{name:f,origName:r.name,isAlias:!0}),{baseUrl:a,url:u,hash:s,query:d,event:r}},t.reverseLastEvent=function(e){void 0===e&&(e={});var t=this.getLastEvent()||{},n=t.origName||t.name;return this.getLastEventReverseURL(n,e)},t.replaceQuery=function(e,t){return this.navigate(this.reverseLastEvent(e),se()({trigger:!0},t))},t.navigate=function(e,t){if(void 0===t&&(t={}),"#"===e)return Promise.resolve();var n=this.hist,r=t,i=r.replace,a=void 0!==i&&i,o=r.trigger,s=void 0===o||o,c=r.state;return void 0===n?Promise.resolve():(a?n.replaceState(c,"",e):n.pushState(c,"",e),this.env.dispatch(rt(e)),this.env.dispatch(it(!1)),s?this.match(e):(this.setLastEvent(this.getUrlMeta(e,c).event),Promise.resolve()))},t.navigateToReverse=function(e,t,n){void 0===n&&(n={});var r=this.reverse(e,t);return r?this.navigate(r,n):null},t.match=function(e,t,n){void 0===n&&(n="navigate");var r=this.getUrlMeta(e,t,n),i=r.url,a=r.query,o=r.hash,s=r.event,c=s?Promise.resolve(s):Promise.reject(new Error('Cannot match url "'+i+'"'));return s||(s={url:i,query:a,hash:o,name:"error",code:404,stopPropagation:ln,params:{},reason:n,state:t}),s.name===g.a.STATISTICS?(window.top.location.reload(),Promise.resolve()):(this.setLastEvent(s),this.resolveMiddlewareDebounced(c,s))},t.matchCurrentUrl=function(e,t){return void 0===t&&(t="navigate"),this.match(location.href,e,t)},t.matchRouterEvent=function(e){var t=e?Promise.resolve(e):Promise.reject(new Error("event should be passed"));return this.setLastEvent(e),this.resolveMiddlewareDebounced(t,e)},t.reverse=function(e,t,n){void 0===n&&(n={});var r=se()({},t,{},n),i=Object.keys(r),a=[];!this.index[e]&&this.aliases[e]&&(e=this.aliases[e]);var o=this.index[e];if(!o)return"";var s=function(e){return null!=e&&""!==e},c=function(e,t){return e.replace(/:([^)/]+)/g,(function(e,n){var a=i.indexOf(n);return a>-1&&s(r[n])?(i.splice(a,1),encodeURIComponent(String(r[n]))):(t&&t.push(n),e)}))};if(o=o.replace(/\(([^)]+)\)/g,(function(e,t){var n=c(t);return n!==t?n:""})),o=c(o,a),a.length)return"#";if(o=o.replace(un,""),i.length){var u=[];i.forEach((function(e){s(r[e])&&u.push(encodeURIComponent(e)+"="+encodeURIComponent(r[e]))})),u.length&&(o+="?"+u.join("&"))}return o},t.start=function(){return this.bindListeners(),this.matchCurrentUrl()},t.stop=function(){"undefined"!=typeof window&&this.popstateHandle&&window.removeEventListener("popstate",this.popstateHandle),"undefined"!=typeof document&&this.clickHandle&&document.body.removeEventListener("click",this.clickHandle)},t.windowPopStateHandle=function(e){this.matchCurrentUrl(e.state,"popstate")},t._attachMiddlewares=function(){var e,t={di:this.di,router:this,routes:this.layouts};this.use((e=t.router,function(t){var n,r,i,a,o,s,c,u,l,d,h,f,p,b,m,v,O,_,y,C,E,j,S,w,k,I,T,R,L,x,D,N,A;return de.a.async((function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,de.a.awrap(t.di("env"));case 2:if(n=P.sent,r=t.name,i=t.origName,a=t.params,o=t.query,r!==g.a.BOARD||!o.invite){P.next=24;break}return P.next=7,de.a.awrap(t.di("currentUser"));case 7:if(P.sent.isAuthorized()){P.next=24;break}return P.next=11,de.a.awrap(t.di("redux"));case 11:if(s=P.sent,c=s.getState(),u=Object(M.a)(c),l=Object($t.a)(u),console.log(u),!l){P.next=24;break}return P.next=19,de.a.awrap(t.di("response"));case 19:if(d=P.sent,h=a.slug,!(f=a.login)||!h){P.next=24;break}return d.setLocation(Nt.a.authUrl({env:n,passportOrigin:Object(en.a)(n,tn.a.BOARD),retpath:"https://"+n.host+e.reverse(g.a.BOARD,{login:f,slug:h,ref:"passport",invite:o.invite})})),P.abrupt("return",t.stopPropagation());case 24:if(r!==g.a.UNDERSIDE){P.next=31;break}return P.next=27,de.a.awrap(t.di("response"));case 27:p=P.sent,b=e.reverse(g.a.FAVORITES_TYPE,se()({},o,{type:o.type||X.a.IMAGE})),t.stopPropagation(),p.setLocation(b,{replace:!0});case 31:if(r!==g.a.CHANNEL||"photo-of-the-day"!==a.id){P.next=38;break}return P.next=34,de.a.awrap(t.di("response"));case 34:return m=P.sent,v=e.reverse(g.a.DAILY_PHOTO),t.stopPropagation(),P.abrupt("return",m.setLocation(v,{replace:!0}));case 38:if(r!==g.a.UNDERSIDE){P.next=45;break}return P.next=41,de.a.awrap(t.di("response"));case 41:return O=P.sent,_=e.reverse(g.a.FAVORITES_TYPE,se()({},o,{type:X.a.IMAGE})),t.stopPropagation(),P.abrupt("return",O.setLocation(_));case 45:if(r!==g.a.FAVORITES_TYPE){P.next=80;break}return P.next=48,de.a.awrap(t.di("currentUser"));case 48:if(!(y=P.sent).isAuthorized()){P.next=73;break}return P.next=52,de.a.awrap(t.di("redux"));case 52:if(C=P.sent,E=C.getState(),j=y.getLogin(),S=Object(M.a)(E),!(w=Object(Qt.a)(S))||!j){P.next=66;break}return P.next=60,de.a.awrap(t.di("response"));case 60:return k=P.sent,I=e.reverse(g.a.BOARD,{login:j,slug:w}),t.stopPropagation(),P.abrupt("return",k.setLocation(I,{replace:!0}));case 66:if(!j){P.next=73;break}return P.next=69,de.a.awrap(t.di("response"));case 69:return T=P.sent,R=e.reverse(g.a.PROFILE,{login:j}),t.stopPropagation(),P.abrupt("return",T.setLocation(R,{replace:!0}));case 73:if(X.a[a.type]){P.next=80;break}return P.next=76,de.a.awrap(t.di("response"));case 76:return L=P.sent,x=e.reverse(g.a.FAVORITES_TYPE,se()({},o,{type:o.type||X.a.IMAGE})),t.stopPropagation(),P.abrupt("return",L.setLocation(x));case 80:if(r!==g.a.CHANNEL||!o.sort){P.next=92;break}return P.next=83,de.a.awrap(t.di("currentUser"));case 83:if(P.sent.isRedactor()&&("new"===o.sort||"popular"===o.sort)){P.next=92;break}return P.next=87,de.a.awrap(t.di("response"));case 87:return D=P.sent,delete o.sort,N=e.reverse(g.a.CHANNEL,se()({},o,{id:t.params.id})),t.stopPropagation(),P.abrupt("return",D.setLocation(N));case 92:if(!(A=Ht[i])){P.next=99;break}return P.next=96,de.a.awrap(t.di("response"));case 96:return P.sent.setLocation(A(se()({},t.params,{},t.query))),P.abrupt("return",t.stopPropagation());case 99:case"end":return P.stop()}}))})),this.use(function(e){var t=e.router;return function(e){return Object(l.e)(e.di("env"),(function(n){n.prevEventName=n.eventName,n.eventName=e.name,t.setLastEvent(e)}))}}(t))},t.use=function(e,t){this.middleware.push([e,t])},t.addRoute=function(e,t){var n=this.routeToRegexp(t),r=n.regexp,i=n.names;this.index[e]=t,this.routes.push(this.buildRouteHandler(r,e,i))},t.bindRoutes=function(e){for(var t,n=Object.keys(e);null!=(t=n.shift());)this.addRoute(e[t],t)},t.buildRouteHandler=function(e,t,n){return function(r,i,a,o){var s=r.match(e),c={};if(s){var u="event"+ ++on;return n.forEach((function(e,t){return c[e]=Object(rn.a)(s[t+1])})),{id:u,url:r,name:t,params:c,query:i,hash:a,state:o,stopPropagation:ln}}}},t.resolveMiddleware=function(e,t){var n=this;return this.middleware.reduce((function(e,r){var i=r[0],a=r[1];return i&&(e=e.then((function(e){if(!e.propagationStopped)return i(e)}))),a&&(e=e.catch(n.wrapError(a,t))),e.then((function(){return t}))}),e)},t.routeToRegexp=function(e){var t=[],n=e.replace(sn,(function(e,t){return"(?:"+t+")?"})).replace(cn,(function(e,n){return t.push(n),"([^/]+)"})).replace(un,"([^?]*?)");return{names:t,regexp:new RegExp("^"+n+"$")}},t.wrapError=function(e,t){return function(n){var r=n.name!==Jt&&n.name!==De.d?new Zt(n,t):n;return e(r,t)}},e}(),hn=function(e){function t(t){var n,r=t.bus;return(n=e.call(this)||this).bus=r,n}m()(t,e);var n=t.prototype;return n.show=function(){this.bus.trigger("loader:start")},n.hide=function(){this.bus.trigger("loader:stop")},n.showMiddlewareFactory=function(){var e=this;return function(){return e.show()}},n.hideMiddlewareFactory=function(){var e=this.hide.bind(this);return[e,function(t){throw e(),t}]},t.factory=function(e){return new this(e)},t}(xt.a),fn=n("qDXE"),pn=n("7hiN"),bn=n("s6gp"),mn=n("P34R"),vn=n("ukm6"),gn=n("785c"),On=n("hFHJ"),_n=n("1WnH"),yn=Object(zt.a)((function(e,t){var n,r,i,a;return de.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.dispatch,r=t.getState,!(i=Object(vn.a)(r()).modal)||i.key!==e){o.next=8;break}if(!((a=Object(vn.a)(r())[gn.a])&&a.point&&a.point.view)){o.next=7;break}return o.next=7,de.a.awrap(n(Object(On.e)({type:"back"})));case 7:n(Object(_n.a)(null));case 8:case"end":return o.stop()}}))})),Cn=["0","false"];function En(e,t){if(e.length)return e[0].getAttribute("data-"+t)}function jn(e){return!Cn.includes(e)}function Sn(e){return e&&jn(e)}var wn=function(e){function t(t){var n,r=t.di,i=t.routes,a=t.aliases,o=t.layouts,s=t.env,c=t.skipedLayouts;return(n=e.call(this,{routes:i,aliases:a,layouts:o})||this).popQueue=[],n.popId=new St(ut()(n)),n.lockPopState=!1,n.di=r,n.env=s,n.loader=hn.factory({bus:Ct.b}),r.put("router",ut()(n)),r.put("env",s),s.setRouter(ut()(n)),n.createAsyncLayout=function(e){var t,n=e.layouts,r=e.skipedLayouts;function i(e,t,n,r,i){var a=(t.constructor.name,function(){});e[r].show(t,i),a()}return function(e){var a=e.di,o=n[e.stackName||e.name],s={};if(!(Array.isArray(r)&&r.includes(e.name)||o))throw new De.e('Cannot find configuration for route "'+e.name+'"');var c=function(t){return Object(l.e)(a(t,{event:e}),(function(e){return e.triggerMethod("route:update"),s[t]=e,e}))},u=function(e){if(!1===e)return!1;if("string"==typeof e)return c(e);if(Array.isArray(e)){var t=c(e[0]),n=u(e[1]);return Object(l.a)([t,n],(function(t){var n=t[0],r=t[1];return Object(he.forEach)(r,(function(t,r){if(n.isDestroyed)throw new Error("Layout is already destroyed, we can't render it properly");if(t)if(n.isRendered)i(n,t,e[0],r);else{var a=n.env;t._env=a,t.listenToOnce(n,"render",(function(){i(n,t,e[0],r,void 0)}))}else n.isRendered&&n[r].empty()})),n}))}if("object"==typeof e){var r={},a=Object(he.map)(e,(function(e,t){return Object(l.e)(u(e),(function(e){r[t]=e}))}));return Object(l.a)(a,(function(){return r}))}};return e.views||(e.views={}),e.resources||(e.resources={}),t&&function(e,t){var n=e.tree,r=e.instances,i=function(e,t){var n=r[e];n&&n.triggerMethod("willDestroy",e,t)},o=function(e){if(!e)return[e,{}];Object(he.isArray)(e)||(e=[e,{}]);var t=a.getDefinition(e[0]);return t.reuse&&(e[0]=t.reuse),e},s=function(e,t){var n=o(e),r=n[0],a=n[1],c=o(t),u=c[0],l=c[1];r!==u?i(r,u):Object(he.forEach)(a,(function(e,t){var n=l[t];n?s(e,n):i(e,null)}))};s(n,t)}(t,o),s={},Object(l.e)(u(o),(function(n){e.views.layout=n,t={tree:o,instances:s};var r=Object.keys(s).map((function(e){return s[e].animationProgress}));return Object(l.a)(r,(function(){return n}))}))}}({layouts:o,skipedLayouts:c}),n._attachMiddlewares(),n}m()(t,e);var n=t.prototype;return n.navigate=function(t,n){var r=this;return void 0===n&&(n={}),new Promise((function(i,a){r.requestPopAction((function(){return window.top!==window?(window.top.location.href=r.env.origin+t,i()):(n.localState?r.localState=n.localState:r.localState=null,r.trigger("counter:hit"),r.popId.isEmpty()||(r.ignoreNextBack=!0,n.replace=!0),e.prototype.navigate.call(r,t,n).then(i,a))}))}))},n.getLocalState=function(){return this.localState},n.getPopHandler=function(){return this.popId},n.documentClickHandle=function(e){var t=e.target;if(t instanceof HTMLAnchorElement||(t=ce(e.target).closest("a").get(0)),t instanceof HTMLAnchorElement){var n=ce(t),r=n.attr("href")||En(n,"href"),i=n.attr("target"),a=En(n,"original-href")||r,o=En(n,"link-type"),s=jn(En(n,"trigger")),c=En(n,"navigate"),u=En(n,"prevent"),l=En(n,"ys"),d=En(n,"disable-counters"),h=this.env&&this.env.flags[ye.d.COLLECTIONS_OPEN_LINKS_ON_MULTIMORDA]&&l;if(Sn(u))return void e.preventDefault();if("extension"===o)return void be.a.onPluginStore(r);if(!r||"#"===r||r.match(/^(yellowskin|javascript|intent):/))return;if(/^tel:/.test(r))return;if(r.match(/^(https?:)?\/\//)||r.match(bn.a))return void(Sn(d)||En(n,"c")||Oe.d.clickLinkExternal({href:a}));if(e.ctrlKey||e.shiftKey||e.metaKey)return;if(!jn(c))return;if(!h&&this.env&&(Object(mn.a)(this.env)||this.env.isYandexRecent))return Object(pn.a)(r,this.env),void e.preventDefault();if("_blank"===i||"_top"===i)return;null!=s&&""!==s||(s=!0),this.navigate(r,{trigger:s}),e.preventDefault()}},n._attachMiddlewares=function(){var t,n,r,i={di:this.di,router:this},a=function(e){var t,n=e.pageState;return{start:function(){e.lockScroll=!1},stop:function(e){!function(e){var r,i;e.isFirstRender||(t&&(i=e,(r=t).name===i.name&&(Mt[i.name]||Object(he.isEqual)(r.params,i.params)&&Object(he.isEqual)(r.query,i.query)))||(n.scrollToTop(),setTimeout((function(){return n.scrollToTop()}))),t=se()({},e,{params:se()({},e.params)}))}(e)}}}(this.env),o=function(e){var t,n=e.router,r=0,i=!1;function a(){t||(t=Pt.a.factory().showXHRMessage({status:0},{persistent:!0}))}function o(){t&&(t.remove(),t=null)}return window.addEventListener("async:bundle",(function(e){e.failed?a():i||o()})),{attachStart:function(){n.use((function(){i=!0}))},attachEnd:function(){n.use((function(e){r++,i=!1,e&&e.name!==g.a.OFFLINE&&o()}),(function(e){if(e.status&&e.status===fe.v.NOT_FOUND||e.event&&e.event.name===g.a.NOT_FOUND||e instanceof De.e)n.match(n.reverse(g.a.NOT_FOUND));else if(console.error(e),a(),0===e.status){var t=r;setTimeout((function(){if(t!==r)throw e;n.matchCurrentUrl({offlineRestoration:r})}),1e4)}else n.match(n.reverse(g.a.OFFLINE))}))}}}({router:this});o.attachStart(),this.use((n=(t=i).di,r=t.router,function(e){var t=e.params||{};if("profile"===e.name)return Object(l.e)(n({currentUser:"currentUser",response:"response"}),(function(n){var i=n.currentUser,a=n.response;if(i.getLogin()===t.login&&i.isRestricted()){var o=r.reverse(fe.s,e.query);e.stopPropagation(),a.setLocation(o,{replace:!0})}}))})),this.use(function(e){var t=e.di,n=e.router;return function(e){var r,i,a,o,s,c,u,l;return de.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r=t.getDefinition("ReduxState").instance,i=e.origName||e.name,"navigate"!==e.reason){d.next=7;break}if(!(a=Vt[i])){d.next=7;break}return d.next=7,de.a.awrap(Gt.load(a));case 7:r&&(o=function(){if("popstate"===e.reason)e.stopPropagation();else{var t=Object(z.a)(s);if(!t||!Vt[t]){var r=location.toString();n.back(),n.navigate(r,{replace:!0}),e.stopPropagation()}}},s=r.getState(),c=Vt[i],u=Object(Ft.a)(s),(l=Object(Ut.a)(s)).length?(r.dispatch(Object(qt.a)({type:l[l.length-1]})),o()):u&&!c&&(r.dispatch(Yt({})),o()));case 8:case"end":return d.stop()}}))}}(i)),this.use(function(e){var t=e.di,n=e.router;return function(e){var r=t.getDefinition("ReduxState").instance,i=r&&Object(Ze.a)(r.getState(),ye.d.COLLECTIONS_DESKTOP_VIEWER);if(!e.isFirstRender&&e.name===g.a.CARD){if(r&&i){var a;if(e.state){var o=e.state,s=o.cardsFetchParams,c=o.cardsUrl;if(a=o.cardsStateKey,s&&c&&a){var u=r.getState(),l=Object(kt.a)(u,a),d=Object(wt.a)(u,a)||{};l===c&&Object(Et.isEqual)(s,d)||!Object.keys(d).length||r.dispatch(Object(Lt.a)({storeKey:a,url:l,query:d}))}}return r.dispatch(Object(Rt.b)({cardId:e.params.id,stateKey:a,skipNavigate:!0,filterStack:!0,counter:{type:"navigation"}})),e.stopPropagation()}var h=t.getDefinition("CardPopupState").instance,f=n.getLocalState()||{},p=f.cardsFetchParams,b=f.cardsUrl,m=Object.keys(p||{}).length,v=p&&p.page_size&&1===m;if(h&&!v){e.stopPropagation();var O=n.getUrlMeta(location.href);return O.event&&n.setLastEvent(O.event),h.openCardPopupById(e.params.id,{cardsFetchParams:p,cardsUrl:b,skipNavigate:!0})}}var _=n.getPrevEvent();if(_&&_.name===g.a.CARD)if(r&&i){var y=Object(It.a)(r.getState()).initialEvent;y&&y.route===e.name&&Object(Et.isEqual)(y.query,se()({},e.query,{},e.params))&&(r.dispatch(Object(Tt.a)({skipNavigate:!0,skipStack:!0})),e.stopPropagation())}else{var C=t.getDefinition("CardPopupState").instance;if(C){var E=C.getInitialPointEvent();E&&function(e,t){if(!e||!t)return!1;var n=e.name&&e.name===t.name,r=e.params&&Object(Et.isEqual)(e.params,t.params),i=e.query&&Object(Et.isEqual)(e.query,t.query);return Boolean(n&&r&&i)}(E,e)&&(C.closeCard(),e.stopPropagation())}}(r?Object(S.a)(r.getState()):void 0)&&e.name!==g.a.CARD&&r&&r.dispatch(Object(Tt.a)({skipNavigate:!0,skipStack:!0}))}}(i)),this.use(this.loader.showMiddlewareFactory(i)),this.use(function(){var e=!0;return function(t){t.isFirstRender=e,e=!1}}()),this.use(a.start),this.use(function(e){var t=e.router;return function(e){e.di=t.di.session({event:e})}}(i)),e.prototype._attachMiddlewares.call(this),this.use(function(e){var t=e.router;return function(e){return Object(l.e)(t.createAsyncLayout(e),(function(t){e.views={layout:t}}))}}(i)),this.use((function(e){e.isFirstRender&&e.views.layout.render()})),this.use((function(e){e.di.close();var t=e.di.getDefinitions();Object.keys(t).map((function(e){return t[e]})).map((function(e){e.instance&&!0===e.instance.isDestroyed&&delete e.instance}))})),this.use((function(e){var t=e.di.getDefinitions(),n=new Set;Object.keys(t).map((function(e){return t[e]})).forEach((function(e){var t=e.instance;t&&!n.has(t)&&(n.add(t),"function"==typeof t.triggerMethod?t.triggerMethod("ready"):t.onRouterReady&&t.onRouterReady())}))})),this.use.apply(this,this.loader.hideMiddlewareFactory(i)),this.use(a.stop),this.use((function(){return Dt.execute("hide")})),this.use((function(e){var t=e.query;if(t.ptrid)return Promise.resolve(e.di("env")).then((function(n){if(n.cookies.cptrid===t.ptrid)return Promise.resolve(e.di("currentUser")).then((function(e){e.isAuthorized()&&(Nt.a.resetPtrid({env:n}),be.a.onAuth({modalType:t.modalType||fe.y.DIRECT,authSource:t.authSource||fe.a.DEFAULT}))}))}))})),this.use((function(e){var t;return de.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.isFirstRender&&(t=e.di.getDefinition("ReduxState").instance)&&setTimeout((function(){t.dispatch(Object(Bt.a)({env:se()({},t.getState().env,{isRestore:!1})}))}));case 1:case"end":return n.stop()}}))}));var s,c=(s=this.env,function(e){s.currentUser&&!e.requestUserCatched&&(e.requestUserCatched=!0,ge.a.factory({env:s}).sendAccess({pageName:e.name}))});this.use(c,(function(e,t){throw c(t),e})),o.attachEnd(),this.use(null,(function(e){throw e&&("status"in e?be.a.showXHRMessage(e):e.notify?be.a.showNotification(e.notify):(be.a.showMessage(At.errorDefault),console.error(e))),e}))},n.refresh=function(){Object(fn.a)(location)},n.reload=function(e){Object(fn.a)(e)},n.pushPopState=function(e){this.requestPopAction((function(){history.pushState(se()({},history.state,{popId:e.id}),"")}))},n.replacePopState=function(e){this.requestPopAction((function(){history.replaceState(se()({},history.state,{popId:e.id}),"")}))},n.requestPopAction=function(e){this.lockPopState?this.popQueue.push((function(){return e()})):e()},n.back=function(){this.ignoreNextBack?this.ignoreNextBack=!1:(this.lockPopState=!0,history.back())},n.match=function(t,n,r){if(void 0===r&&(r="navigate"),this.prevEvent){var i,a="routernavigate";try{i=new Event(a)}catch(e){(i=document.createEvent("Event")).initEvent(a,!1,!1)}window.dispatchEvent(i)}return e.prototype.match.call(this,t,n,r)},n.windowPopStateHandle=function(t){if(this.lockPopState){var n=this.popQueue;return this.lockPopState=!1,this.popQueue=[],void n.forEach((function(e){return e()}))}if(!this.popId.isEmpty()){var r=this.popId.closeByBackButton();this.trigger("change:pop:back",r),this.env.dispatch(yn(r))}if(this._requestSkipHandle)this._requestSkipHandle=!1;else{var i=this.getLastEvent();i&&i.url===location.pathname&&Object(Et.isEqual)(i.query,this.buildQuery(location.href))||e.prototype.windowPopStateHandle.call(this,t)}},n.setLastEvent=function(t){e.prototype.setLastEvent.call(this,t),window.Ya&&Ya.Collections&&t&&(Ya.Collections.pageName=t.name),this.trigger("change:event",t)},t}(dn);Object(v.a)(jt.a.prototype)(wn);var kn=n("Oaat");function In(e,t){var n=e&&e.getStats();if(n)return n[t]}var Tn=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e;this.listenTo(be.a,((e={})[["card:remove","card:like","card:unlike","board:create","board:remove","board:subscribe","board:unsubscribe","channel:subscribe","channel:unsubscribe"].join(" ")]=this.syncCurrentUserStats,e["user:subscribe user:unsubscribe"]=this.syncCurrentUserStats.bind(this,"board_subscriptions"),e))},n.setCurrentUser=function(e){this.set("currentUser",e)},n.getCurrentUser=function(){return this.get("currentUser")},n.updateDependencies=function(e){var t=e.currentUser;this.setCurrentUser(t)},n.syncCurrentUserStats=function(e){var t=this.getCurrentUser();if(t){var n=e?In(t,e):void 0;Object(kn.a)(500).then((function(){return t.fetchCurrentUser()})).then((function(){if(e&&In(t,e)===n)return Object(kn.a)(1e3).then((function(){return t.fetchCurrentUser()}))}))}},t}(O.a),Rn=["gorselPad","imagesPad","gorselSmart","imagesSmart","gorselTouch","imagesTouch","gorselDesktop","imagesDesktop"],Ln=n("X+QC"),xn=n("om3R"),Dn=n("93Q7"),Nn=n("hfWR"),An=n("SZfI"),Pn=n("SGwR"),Bn=n("ZVGH"),Mn=n("ZJId"),Un=/^\/(images|gorsel)\//,Fn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).title={show:function(){}},t}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this,t=this.options.pageVisibilityState,n=this.env.pageState;this.listenTo(n,"change:scrollTop",(function(){e.scrollLock&&e.scrollLock<Date.now()&&(e.scrollLock=0,ge.a.sendCounter(Oe.a.clickPageScroll))})),window.onbeforeunload=function(){ge.a.sendCounter(Oe.a.clickPageClose)},this.listenTo(t,"change:visible",(function(){ge.a.sendCounter(Oe.a.showPage,{visible:t.isVisible()})}))},n.placeRestoreData=function(e){var t=Object(d.b)(e);this.ui.restoreData.html(t)},n.clean=function(){this.title.empty(),this.meta.empty()},n.onRender=function(){var e=this;this.body=ce("body"),this.body.addClass("page_inited"),this.deferToAttach((function(){e.alerts&&e.showInRegion(e.alerts,e.alertsClass,e.alertsOptions)}))},n.updateDependencies=function(){},n.onReady=function(){if(this.scrollLock=Date.now()+1e3,!this.env.event.isFirstRender){for(var e=Rn.includes(this.env.event.origName)?"https://yastatic.net/images-thumbs/_/8cS_MbHl6VBweqVjWeI-eNy0tzE.ico":Object(Ln.a)("favicon.ico"),t=document.head||document.getElementsByTagName("head")[0],n=t.querySelectorAll("link[rel*=icon]"),r=0;r<n.length;r++)t.removeChild(n[r]);var i=document.createElement("link");i.setAttribute("rel","shortcut icon"),i.setAttribute("href",e),t.appendChild(i)}},st()(t,[{key:"meta",get:function(){return this.isOffline?[]:function(e){var t=[];if(e){var n=Object(z.a)(e)||Object(I.a)(e),r=Q(e),i=Object(An.a)(ne.a.TITLE,r),a=Object(An.a)(ne.a.DESCRIPTION,r),o=Object(S.a)(e),s=Object(V.a)(e),c=Object(M.a)(e),u=Object(q.a)(e),l=Object(Dn.a)(e),d=n===g.a.CARD&&o&&o.is_banned,h=Mn.cardBannedTitle(),f=n===g.a.EDITORS_CHOICE,p={},b=Object(Pn.a)(e,!0),m=b&&b.match(Un);if(s)p=Object(Bn.a)(e,{storeKey:"channels",id:s.id});else if(l)p=Object(Bn.a)(e,{storeKey:"contests",id:l.id});else if(c){var v=n&&[g.a.BOARD_SIMILAR,g.a.BOARD_FOLLOWERS].includes(n);p=Object(Bn.a)(e,{storeKey:"boards",id:c.id,isPageUrl:v})}else u?p=Object(Bn.a)(e,{storeKey:"users",id:u.id}):o?p=Object(Bn.a)(e,{storeKey:"cards",id:o.id}):f?p=D(e):m||(p={image:Object(Ln.b)("assets/meta/yandex.jpeg")});if(p.image){var O=Number(Object(L.a)(e).columns);O&&O>1&&O<6&&(p.image+="?columns="+O)}!p.url&&n&&n!==g.a.NOT_FOUND&&(p.url=Object(Nn.a)(e)+b);var _={"og:url":p.url,"og:title":d?h:i.og||p.title||i.default,"og:description":d?h:a.og||p.description||a.default,"og:image":p.image,"og:type":"website","fb:app_id":m?"":"612985925534416","twitter:site":m?"@yandeximages":"@yacollections"},y=_["og:image"];y?(_["twitter:card"]="summary_large_image",_["twitter:image"]=y):_["twitter:card"]="summary",_["twitter:title"]=_["og:title"],_["twitter:description"]=_["og:description"];var C,E=Object(xn.a)(o);E&&E.content&&E.content.sizes&&(C=E.content.sizes.orig),o&&C?(_["og:image:width"]=C.width,_["og:image:height"]=C.height):s?_["og:image"]&&(_["og:image:width"]=507,_["og:image:height"]=237):_["og:image"]&&(_["og:image:width"]=1200,_["og:image:height"]=630),(t=Object.keys(_).filter((function(e){return _[e]})).map((function(e){return{property:e,content:_[e]}}))).push({name:"title",content:d?h:i.meta||i.default},{name:"description",content:d?h:a.meta||a.default})}return t.push({name:"pinterest",content:"nopin"}),t}(this.env.getState())}},{key:"isOffline",get:function(){var e=this.options,t=e.isOffline,n=e.event.name;return t||"offline"===n}}]),t}(E.c);Object(v.a)({ui:{restoreData:"#restoreData"}})(Fn);var Vn=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this.options.notificationCenter&&(this.collection=this.options.notificationCenter.getNotifications())},n.render=function(){return this.isRestored=!1,e.prototype.render.call(this)},n._onCollectionAdd=function(t,n,r){this.options.replaceCurrent&&this.destroyChildren(),e.prototype._onCollectionAdd.call(this,t,n,r)},n.onRender=function(){this.collection&&this.collection.size()&&!this.children.length&&this.render()},t}(E.b);Object(v.a)({className:"notif"})(Vn);var Hn=n("EyUQ"),Wn=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onRender=function(){var e=this;setTimeout((function(){return e.show()}),50),this.model.get("persistent")||this.startTimer()},n.onClick=function(e){this.model.get("url")||e.preventDefault(),this.close()},n.onEnter=function(){this.stopTimer()},n.onOut=function(){this.startTimer()},n.show=function(){this.$el.addClass("notif__pop_state_visible").removeClass("notif__pop_state_hidden")},n.hide=function(){this.$el.removeClass("notif__pop_state_visible").addClass("notif__pop_state_hidden")},n.startTimer=function(){var e=this;this.stopTimer(),this.timer=setTimeout((function(){return e.close()}),5e3)},n.stopTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.onClickOut=function(){this.stopTimer(),this.close()},n.close=function(){var e=this;this.hide(),setTimeout((function(){e.model.collection?e.model.collection.remove(e.model):e.destroy()}),1e3)},n.serializeData=function(){return this.model.toJSON()},t}(E.c);Object(v.a)({className:"notif__pop notif__pop_theme_normal  notif__pop_state_hidden",events:{click:"onClick",mouseenter:"onEnter",mouseout:"onOut"},behaviors:{ClickOut:{behaviorClass:Hn.a}}})(Wn);var zn=n("9TW5"),Kn=n("r7Cx"),Yn=n("6ga4"),qn=function(e){var t=this&&this.isRestored,n=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([n(Kn.a,Object(zn.assign)(e,{class:Object(Yn.b)("button_action-close",{hash:{large:e.large,xlarge:e.xlarge,invert:e.invert}}),icon:!0,"icon-only":!0,type:"clear"}),this)])},Gn=function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t}(Wn);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.sr:zn.s;return(t?zn.fr:zn.f)([n.d("notif__pop__i",{},[n.d("notif__close",{},[qn.call(this,{invert:!0,method:this.close.bind(this),stopPropagation:!0})])," ",n.d("notif__pop__wrap",{},[n("a","notif__link",{href:e.url},[])," ",n.d("notif__text",{},[r(e.message)])])])])}})(Gn);var Xn=function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t}(Vn);Object(v.a)({className:"notif notif_type_upper",childView:Gn})(Xn);var Jn=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this;this.$window=ue()(window);var t=this.view.getEnv().pageState;this.listenTo(t,"change:scrollTop",(function(){e.view.triggerMethod("window:scroll",t.getScrollTop())})),this.listenTo(t,"resize",(function(){e.view.triggerMethod("window:resize",{width:t.getWindowWidth(),height:t.getWindowHeight()})})),this.options.callMethodsOn&&this.on(this.options.callMethodsOn,(function(){e.view.triggerMethod("window:resize",{width:t.getWindowWidth(),height:t.getWindowHeight()}),e.view.triggerMethod("window:scroll",t.getScrollTop())}))},n.onScrollToTop=function(){window.scrollTo(0,0)},n.onScrollTo=function(e){window.scrollTo(0,e)},t}(E.a);Object(v.a)({defaults:{needsData:!0}})(Jn);var Zn=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this.listenTo(Ct.b,{"loader:start":this.start,"loader:stop":this.stop})},n.start=function(){var e=this;this.env.event.isFirstRender||(this.clearTimeout(),this.timeout=setTimeout((function(){e.$el.removeClass("hidden").removeClass("loader_done").removeClass("loader_hide")}),1e3))},n.stop=function(){this.env.event.isFirstRender||(this.clearTimeout(),this.$el.addClass("loader_done"))},n.clearTimeout=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=0)})),t}(n("U60d").a);Object(v.a)({className:"loader loader_position_fixed loader_type_infinity hidden",template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n.d("loader__bar",{},[n.d("loader__peg",{},[])])])}})(Zn);var Qn=n("rktC"),$n=n("PchP"),er=n("cDcd"),tr=n("JxqJ"),nr=n("mUSw"),rr=n("QodL"),ir=n("gHHl"),ar=n("w85Y");function or(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var sr,cr,ur,lr,dr,hr,fr=n("Z0W1"),pr=n("xNeq"),br=Object(pr.a)((function(){return n.e(24).then(n.bind(null,"Hk9Y")).then((function(e){return e.ReactModalDefaultComplain}))})),mr=Object(pr.a)((function(){return n.e(25).then(n.bind(null,"EDVc")).then((function(e){return e.ReactModalFeedComplain}))})),vr=((sr={})[rr.c.BOARD_UNLOCK]=function(){return n.e(26).then(n.bind(null,"s0kH")).then((function(e){return e.ReactModalUnlock}))},sr[rr.c.PROFILE_EDIT]=function(){return n.e(21).then(n.bind(null,"sUXF")).then((function(e){return e.ModalProfileEdit}))},sr[rr.c.VERIFICATION_BY_NUMBER]=function(){return n.e(29).then(n.bind(null,"deyU")).then((function(e){return e.VerificationUserByNumberModal}))},sr),gr=function(e){return function(){return n.e(28).then(n.bind(null,"FK+W")).then((function(t){return t[e]}))}};vr=se()({},vr,((cr={})[rr.c.SHARE]=function(){return n.e(27).then(n.bind(null,"45Hw")).then((function(e){return e.ModalShare}))},cr[rr.c.UNAUTH_CARDS]=gr("ModalUnauthCards"),cr[rr.c.UNAUTH_SUBSCRIBE]=gr("ModalUnauthSubscribe"),cr[rr.c.UNAUTH_THEMES]=gr("ModalUnauthThemes"),cr[rr.c.UNAUTH_LIKE]=gr("ModalUnauthLike"),cr[rr.c.UNAUTH_FEED]=gr("ModalUnauthFeed"),cr[rr.c.UNAUTH_CHANNEL]=gr("ModalUnauthEntity"),cr[rr.c.UNAUTH_CARD]=gr("ModalUnauthEntity"),cr[rr.c.UNAUTH_COLLECTION]=gr("ModalUnauthEntity"),cr)),vr=se()({},vr,((ur={})[rr.c.BOARD_MENU]=function(){return n.e(23).then(n.bind(null,"5SqR")).then((function(e){return e.ReactModalBoardMenu}))},ur[rr.c.ADD_CARD]=function(){return n.e(30).then(n.bind(null,"39/Z")).then((function(e){return e.ReactModalAddCard}))},ur)),vr=se()({},vr,((dr={})[rr.c.COAUTHOR]=function(){return n.e(18).then(n.bind(null,"oCxx")).then((function(e){return e.DesktopModalCoauthor}))},dr)),vr=se()({},vr,((lr={})[rr.c.BULK]=function(){return n.e(19).then(n.bind(null,"lWJt")).then((function(e){return e.ModalBulkToolbar}))},lr));var Or=function(e){return function(){return n.e(17).then(n.bind(null,"yqOS")).then((function(t){return t[e]}))}};(vr=se()({},vr,((hr={})[rr.c.COMPLAIN]=function(){return br.preload()},hr[rr.c.FEED_COMPLAIN]=function(){return mr.preload()},hr[rr.c.DEBUG_INFO]=function(){return n.e(20).then(n.bind(null,"QXo8")).then((function(e){return e.ModalDebugInfo}))},hr[rr.c.ENTITY_REMOVE]=function(){return n.e(22).then(n.bind(null,"U3nT")).then((function(e){return e.ModalRemove}))},hr[rr.c.BULK]=function(){return n.e(19).then(n.bind(null,"lWJt")).then((function(e){return e.ModalBulkToolbar}))},hr)))[rr.c.CARD_LIKES]=Or("DesktopModalCardLikes"),vr[rr.c.CARD_SHARES]=Or("DesktopModalCardShares");var _r=n("ZDp4"),yr=n.n(_r);function Cr(e,t){e&&t.split(" ").forEach((function(t){t&&e.classList.add(t)}))}function Er(e,t){e&&t.split(" ").forEach((function(t){t&&e.classList.remove(t)}))}var jr,Sr,wr,kr,Ir,Tr=Object(nt.a)((function(e){var t=e.ui;return se()({},e,{ui:se()({},t,{isAnimationActive:!1})})})),Rr=Object(nt.a)((function(e){var t=e.ui;return se()({},e,{ui:se()({},t,{isAnimationActive:!0})})})),Lr=(jr=function(e,t,n){var r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return yr()(t),(r=n.dispatch)(Rr({})),Cr(e,"slide-before-in"),Er(e,"slide-before-out"),Er(e,"slide-before-out_popup"),Er(e,"hidden"),Er(e,"slide-out"),i.next=10,de.a.awrap(Object(kn.a)(0));case 10:Er(e,"slide-before-in"),Er(e,"slide-in"),r(Tr({}));case 13:case"end":return i.stop()}}))},Sr=function(e,t,n){var r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:yr()(t),(r=n.dispatch)(Rr({})),Cr(e,"slide-before-out"),r(Tr({}));case 5:case"end":return i.stop()}}))},Object(zt.a)((function(e,t){var n,r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.el,r=e.params,i.abrupt("return",{runIn:function(){return jr(n,r,t)},runOut:function(){return Sr(n,r,t)}});case 2:case"end":return i.stop()}}))}))),xr=Object(zt.a)((function(e,t){var n,r,i,a,o;return de.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.prefix,r=e.writeToHistory,i=t.di,s.next=4,de.a.awrap(i("router"));case 4:return a=s.sent,o=a.getPopHandler(),s.abrupt("return",o.openModal(n,r));case 7:case"end":return s.stop()}}))})),Dr=Object(zt.a)((function(e,t){return de.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw t.di,new Error("This service support only new router");case 2:case"end":return e.stop()}}))})),Nr=n("3WeZ"),Ar=Object(nt.a)((function(e,t){var n=Object(vn.a)(e).modal;return n&&Object.keys(t).every((function(e){return n[e]===t[e]}))?e:Object(Nr.a)(e,{modal:se()({},e.ui&&e.ui.modal,{},t)})})),Pr=n("+3i7"),Br=n("HtIP"),Mr=n("xVNo");n("eyqA");var Ur=se()(((wr={})[rr.a.NONE]={preventScroll:!0,animation:Lr},wr),{});function Fr(e){e.preventDefault(),e.stopPropagation()}function Vr(e){32<=e.keyCode&&e.keyCode<=40&&Fr(e)}var Hr=(kr=Object(et.a)(),Ir=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={Component:null,animation:null},t}m()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,n){var r=e.current,i=this.props.current;return!(t.isAnimationTypeChanged(i,r)||(!r||!i||r.id===i.id&&r.options===i.options)&&function(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!or(e[n[i]],t[n[i]]))return!1;return!0}(this.state,n))},n.componentDidUpdate=function(e,n){var r,i,a,o,s,c,u,l,d=this;return de.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return e.current,r=this.props,i=r.current,a=r.isIgnoreHistory,o=r.dispatch,s=this.state,c=s.Component,s.animation,u=t.getType(i),l=function(){var e,t;return de.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(a||n.Component===c||!u){r.next=6;break}return e=i&&i.options&&i.options.route,r.next=4,de.a.awrap(o(xr({prefix:u,writeToHistory:!e})));case 4:t=r.sent,d.updateModal({key:t});case 6:return i&&d.updateModal({status:!d.modal||d.modal.classList.contains("hidden")?rr.b.HIDE:rr.b.SHOW}),r.abrupt("return",Promise.resolve());case 8:case"end":return r.stop()}}))},h.next=7,de.a.awrap(this.addToLifecycleQueue((function(){return l()})));case 7:case"end":return h.stop()}}),null,this)},n.componentWillReceiveProps=function(e){this.update(e)},n.update=function(e){var n,r,i,a,o,s,c,u,l=this;return de.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=e.current,r=this.props.current,i=this.state,a=i.Component,i.animation,t.isAnimationTypeChanged(r,n),o=t.isTypeChanged(r,n),s=t.getType(n),c=n&&n.preventOverlay,u=function(){return de.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return e.next=3,de.a.awrap(l.factoryModal(s));case 3:return a=e.sent,l.setState({Component:a}),e.next=8,de.a.awrap(l.toggleModal(Boolean(a)&&!c,Boolean(n&&n.options&&n.options.showPreventedScroll)));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}))},d.next=10,de.a.awrap(this.addToLifecycleQueue((function(){return u()})));case 10:case"end":return d.stop()}}),null,this)},n.componentDidMount=function(){var e=this;this.modal&&this.modal.addEventListener("touchmove",this.onTouchMove),this.props.current&&setTimeout((function(){return e.update(e.props)}))},n.componentWillUnmount=function(){this.modal&&this.modal.removeEventListener("touchmove",this.onTouchMove)},n.toggleModal=function(e,t){var n,r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:void 0===t&&(t=!1),n=this.props.current,r=this.state.wasPreventedScroll,(t||r&&!n)&&(this.setState({wasPreventedScroll:t}),e?(window.addEventListener("wheel",Fr,{passive:!1}),window.addEventListener("keydown",Vr)):(window.removeEventListener("wheel",Fr),window.removeEventListener("keydown",Vr)),Object(Mr.a)(document.body,"cl-modal-placeholder__body",e)),Object(Mr.a)(document.body,"body-overlay",e);case 5:case"end":return i.stop()}}),null,this)},n.addToLifecycleQueue=function(e){return this.lifecycle?this.lifecycle=this.lifecycle.then((function(){return e()})):this.lifecycle=e(),this.lifecycle},n.getAnimation=function(e){var n,r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=this.props.dispatch,!((r=t.getSettings(e))&&r.animation&&this.modal)){i.next=6;break}return i.next=5,de.a.awrap(n(r.animation({el:this.modal,params:{}})));case 5:return i.abrupt("return",i.sent);case 6:return i.abrupt("return",null);case 7:case"end":return i.stop()}}),null,this)},n.close=function(e){return de.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.target&&e.target===this.modal&&this.props.dispatch(Object(_n.a)(null));case 1:case"end":return t.stop()}}),null,this)},n.factoryModal=function(e){return e&&vr[e]?Object(nr.b)((function(){return vr[e]()})):Promise.resolve(null)},n.updateSpinnerType=function(e){var n=t.getAnimationType(e);n&&this.updateModal({spinnerType:n})},n.updateModal=function(e){return this.props.dispatch(Ar(e))},n.render=function(){var e=this,n=this.state.Component,r=this.props.current,i=r&&r.type,a=Boolean(n),o=t.getSettings(r),s=(o&&o.animation,Object(Yn.a)("modal",{state:a?"visible":"hidden",add:!!r&&r.id===gn.b,single:r&&r.options&&r.options.singleColumn}));return er.createElement(Pr.a,{id:"mdl"},er.createElement("div",se()({className:s+" ",ref:function(t){return e.modal=t},onClick:this.close},r&&r.id?{id:r.id}:{}),a&&(i&&n&&r?er.createElement(n,r.options):er.createElement(Br.a,{gif:!1}))))},n.requestBack=function(){var e=this;return de.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.backHandler){t.next=4;break}return t.next=3,de.a.awrap(this.props.dispatch(Dr({onComplete:function(){e.props.current&&(e.backHandler=void 0,e.props.dispatch(Object(_n.a)(null)))}})));case 3:this.backHandler=t.sent;case 4:case"end":return t.stop()}}),null,this)},n.closeBackRequest=function(){this.backHandler&&(this.backHandler.back(),this.backHandler=void 0)},t.isTypeChanged=function(e,n){return t.getType(e)!==t.getType(n)},t.isAnimationTypeChanged=function(e,n){var r=t.getAnimationType(e),i=t.getAnimationType(n),a=t.getType(e),o=t.getType(n);return Boolean(i!==r||!a&&o)},t.getSettings=function(e){var n=t.getAnimationType(e);return n&&Ur[n]},t.getAnimationType=function(e){return e?e.animationType||rr.a.POPUP:null},t.getType=function(e){return e&&e.type||void 0},t}(er.Component),C()(Ir.prototype,"close",[kr],Object.getOwnPropertyDescriptor(Ir.prototype,"close"),Ir.prototype),Ir),Wr=Object(tr.a)((function(e){var t=Object(ar.a)(e);return{current:Object(vn.a)(e).modal,shouldPreventScroll:Object(ir.a)(Object(fr.a)(e)),isAnimation:Object(vn.a)(e).isAnimationActive,isIgnoreHistory:t}}))(Hr),zr=n("TPTU");function Kr(e){var t=e.split("T"),n=t[0],r=t[1],i=n.split("-"),a=i[0],o=i[1],s=i[2];if(r){var c=r.split(":"),u=c[0],l=c[1],d=c[2];return new Date(Number(a),Number(o)-1,Number(s),Number(u),Number(l),Number(d))}return new Date(Number(a),Number(o)-1,Number(s))}var Yr=Date.UTC(2018,11,25,9),qr=Date.UTC(2019,0,8,9),Gr=[g.a.ADD_FLOW,g.a.CARD,g.a.APP_RECENT];function Xr(e,t){if(!e||!e.flags)return!1;var n=Date.now()-e.timeDelta,r=e.flags[ye.d.COLLECTIONS_NY2019],i=e.flags[ye.d.COLLECTIONS_EVENT_POPUP_START_DATE],a=e.flags[ye.d.COLLECTIONS_EVENT_POPUP_END_DATE];e.query,i=i?Kr(i).getTime():Yr,a=a?Kr(a).getTime():qr;var o=n>i&&n<a;return"on"===r&&(o=!0),"off"===r&&(o=!1),(e.isBrowserApp||e.isYandexApp||Gr.includes(t))&&(o=!1),o}function Jr(e){return e.eventPopup&&e.eventPopup.forbidden}var Zr,Qr,$r,ei,ti,ni,ri=n("G7p/");n("l2Z7");var ii=30*fe.M,ai=(Zr=Object(et.a)(),Qr=Object(et.a)(),$r=Object(et.a)(),ei=Object(et.a)(),ti=Object(et.a)(),ni=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hidden:!0,hideAnimation:!1},n}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props,n=t.isEnabled,r=t.isForbidden;n&&r&&Object(ht.f)("event_popup","1",fe.M),n&&!r&&(Boolean(Object(ht.b)("event_popup"))||Object(ri.b)((function(){e.show()})))},n.show=function(){var e=this.props.counter;Object(ht.f)("event_popup","1",fe.M),Oe.d.showEventPopup(e),document.body.classList.add("page_event-popup"),this.setState({hidden:!1})},n.action=function(){Object(ht.f)("event_popup","1",ii)},n.hide=function(){Oe.d.clickEventPopupClose(se()({},this.props.counter,{target:"button"})),this.hidePopup()},n.cross=function(){Oe.d.clickEventPopupClose(se()({},this.props.counter,{target:"cross"})),this.hidePopup()},n.hidePopup=function(){var e=this;this.setState({hideAnimation:!0}),Object(ht.f)("event_popup","1",fe.M),setTimeout((function(){e.setState({hidden:!0,hideAnimation:!1}),document.body.classList.remove("page_event-popup")}),600)},n.onClick=function(e){e.stopPropagation()},n.render=function(){var e=this.props;return e.isForbidden,e.isEnabled,e.url,e.counter,null},t}(er.PureComponent),C()(ni.prototype,"show",[Zr],Object.getOwnPropertyDescriptor(ni.prototype,"show"),ni.prototype),C()(ni.prototype,"action",[Qr],Object.getOwnPropertyDescriptor(ni.prototype,"action"),ni.prototype),C()(ni.prototype,"hide",[$r],Object.getOwnPropertyDescriptor(ni.prototype,"hide"),ni.prototype),C()(ni.prototype,"cross",[ei],Object.getOwnPropertyDescriptor(ni.prototype,"cross"),ni.prototype),C()(ni.prototype,"hidePopup",[ti],Object.getOwnPropertyDescriptor(ni.prototype,"hidePopup"),ni.prototype),ni),oi=Object(tr.b)((function(e){return{isForbidden:Jr(e),isEnabled:Xr(e.env,e.event.route),url:"https://alice.yandex.ru/?utm_source=collections"}}))(ai);function si(e,t){var n=t.data.view;if(n){var r=n.getEnv().eventName;return Object(he.isArray)(e)&&-1!==e.indexOf(r)||r===e}}var ci,ui,li=n("3oL/"),di=n("OYDH"),hi=n("2nUw"),fi=(ci=Object(et.a)(),ui=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).isDestroyed=!1,t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isEnabled&&li.a.pushCallback(this.renderPopup,{isLoggerEnabled:this.props.isAdvLoggerEnabled})},n.componentWillUnmount=function(){this.isDestroyed=!0},n.renderPopup=function(){var e=this.props,t=e.cspNonce,n=e.reqId,r=e.isAdvLoggerEnabled;this.isDestroyed||li.a.render({blockId:"Y-A-287824-1",renderTo:"bk-popup-container",format:"popup",cspNonce:t,extParams:"&reqid="+n},{isLoggerEnabled:r})},n.render=function(){return this.props.hidePopup?null:er.createElement("div",{id:"bk-popup-container"})},t}(er.PureComponent),C()(ui.prototype,"renderPopup",[ci],Object.getOwnPropertyDescriptor(ui.prototype,"renderPopup"),ui.prototype),ui),pi=Object(tr.a)((function(e){return{isEnabled:!Xr(e.env,e.event.route),isAdvLoggerEnabled:Boolean(Object(Ze.a)(e,ye.d.COLLECTIONS_ADV_LOGGING)),hidePopup:Object(vn.a)(e).hidePopup,cspNonce:Object(di.a)(e),reqId:Object(hi.a)(e)}}))(fi),bi=n("ua1k"),mi=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n("script","",{},[e.script])])},vi="";function gi(e){return mi.call(e.data.view,{script:vi})}var Oi="";function _i(e){return mi.call(e.data.view,{script:Oi})}var yi=function(e){var t;return(this&&this.isRestored?zn.fr:zn.f)([(t={hash:{},data:{view:this}},mi.call(t.data.view,{script:"",id:fe.Z}))," ",gi({hash:{},data:{view:this}})," ",fe.w?[_i.call(e,{hash:{},data:{view:this}})]:[]])},Ci=function(e){var t=this;return(t&&t.isRestored?zn.fr:zn.f)([e._?[n("y17c")," ",n("BlF0")," ",n("tkrc")," ",n("CsAx")," ",n("+FZN")," ",n("zuUS")," ",n("LnVt")]:[],function(e){var n,r=this&&this.isRestored,i=r?zn.ar:zn.a,a=r?zn.er:zn.e;return[i(Zn,{},this)," ",Qn.a.call(e,"content",{hash:{},data:{view:this}})," ",i($n.a,{},this)," ",Object(zr.react)(Object(zr.renderView)(Wr,{},this),this)," ",Object(zr.react)(Object(zr.renderView)(oi,{},this),this),si("addFlow",{data:{view:this}})||si("addFlowApp",{data:{view:this}})||si("addFlowBro",{data:{view:this}})||si("embed",{data:{view:this}})||si("plugin",{data:{view:this}})||si("share",{data:{view:this}})||si("retpath",{data:{view:this}})||si("verificationByNumber",{data:{view:this}})?[]:[Object(zr.react)(Object(zr.renderView)(pi,{},this),this)],Qn.a.call(e,"alerts",{hash:{},data:{view:this}})," ",Object(zr.react)(Object(zr.renderView)(bi.a,{},this),this)," ",(n={hash:{},data:{view:this}},mi.call(n.data.view,{script:""})),a("script","",{id:"restoreData",type:"application/json"},[]),yi.call(this,{router:t.options.router})]}.call(t,e)])},Ei=n("00BG"),ji=(n("Aipb"),function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var t=this;e.prototype.initialize.call(this),this.listenTo(this.options.baseState,"change:overflow",this.onRefreshOverflow);var n=this.options.redux.subscribe((function(){return t.onRefreshSidebar()}));this.on("destroy",n)},n.onRender=function(){e.prototype.onRender.call(this),this.onRefreshSidebar()},n.onRefreshOverflow=function(){if(this.isIntact()){var e=this.options.baseState.isOverflow();this.body.toggleClass("page_sf",e)}},n.onRefreshSidebar=function(){if(this.isIntact()){var e=Boolean(Object(Ei.a)(this.options.redux.getState()));this.body.toggleClass("page_sidebar",e)}},n.serializeData=function(){var t=this.options.event.name;return se()({},e.prototype.serializeData.call(this),{isEmbed:"embed"===t,isOverflow:this.options.baseState.isOverflow(),isAddFlow:t===g.a.ADD_FLOW})},st()(t,[{key:"alertsClass",get:function(){return Xn}},{key:"alertsOptions",get:function(){return{notificationCenter:this.options.notificationCenter,env:this.options.env}}}]),t}(Fn));Object(v.a)({template:r,behaviors:{WindowEvents:{behaviorClass:Jn}}})(ji);var Si=n("Wrnh"),wi=n("u9cf"),ki=n("xfRZ"),Ii="page-loading_state_visible",Ti=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options.baseState;this.listenTo(e,{"loading:start":this.onLoadingStart,"loading:end":this.onLoadingEnd,"loading:cancel":this.onLoadingEnd})},n.onLoadingStart=function(){this.$el.removeClass("page-loading_state_hidden").addClass(Ii)},n.onLoadingEnd=function(){this.$el.removeClass(Ii).addClass("page-loading_state_hidden")},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([n.d("page-loading__wrap",{},[n.d("page-loading__wrap__i",{},[n.d("page-loading__spinner",{},[r(ki.a,{size:"L"},this)])," ",n("h4","page-loading__title",{},["Your personal feed will be ready soon"])," ",n("p","page-loading__desc",{},["Just a second..."])])])])},className:"page-loading "+Ii})(Ti);var Ri=n("ft62"),Li=n("WSI5"),xi=[g.a.MAIN,g.a.PROFILE,g.a.MY_PROFILE,g.a.PROFILE_FEED,g.a.GEO_BOARD,g.a.GEO_CHANNEL,g.a.UNDERSIDE,g.a.CARDS,g.a.FOLLOWERS,g.a.FOLLOWINGS_CHANNELS,g.a.COMPANIES,g.a.FOLLOWINGS_BOARDS,g.a.FOLLOWINGS_USERS,g.a.BOARD,g.a.BOARD_FOLLOWERS,g.a.CHANNEL,g.a.FAVORITES_TYPE,g.a.DAILY_PHOTO,g.a.CONTEST,g.a.SEARCH_BOARDS,g.a.OFFLINE,g.a.STATISTICS,g.a.BOARD_SIMILAR,g.a.EDITORS_CHOICE],Di=n("YNvW"),Ni=n("3DhA"),Ai=n("CUhL"),Pi=n("Eo2z");n("m0oI");var Bi=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.getCollectionsLogo=function(){return er.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"118.94",height:"45.6"},er.createElement("path",{d:"M8.85 8.55c-4.71 0-7.52 5.43-7.52 13.98s2.7 13.95 7.49 13.95a6.4 6.4 0 0 0 4.59-1.86l-.57-1.45a5.37 5.37 0 0 1-3.99 1.75c-3.72 0-5.62-4.9-5.62-12.5 0-7.56 2.05-12.31 5.62-12.31 1.6 0 2.85.91 3.69 2.13l.49-1.87a5.4 5.4 0 0 0-4.18-1.82zm11.78 27.93c3.31 0 5.86-3.72 5.86-10.07 0-6.57-2.55-9.84-5.86-9.84-3.3 0-5.85 3.68-5.85 10.07 0 6.53 2.55 9.84 5.85 9.84zm0-1.44c-2.24 0-4.06-2.55-4.06-8.52 0-5.81 1.82-8.47 4.06-8.47 2.25 0 4.07 2.47 4.07 8.47 0 5.78-1.82 8.52-4.07 8.52zm9.16-26.11V36.1h1.79V8.93zm6.12 0V36.1h1.79V8.93zm6.84 17.9h8.66c.61-6.8-1.52-10.26-4.82-10.26-3.23 0-5.59 3.68-5.59 9.95s1.86 9.96 5.93 9.96c3.04 0 4.48-2.17 4.48-2.17l-.57-1.44s-1.33 2.05-3.87 2.05c-2.78 0-4.14-2.85-4.22-8.09zm3.84-8.78c1.94 0 3.46 2.28 3.15 7.37h-6.95c.15-4.79 1.78-7.37 3.8-7.37zm13.56 16.87c-2.96 0-4.29-3.11-4.29-8.36 0-5.39 1.37-8.47 4.29-8.47 1.64 0 2.85.99 3.69 2.16l.49-1.9a5.16 5.16 0 0 0-4.18-1.78c-3.91 0-6.08 3.68-6.08 9.99 0 6.23 2.21 9.92 6.05 9.92 3 0 4.4-2.13 4.4-2.13l-.57-1.48s-1.33 2.05-3.8 2.05zm13.11.95l-.38-1.33c-.22.12-.6.27-1.17.27-1.14 0-1.75-.84-1.75-2.74V18.35h3.27v-1.4h-3.27v-3.8h-1.6l-.19 3.8h-1.94v1.4h1.94v13.91c0 2.36 1.07 4.03 3.35 4.03.79 0 1.33-.19 1.74-.42zm3.88-22.68c.65 0 1.22-.54 1.22-1.22 0-.65-.57-1.25-1.22-1.25-.68 0-1.22.6-1.22 1.25 0 .68.54 1.22 1.22 1.22zm-.91 3.76V36.1h1.78V16.95zm10.9 19.53c3.31 0 5.86-3.72 5.86-10.07 0-6.57-2.55-9.84-5.86-9.84-3.3 0-5.85 3.68-5.85 10.07 0 6.53 2.55 9.84 5.85 9.84zm0-1.44c-2.24 0-4.06-2.55-4.06-8.52 0-5.81 1.82-8.47 4.06-8.47 2.25 0 4.07 2.47 4.07 8.47 0 5.78-1.82 8.52-4.07 8.52zm15.2-16.95c1.75 0 2.59 1.06 2.59 3.34V36.1h1.78V21.2c0-3.04-1.48-4.63-4.02-4.63-2.59 0-4.11 2.13-4.64 3.53h-.08l-.07-3.15h-1.64V36.1h1.79V22.12c.95-2.44 2.39-4.03 4.29-4.03zm11.02 18.39a4.54 4.54 0 0 0 4.68-4.79c0-5.36-6.65-6.95-6.65-11.09 0-1.68 1.25-2.59 2.66-2.59 1.33 0 2.28.5 3.11 1.41l.5-1.64a5.68 5.68 0 0 0-3.69-1.21c-2.09 0-4.18 1.37-4.18 4.25 0 4.87 6.58 6.73 6.58 11.1 0 1.63-1.14 3.12-3.04 3.12a4.9 4.9 0 0 1-3.65-1.45l-.38 1.56a5.96 5.96 0 0 0 4.06 1.33z"}))},n.render=function(){var e="https://yandex."+this.props.tld;return er.createElement("div",{className:Object(Yn.a)("serp-header__logo",{size:"m",collections:!0})},er.createElement("a",{className:Object(Yn.a)("logo",{name:"ys-en-87x35",size:"m"}),href:e}),er.createElement("a",{className:"cl-logo-collections",href:e+"/collections/bro/"},this.getCollectionsLogo()))},t}(er.PureComponent),Mi=Object(tr.a)((function(e){return{tld:Object(Pi.a)(e)}}))(Bi);function Ui(e){return!!e&&Rn.includes(Object(Li.a)(e))}function Fi(e){return Object(tt.a)(e).region}n("2shX");var Vi=n("MTjZ"),Hi=n("nt9X");function Wi(e){return Object(Hi.a)(e)===fe.N}function zi(e){var t=e.search;if(!t)return{};var n=Object(nn.a)(t,!0);return{exp_flags:n.exp_flags,exp_confs:n.exp_confs,"test-id":n["test-id"],"no-tests":n["no-tests"]}}var Ki,Yi=n("4MLz"),qi=Object(nt.a)((function(e,t){return Object(Nr.a)(e,{searchBoards:{loading:Boolean(t)}})})),Gi=function(e,t){return e[e[t="SEARCH"]="search"]=t,e[e[t="COLLECTIONS_CARDS"]="collections_cards"]=t,e[e[t="COLLECTIONS_USERCARDS"]="collections_usercards"]=t,e[e[t="COLLECTIONS_BOARDS"]="collections_boards"]=t,e[e[t="COLLECTIONS_USERBOARDS"]="collections_userboards"]=t,e[e[t="COLLECTIONS_USERS"]="collections_users"]=t,e[e[t="COLLECTIONS_CHANNELS"]="collections_channels"]=t,e}({}),Xi=n("kxMj"),Ji=((Ki={})[Gi.SEARCH]={itemHeight:32,available:!0,rich:!1,title:"",order:0},Ki[Gi.COLLECTIONS_USERCARDS]={itemHeight:56,available:!1,rich:!0,title:Xi.myCards(),order:1,route:g.a.CARD},Ki[Gi.COLLECTIONS_BOARDS]={itemHeight:56,available:!0,rich:!0,title:Xi.boards(),order:3,route:g.a.BOARD},Ki[Gi.COLLECTIONS_CHANNELS]={itemHeight:162,available:!1,rich:!0,title:Xi.channels(),order:99},Ki[Gi.COLLECTIONS_USERS]={itemHeight:56,available:!0,rich:!0,title:Xi.authors(),order:4,route:g.a.PROFILE},Ki[Gi.COLLECTIONS_CARDS]={itemHeight:56,available:!1,rich:!0,title:Xi.cards(),order:99,route:g.a.CARD},Ki[Gi.COLLECTIONS_USERBOARDS]={itemHeight:56,available:!1,rich:!0,title:"",order:2,route:g.a.BOARD},Ki);function Zi(){return Object.keys(Ji).filter($i).sort((function(e,t){return Ji[e].order-Ji[t].order}))}function Qi(e){return!!Ji[e]&&Ji[e].rich}function $i(e){return!!Ji[e]&&Ji[e].available}function ea(e){return Ji[e]?Ji[e].itemHeight:0}function ta(e){return"owner"in e&&"slug"in e&&"title"in e}function na(e){return"display_name"in e&&"login"in e}function ra(e){return"board_title"in e&&"card_id"in e&&"description"in e}var ia={bt:"board_title",pd:"preview_data",ci:"card_id",ds:"description",st:"source_type",src:"source",u:"url",d:"domain",t:"title",zm:"zoom",nlm:"need_local_map",crd:"coords",gi:function(e,t){var n=e.gi,r={};return Object.keys(n).forEach((function(e){var t=ia[e]||e,i=n[e];"crd"===e&&i&&i.la&&i.lo&&(i={latitude:i.la,longitude:i.lo}),r[t]=i})),t.geo_info=r,t},ap:function(e,t){var n=e.ap.split("/");return t.preview_data={},t.preview_data.group_id=n[0]||"",t.preview_data.avatars_key=n[1]||"",t},sub:function(e,t){var n={m:"is_market",r:"is_recipe",g:"is_geo"}[e.sub];return n&&(t[n]=!0),t}},aa=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c,u,l,d,h,f;return de.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return n=e.text,r=e.suggest,i=e.eventSource,a=t.getState,o=t.di,s=t.dispatch,c=a(),u=zi(c.event),p.next=6,de.a.awrap(o("RouterState"));case 6:if(l=p.sent,!r){p.next=19;break}if("nav"!==r.type){p.next=11;break}return Object(fn.a)(r.params.url),p.abrupt("return");case 11:if(d=r.richData,!Qi(r.group)||r.extraItem){p.next=19;break}if("key"===i){p.next=15;break}return p.abrupt("return");case 15:if(b=r.group,h=Ji[b]?Ji[b].route:"",f="routeOptions"in d&&d.routeOptions,!h||!f){p.next=19;break}return p.abrupt("return",l.navigate(h,se()({},u,{},f)));case 19:Wi(Object(Vi.a)(c))||Ui(c)?location.href=Object(g.x)(se()({},u,{text:n,ncrnd:Object(Yi.a)()})):(s(qi(!0)),l.navigate(g.a.SEARCH_BOARDS,se()({},u,{text:n})).then((function(){s(qi(!1))})).catch((function(e){console.error(e),s(qi(!1))})));case 21:case"end":return p.stop()}var b}))})),oa=n("3tUY"),sa=n("jgrJ"),ca=n("9yiq"),ua=function(e){var t;function n(){return t||(t=e()),t.catch((function(e){console.error(new Error("Error during prefetch: "+e)),t=void 0})),t}return setTimeout(n,5e3),n}((function(){return n.e(51).then(n.bind(null,"1A4K"))})),la=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c;return de.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.counter,r=t.dispatch,i=t.getState,Oe.d.clickSearchMic(n),u.next=5,de.a.awrap(ua());case 5:return a=u.sent,o=a.SideblockMic,u.next=9,de.a.awrap(r(Object(sa.a)(er.createElement(o))));case 9:if(!(s=u.sent)){u.next=26;break}if(c={text:s,source:"collections",query_source:"voice"},Oe.d.clickSearch(se()({query:s,type:"mic"},n)),!Ui(i())){u.next=19;break}Object(fn.a)("/images/search?"+Object(ca.a)(c)),u.next=26;break;case 19:return u.prev=19,r(qi(!0)),u.next=23,de.a.awrap(r(Object(oa.a)({url:Object(g.B)({text:s}),replace:!0})));case 23:return u.prev=23,r(qi(!1)),u.finish(23);case 26:return u.abrupt("return",s);case 27:case"end":return u.stop()}}),null,null,[[19,,23,26]])})),da=n("Ot8I"),ha=n("51KI"),fa=n("ZMRC"),pa=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(ut()(n)),n.onMouseOut=n.onMouseOut.bind(ut()(n)),n.onMouseOver=n.onMouseOver.bind(ut()(n)),n}m()(t,e);var n=t.prototype;return n.onClick=function(e){e.stopPropagation(),this.props.onClick(this.props.item)},n.onMouseOver=function(){this.props.onMouseOver(this.props.item)},n.onMouseOut=function(){this.props.onMouseOut(this.props.item)},n.render=function(){var e=this.props,t=e.current,n=e.interact,r=e.rich;return er.createElement("li",{className:Object(Yn.a)("suggest2-item",{selected:t&&"yes",rich:r,interact:n}),onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},this.props.children)},t}(er.Component),ba=function(e){var t=e.item,n=e.className,r=t.parts.map((function(e,n){return e.hl?er.createElement("b",{key:t.value+n},e.value):e.value}));return er.createElement("span",{className:n||"suggest2-item__text"},r)},ma=function(e){return er.createElement(pa,e,er.createElement(ba,{item:e.item}))},va=n("6muZ");function ga(e){if(e){var t=e.geo_info;if(t&&t.coords){var n=t.coords;if("latitude"in n&&"longitude"in n)return n}}}function Oa(e,t,n,r){var i=[e,t].join(",");return"/maps/?"+Object(ca.a)({ll:i,"whatshere[point]":i,z:r,mode:"route",text:n})}var _a=n("6/ZC"),ya=n("YQQ1"),Ca=n("m7Ew"),Ea=function(e,t){return e[e[t="GEO"]="geo"]=t,e[e[t="LINK"]="link"]=t,e[e[t="MARKET"]="market"]=t,e}({}),ja=function(e){var t=e.item.richData;if(!ra(t))return null;var n,r=t.board_title,i=t.preview_data,a=t.card_id,o=t.source_type,s=t.geo_info,c=t.title,u=t.url,l=t.domain,d=t.is_geo,h=t.is_market,f=[],p="",b="";if(u&&o!==X.a.VIDEO&&(b=u),d&&s){var m=ga(t);if(m){var v=Oa(m.longitude,m.latitude,c,s&&s.zoom);b=location.origin+v}}i&&(n="url("+Object(da.b)(i,{size:"smart130"})+")"),Object(_a.a)(o)||Boolean(d)?p=Ea.GEO:Boolean(h)?p=Ea.MARKET:u&&o!==X.a.VIDEO&&(p=Ea.LINK),l&&f.push(l),f.push(r);var g=er.createElement(Sa,{thumb:{type:"card",video:o===X.a.VIDEO},thumbImage:n,item:e.item,itemTextType:p,info:f});return er.createElement(pa,e,b?er.createElement(Ca.a,{href:b,className:"suggest2-item__link"},g):er.createElement(ya.a,{className:"suggest2-item__link",cardId:a},g))},Sa=function(e){var t=e.thumb,n=e.thumbImage,r=e.item,i=e.itemTextType,a=e.info,o=r.richData,s=t.type,c=t.video,u=t.verified;return o?er.createElement("div",{className:"suggest2-item__wrapper"},"user"===s?er.createElement(va.a,{mod:"suggest",isVerified:u,avatarUrl:n}):er.createElement("div",{className:Object(Yn.a)("suggest2-item__thumb",{type:s,video:c}),style:{backgroundImage:n}}),er.createElement("div",{className:"suggest2-item__title"},er.createElement(ba,{item:r,className:Object(Yn.a)("suggest2-item__text",{"type-geo":i===Ea.GEO,"type-market":i===Ea.MARKET,"type-link":i===Ea.LINK})})),er.createElement("div",{className:"suggest2-item__info"},er.createElement("ul",{className:Object(Yn.a)("dot-list",{size:"M",fixed:!0})},a.map((function(e,t){return er.createElement("li",{key:t,className:"dot-list__item"},e)}))))):null},wa=n("45c2"),ka=function(e){var t=e.item.richData;if(e.item.extraItem)return er.createElement(ma,e);if(!ta(t))return null;var n,r=t.owner,i=t.slug,a=t.stat,o=t.preview_data,s=t.display_name,c=t.is_verified,u=(a||{}).cards_count,l=void 0===u?0:u,d=er.createElement(ha.a,{mod:"suggest",color:"grey",verified:Boolean(c),verifiedSize:"S",insertHref:!1},er.createElement(fa.a,{displayName:s||r}));return o&&(n="url("+Object(da.b)(o,{size:"smart130"})+")"),er.createElement(pa,e,er.createElement("a",{className:"suggest2-item__link",href:Object(g.f)(r,i)},er.createElement(Sa,{thumb:{type:"card"},item:e.item,thumbImage:n,info:[d,wa.cards({count:l})]})))};function Ia(e){var t=e.item.params||{},n=t.url,r=t.title,i=t.domain;return er.createElement(pa,se()({},e,{interact:"link"}),er.createElement("a",{className:"suggest2-item__link",href:n},er.createElement("span",{className:"suggest2-item__text suggest2-item__text_type_url"},i),er.createElement("span",{className:"suggest2-item__icon suggest2-item__icon_size_s",style:{backgroundImage:"url(//favicon.yandex.net/favicon/"+encodeURIComponent(i)+")"}}),er.createElement("span",{className:"suggest2-item__fact"},er.createElement("span",{className:"suggest2__a11y"},"Быстрый ответ: "),r)))}var Ta,Ra,La=n("tWT4"),xa=Object(tr.b)()((function(e){var t=e.item.richData;if(!na(t))return null;var n,r=t.login,i=t.stats,a=t.default_avatar_id,o=t.is_verified,s=i||{},c=s.subscribers,u=void 0===c?0:c,l=s.boards,d=void 0===l?0:l,h=[];return a&&(n=Object(La.a)({login:"",default_avatar_id:a},{size:"islands-retina-middle"})),0!==r.indexOf("uid-")&&h.push(r),h.push(wa.boards({count:d})),h.push(wa.followers({count:u})),er.createElement(pa,e,er.createElement("a",{href:Object(g.L)(r),className:"suggest2-item__link","data-c":Oe.c.clickUser(se()({},e.counter,{userLogin:r}))},er.createElement(Sa,{thumb:{type:"user",verified:Boolean(o)},item:e.item,thumbImage:n,info:h})))})),Da=(Ta=Object(et.a)(),Ra=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.groupId,n=e.items,r=function(e){return Ji[e]?Ji[e].title:""}(t);return er.createElement("div",{className:"suggest2__group"},er.createElement("div",{className:"suggest2__title"},r),er.createElement("ul",{className:"suggest2__items"},n.map(this.renderItem)))},n.renderItem=function(e,t){var n;return n=e.group===Gi.COLLECTIONS_BOARDS||e.group===Gi.COLLECTIONS_USERBOARDS?ka:e.group===Gi.COLLECTIONS_USERS?xa:e.group===Gi.COLLECTIONS_USERCARDS?ja:"nav"===e.type?Ia:ma,er.createElement(n,{key:e.group+"/"+t,item:e,current:e===this.props.currentItem,rich:Qi(e.group)&&!e.extraItem,onClick:this.props.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})},t}(er.Component),C()(Ra.prototype,"renderItem",[Ta],Object.getOwnPropertyDescriptor(Ra.prototype,"renderItem"),Ra.prototype),Ra),Na=n("faye"),Aa=n("PdxS");function Pa(e){var t=e.search,n=e.onSearchClick,r=e.onClearClick,i=e.controlAttrs,a=e.text,o=e.placeholder,s=e.inputRef,c=e.onChange;return er.createElement(Aa.a,{name:"text",theme:"websearch",text:a,placeholder:o,hasClear:!0,onChange:c,onClearClick:r,controlAttrs:i,ref:function(e){var t=Object(Na.findDOMNode)(e);if(t instanceof Element){var n=t.querySelector("input");n&&s(n)}}},t&&er.createElement("span",{className:"icon icon_type_search textinput__search",onClick:n}))}n("7XjT"),n("Rawj"),n("njW+"),n("Kn0t"),n("huaS"),n("/n5A"),n("CuRG"),n("9Unk"),n("KeyX"),n("7eKX"),n("4ONn");var Ba=function(e,t){return e[e[t="IMAGES"]="i"]=t,e[e[t="COLLECTIONS"]="c"]=t,e[e[t="DESKTOP"]="d"]=t,e[e[t="MOBILE"]="m"]=t,e}({}),Ma=0,Ua=0,Fa=0,Va=n("1cBT"),Ha=(n("yuhE"),n("PEpF")),Wa=Object(Ha.decl)({block:"search2",attrs:function(e){var t=e.onSubmit;return t?se()({},this.__base.apply(this,arguments),{onSubmit:t}):this.__base.apply(this,arguments)}}).applyDecls();n("7JOP"),n("pYLe"),n("69ui"),n("chbK"),n("VyVI"),n("P78b"),n("MYNd"),n("bJRr"),n("evAK"),n("9lrD"),n("LMMa"),n("oYmp"),n("qaz/"),n("6PFK"),n("Dlre");var za=function(e){function t(t){var n=e.call(this,t)||this,r=(t.items,t.text||""),i=document.querySelector(".search2 input");if(i){var a=i.value;r!==a&&setTimeout((function(){n.onChangeText(a)}))}return n.state={text:r,items:[],visible:!1,current:null},n.setSuggestAvailable(t),n.search=n.search.bind(ut()(n)),n.onChangeText=n.onChangeText.bind(ut()(n)),n.onItemClick=n.onItemClick.bind(ut()(n)),n.onSelectOut=n.onSelectOut.bind(ut()(n)),n.selectItem=n.selectItem.bind(ut()(n)),n.onInputFocus=n.onInputFocus.bind(ut()(n)),n.onInputBlur=n.onInputBlur.bind(ut()(n)),n.onPopupClick=n.onPopupClick.bind(ut()(n)),n.onKeyDown=n.onKeyDown.bind(ut()(n)),n.onVoiceClick=n.onVoiceClick.bind(ut()(n)),n.onCbirClick=n.onCbirClick.bind(ut()(n)),n.onSearch=n.onSearch.bind(ut()(n)),n.onClearClick=n.onClearClick.bind(ut()(n)),n}m()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){this.setSuggestAvailable(this.props)},n.setSuggestAvailable=function(e){e.richSuggestMyCardsExp&&(Ji[Gi.COLLECTIONS_USERCARDS].available=!0),e.richSuggestMyBoardsExp&&(Ji[Gi.COLLECTIONS_USERBOARDS].available=!0)},n.requestData=function(e,t){var n=this;if(void 0===e&&(e=this.state.text),void 0===t&&(t=!1),this._currentQuery!==e){var r=this.props,i=r.suggestCustomUrl,a=r.suggestMaxItems,o=r.richSuggestExp,s=r.regionId;if(this._currentQuery=e,e&&!t){var c={suggestCustomUrl:i,suggestMaxItems:a,richSuggestExp:o,prevQuery:this.props.text,regionId:s};!function e(t,n,r){var i=++Ma,a="suggest_"+(n.richSuggestExp?Ba.COLLECTIONS:Ba.IMAGES)+Ba.DESKTOP+i,o=document.cookie.match("yandexuid=([0-9]+)"),s=n.richSuggestExp?n.suggestCustomUrl:"/suggest-images/suggest-ya.cgi",c=n.prevQuery||"",u={callback:a,uil:"ru",hl:"1",v:"4",n:"10",part:t,"prev-query":c,srv:n.richSuggestExp?"collections":"images_ru",yu:o&&o[1],lr:n.regionId||213,_:Date.now()};function l(){window[a]=null,document.body.removeChild(d)}n.richSuggestExp||Object.assign(u,{portal:"1",fact:"1",icon:"1",wiz:"TrWth",svg:"1"}),n.suggestMaxItems&&(u.n=n.suggestMaxItems),s+="?"+Object.keys(u).reduce((function(e,t){return e.push(t+"="+encodeURIComponent(u[t])),e}),[]).join("&"),window[a]=function(e){try{i>Ua&&(Ua=i,r(function(e,t){var n=[];if(!e||e.length<2)return n;var r,i,a={},o=!1!==t.addBoardExtraItem;t.richSuggestExp&&(r=function(e,t){var n=0,r=e[1].reduce((function(e,t){if(!t||!Array.isArray(t))return e;t[0],t[1];var r=t[2],i=r.group&&Qi(r.group)?r.group:Gi.SEARCH;return $i(i)?(e[i]=e[i]?e[i]+1:1,n++,e):e}),{}),i=Object.keys(r),a=t.addBoardExtraItem?function(e){return e[Gi.COLLECTIONS_BOARDS]||e[Gi.COLLECTIONS_USERBOARDS]?ea(Gi.SEARCH):0}(r):0,o=function(e){return 0===e.length?0:12*(e.length-1)}(i),s=window.innerHeight-60-100-a-o;if(s<150&&(s=150),i.reduce((function(e,t){return e+r[t]*ea(t)}),0)<=s)return r;for(var c=i.reduce((function(e,t){return e[t]=0,e}),{});n>0;)i.forEach((function(e){if(r[e]){var t=ea(e);s>=t?(s-=t,c[e]++,r[e]--,n--):(n-=r[e],r[e]=0)}}));return c}(e,{addBoardExtraItem:o}),i=o&&Boolean(r[Gi.COLLECTIONS_BOARDS])),e[1].forEach((function(e){if(e&&Array.isArray(e)){e[0],e[1];var n=e[2],i=n.group&&Qi(n.group)?n.group:Gi.SEARCH;if(t.richSuggestExp){if(!r[i])return;r[i]--}var o=function(e){var t,n=e[0],r=e[1],i=e[2],a=Qi(i.group),o=a?i.group:Gi.SEARCH,s=[];if(a){if(null===(t=function(e){var t,n,r=null;try{r=JSON.parse(e)}catch(e){}return r&&(t=r,n={},Object.keys(t).forEach((function(e){var r=ia[e],i=typeof r;r?"string"===i?n[r]=t[e]:"function"===i&&(n=r(t,n)):n[e]=t[e]})),r=n),r}(i["rich-content"])))return null;if(ta(t)){r=t.title;var c=t,u=c.owner,l=c.slug;t.routeOptions={login:u,slug:l}}else if(na(t)){r=t.display_name;var d=t.login;t.routeOptions={login:d}}else if(ra(t)){r=t.description;var h=t.card_id;t.routeOptions={id:h}}}else t={};if("nav"===n){e[0];var f=e[1],p=e[2];return{type:"nav",value:f,params:{domain:e[3],url:e[4],title:p},parts:s,group:o}}if(i&&i.hl){var b=0;return i.hl.forEach((function(e){var t=e[0],n=e[1];t!==b&&s.push({hl:!1,value:r.slice(b,t)}),s.push({hl:!0,value:r.slice(t,n)}),b=n})),b<r.length&&s.push({hl:!1,value:r.slice(b)}),{value:r,parts:s,group:o,richData:t}}return s.push({hl:!1,value:r}),{value:r,parts:s,group:o,richData:t}}(e);o&&(a[i]||(a[i]=[]),a[i].push(o))}}));var s=a[Gi.COLLECTIONS_USERBOARDS];if(s&&s.length){var c=a[Gi.COLLECTIONS_BOARDS]||[];s.forEach((function(e){e.group=Gi.COLLECTIONS_BOARDS})),a[Gi.COLLECTIONS_BOARDS]=s.concat(c),a[Gi.COLLECTIONS_USERBOARDS]=[],i=o}return i&&a[Gi.COLLECTIONS_BOARDS].push({value:e[0],parts:[{hl:!1,value:Xi.allFoundBoards()}],group:Gi.COLLECTIONS_BOARDS,extraItem:!0,richData:{}}),Zi().reduce((function(e,t){return a[t]?e.concat(a[t]):e}),n)}(e,n)))}finally{l(),Fa=0}};var d=document.createElement("script");d.src=s,document.body.appendChild(d),d.onerror=function(){l(),setTimeout((function(){i>Ua&&Fa<3&&(Fa++,e(t,n,r))}),1e3)}}(e,c,(function(t){n.state.text===e&&(n.setState({items:t,current:void 0}),n.shouldHideBanners(t))}))}else this._clearSuggestItems()}},n.search=function(e,t,n){void 0===e&&(e=this.state.text),void 0===t&&(t=!1);var r=this.props.dispatch;this.setState({visible:!1,text:e});var i=this.state,a=i.current,o=i.items,s=!t&&a&&-1!==o.indexOf(a)?a:void 0;this.input&&function(e){if(e)try{var t=e.createTextRange();t.move("character",0),t.select(),e.blur()}catch(t){e.scrollLeft=0}}(this.input),r(aa({text:e,suggest:s,eventSource:n}))},n.onSearch=function(){this.search(this.state.text,!0)},n.onChangeText=function(e){this.changeInputText(e,!1)},n.onItemClick=function(e){Qi(e.group)&&!e.extraItem?(this.hide(),this.onSelectOut(e),this._clearSuggestItems(),this.setState({text:""})):this.search(e.value),this._forceInputBlur()},n.onInputFocus=function(){this.show(),this.requestData()},n.onInputBlur=function(){var e=this;this.timeout=setTimeout((function(){e.input!==document.activeElement&&e.hide()}),100)},n._forceInputBlur=function(){var e=document.activeElement;e&&e.blur()},n.onClearClick=function(){this._clearSuggestItems()},n._clearSuggestItems=function(){this.setState({items:[],current:void 0})},n.onKeyDown=function(e){switch(e.keyCode){case fe.x.ESCAPE:return this.hide();case fe.x.ENTER:return e.preventDefault(),this._forceInputBlur(),this.search(this.state.text,!1,"key");case fe.x.DOWN:return e.preventDefault(),this.nextItem();case fe.x.UP:return e.preventDefault(),this.prevItem()}this.show(),this.state.text!==this._currentQuery&&this.requestData()},n.changeInputText=function(e,t,n){this.state.text!==e&&(this.setState({text:e}),this.requestData(e,n),e&&!t&&this.show())},n.selectItem=function(e,t){if(void 0===t&&(t=!1),t){var n=this.state.text;n=e?e.value:this._currentQuery,this.setState({current:e,text:n})}else this.setState({current:e})},n.nextItem=function(){this._moveItem(1)},n.prevItem=function(){this._moveItem(-1)},n._moveItem=function(e){var t=this.state,n=t.current,r=t.items;if(n){var i=r.indexOf(n),a=i>-1?r[i+e]:void 0;this.selectItem(a,!0)}else{var o=e>0?0:r.length-1;this.selectItem(r[o],!0)}},n.onSelectOut=function(e){this.state.current===e&&this.setState({current:void 0})},n.onPopupClick=function(e){e.preventDefault(),clearTimeout(this.timeout),this.input&&this.input.focus()},n.onVoiceClick=function(){var e;return de.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.hide(),t.prev=1,t.next=4,de.a.awrap(this.props.dispatch(la({counter:this.props.counter})));case 4:(e=t.sent)&&this.setState({text:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),null,this,[[1,8]])},n.onCbirClick=function(){var e=this.props.onCbirClick;e&&e(),this.hide()},n.show=function(){var e=this.state,t=e.visible,n=e.items,r=window;r.DaasPopup&&r.DaasPopup.hide&&r.DaasPopup.hide(),this.shouldHideBanners(n),t||this.setState({visible:!0})},n.hide=function(){this.state.visible&&this.setState({visible:!1})},n.shouldHideBanners=function(e){e&&e.length&&this.props.dispatch(Object(Ce.a)({hidePopup:!0}))},n.componentWillReceiveProps=function(e){e.clear&&this.changeInputText("",!1,!0),this.changeInputText(e.text,!0)},n.groupsFromItems=function(e){var t={};return e.forEach((function(e){t[e.group]||(t[e.group]=[]),t[e.group].push(e)})),t},n.render=function(){var e=this,t=this.state,n=t.text,r=t.items,i=t.visible,a=this.props,o=a.cbir,s=a.voice,c=a.browserFavoritesSearch,u=a.onCbirClick,l=a.isImages?"/images/search/":"/collections/search/boards/",d=Object(Yn.a)("suggest2",{search2:"yes",theme:"large",adaptive:"yes",group:"label",type:"advanced",visible:i&&r.length?"yes":"no","label-pos":"left","browser-search":c&&"en"}),h=this.groupsFromItems(r);return er.createElement(Wa,{size:"m",theme:"websearch",url:l,mix:c?{mods:{"browser-search":!0}}:{mods:{cbir:o,voice:s,"buttons-outside":o&&s?2:o||s?1:void 0}},onSubmit:function(e){return e.preventDefault()}},c?er.createElement(Wa.Input,{input:er.createElement(Pa,{text:n,placeholder:Va.placeholder(),controlAttrs:{autoComplete:"off",onClick:this.onInputFocus,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,autoFocus:!n},search:!0,onSearchClick:this.onSearch,onClearClick:this.onClearClick,onChange:this.onChangeText,inputRef:function(t){return e.input=t}})}):er.createElement(er.Fragment,null,er.createElement("div",{className:"search2__input"},er.createElement("span",{className:"input input_theme_websearch2"},er.createElement("span",{className:"input__box"},n&&er.createElement("span",{className:"input__clear input__clear_visibility_visible",onClick:function(){return e.input.focus(),e.onChangeText(""),e.onClearClick()}}),er.createElement("input",{onClick:this.onInputFocus,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,autoFocus:!n,ref:function(t){return e.input=t},onChange:function(t){return e.onChangeText(t.target.value)},className:"input__control",name:"text",value:n||"",type:"search",maxLength:400,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),s&&er.createElement("span",{className:"icon icon_type_voice input__voice-search",onClick:this.onVoiceClick}),o&&er.createElement("span",{className:"icon icon_type_cbir input__button",style:s?{right:"-204px"}:void 0,onClick:u})))),er.createElement("div",{className:"search2__button"},er.createElement("button",{role:"button",type:"submit",tabIndex:-1,onClick:this.onSearch,className:"websearch-button"},er.createElement("div",{className:"websearch-button__text"},Va.search())))),er.createElement("div",{className:"popup2 "+d,onMouseDown:this.onPopupClick},er.createElement("div",{className:Object(Yn.a)("suggest2__content",{theme:"large"})},Zi().map((function(t){return h[t]?er.createElement(Da,{groupId:t,items:h[t],currentItem:e.state.current,key:t,onClick:e.onItemClick,onMouseOver:e.selectItem,onMouseOut:e.onSelectOut}):null})))))},t}(er.Component),Ka=Object(tr.b)((function(e){var t=Ui(e),n=Wi(Object(Vi.a)(e));return{isImages:t,text:Object(L.a)(e).text,voice:(Object(fr.a)(e),!1),suggestCustomUrl:t?"":Object(Ze.a)(e,ye.d.DESKTOP_SUGGEST_CUSTOM_URL),suggestMaxItems:t?"":Object(Ze.a)(e,ye.d.DESKTOP_SUGGEST_MAX_ITEMS),richSuggestExp:Object(Ze.a)(e,ye.d.DESKTOP_RICH_SUGGEST)&&!t,richSuggestMyCardsExp:Object(Ze.a)(e,ye.d.DESKTOP_RICH_SUGGEST_MY_CARDS)&&!t,richSuggestMyBoardsExp:Object(Ze.a)(e,ye.d.DESKTOP_RICH_SUGGEST_MY_BOARDS)&&!t,clear:![g.a.SEARCH_BOARDS,g.a.SEARCH].includes(e.event.route)&&!n,regionId:Fi(e)}}))(za),qa=n("RouB");function Ga(e){var t=Object(Vi.a)(e);return Boolean(t&&t.plus)}n("g70F"),n("XW6n"),n("XvQW"),n("5Oqs"),n("IvpL"),n("08iN"),n("Fw+B"),n("i8SA"),n("rCtc"),n("31Br"),n("q2WC"),n("TX2p"),n("is+H"),n("nHaW"),n("+6KZ"),n("l11M");var Xa=n("FWBO"),Ja=["ru","uz","kz","ua","by"],Za=Object(tr.a)((function(e){return{tld:Object(Pi.a)(e)}}))((function(e){var t=e.tld;return Ja.includes(t)?er.createElement(Xa.a,{size:"m",iframeUrl:"https://yandex."+t+"/global-notifications/yandex-notifications/stable/iframe/index.ru.html",loaderUrl:"https://yastatic.net/q/global-notifications/iframe-loader/stable/index.min.js",apiHost:"https://cloud-api.yandex."+t+"/images_gnc/",serviceDatabaseId:".pub.notifier@notification_services",domain:t,mix:{mods:{fade:"yes"}}}):null})),Qa=n("EvZm"),$a=n("v0RI"),eo=n("nRiq"),to=n.n(eo);n("oUtV");var no=Object(tr.b)((function(e){var t=Object(L.a)(e),n=Object(I.a)(e)===g.a.MAIN;return{isMainRoute:n,mainNavDisabled:n&&!t.feed&&!t.recent}}))((function(e){var t=e.size,n=e.props,r=e.isMainRoute,i=e.mainNavDisabled;return er.createElement(Qa.a,{mods:{state:!!r&&"check"},className:Object(Yn.a)("cl-header-collections-button"),ei:!0,size:t,type:"clear",iconOnly:!0,iconComponent:er.createElement(to.a,{className:"button__icon cl-header-collections-button__icon"}),props:se()({href:Object(g.y)(),title:$a.collections(),"data-c":Oe.c.clickMain(Oe.f),"data-navigate":"true","data-prevent":i?"true":"false"},n)})})),ro=n("0Boe"),io=n("D5L8"),ao=n("Wk2l"),oo=n("JhOR");function so(e,t,n){var r=encodeURIComponent(Object(ro.a)(location.href,{fromPassport:1}));n.target.href=e+"/registration?origin="+t+"&retpath="+r}function co(e,t,n){var r=encodeURIComponent(Object(ro.a)(location.href,{fromPassport:1}));n.target.href=e+"/auth?origin="+t+"&retpath="+r}n("WW6n"),n("NMX1"),n("sbOD"),n("HKHS"),n("66pU"),n("RpD/"),n("Ex1o"),n("qHNR"),n("mb1k"),n("3P9N"),n("1V7p");var uo=Object(tr.a)((function(e){var t=Object(tt.a)(e);return{passportHost:"https://passport.yandex."+Object(Pi.a)(e),passportOrigin:Ui(e)?"images_head_auth":Object(en.a)(t,tn.a.HEADER),regButton:Object(Ze.a)(e,ye.d.ZALOGIN_REG_BUTTON)}}))((function(e){var t=e.passportHost,n=e.passportOrigin,r=e.hideRegister,i=(e.pseudo,e.regButton);return er.createElement("div",{className:"serp-user serp-user_type_enter header__user"},!r&&(i?er.createElement(oo.a,{mix:{block:"serp-user",elem:"registration-button"},type:"link",url:t+"/registration?origin="+n,onClick:so.bind(null,t,n),size:io.a.MEDIUM,theme:io.b.NORMAL,text:ao.register()}):er.createElement("a",{className:"link serp-user__registration-link",href:t+"/registration?origin="+n,onMouseDown:so.bind(null,t,n)},ao.register())),er.createElement("a",{className:"button2 button2_type_link button2_size_m button2_theme_action button2_view_classic serp-user__login-link",href:t+"/auth?origin="+n,onMouseDown:co.bind(null,t,n)},er.createElement("span",{className:"button2__text"},er.createElement("span",{className:"icon icon_type_user button2__icon"}),ao.login())))})),lo=n("1XU/"),ho=0,fo=1e5;function po(e,t){return fe.w&&window.Ya&&Ya.Collections&&Ya.Collections.test&&Ya.Collections.test.jsonp&&(!Ya.Collections.test.jsonpRegexp||Ya.Collections.test.jsonpRegexp.test(e))?Ya.Collections.test.jsonp(e,t):new Promise((function(n,r){var i="jsonp_callback_"+ho+++"_"+Math.round(fo*Math.random()),a=Object(ca.a)(se()({},t,{callback:i,_:Date.now()})),o=e+function(e){return/\?/.test(e)?"&":"?"}(e)+a,s=document.createElement("script");s.addEventListener("error",r),s.type="text/javascript",s.src=o,window[i]=function(e){delete window[i],document.getElementsByTagName("head")[0].removeChild(s),n(e)},document.getElementsByTagName("head")[0].appendChild(s)}))}var bo=n("5wlt"),mo=n("7JBc"),vo=n("i1uP"),go=n("y6Xm"),Oo=n("IWXk"),_o=Object(vo.a)(Oo.a,Object(go.a)("default_avatar_id"));function yo(e){Object(qa.a)(Object(Vi.a)(e));var t=Ga(e),n=Boolean(Object(Ze.a)(e,ye.d.YAPLUS));return t||n}var Co,Eo,jo,So=n("rDAn"),wo=n("EP4u").a.applyDecls();n("xfF/"),n("rzZh"),n("3q1T"),n("rGqV"),n("Lv6l"),n("WQdv"),n("JabQ"),n("R+73"),n("+NiL"),n("y6vG"),n("qgf5"),n("Zrx2"),n("TEP6"),n("H9Qa"),n("F1++"),n("P/hT"),n("zaWC"),n("wMbD"),n("HrFd"),n("mglR"),n("s9EV"),n("ZZTU"),n("r6kY"),n("RxDk"),n("aM/V"),n("cnza"),n("x4lZ"),n("o74i"),n("wvvm"),n("Fjv2"),n("9qxU"),n("BEwH"),n("6wgn"),n("70gZ");var ko=(Co=Object(et.a)(),Eo=Object(et.a)(),jo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={noAccounts:!1,inbox:0,loading:!1},t.isDestroyed=!1,t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.isAuthorized&&(this.fetchAccounts().catch((function(t){console.error(t),e.setState({noAccounts:!0})})),setTimeout((function(){return e.mailPolling()}),0))},n.componentDidUpdate=function(){},n.componentWillUnmount=function(){this.isDestroyed=!0},n.fetchAccounts=function(){var e,t,n,r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.props,t=e.yandexuid,n=e.tld,t){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,de.a.awrap(po(Object(lo.a)("https://pass.yandex.ru/accounts",n),{yu:t}));case 5:r=i.sent,this.isDestroyed||this.setState({accounts:r.accounts});case 7:case"end":return i.stop()}}),null,this)},n.mailPolling=function(){var e,t,n,r,i=this;return de.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!fe.V){a.next=2;break}return a.abrupt("return");case 2:return e=this.props.tld,a.prev=3,a.next=6,de.a.awrap(fetch(Object(lo.a)("https://mail.yandex.ru/api/v2/collections/counters",e),{credentials:"include"}));case 6:return t=a.sent,a.next=9,de.a.awrap(t.json());case 9:n=a.sent,r=n&&n.counters&&n.counters.unread,this.state.inbox===r||this.isDestroyed||this.setState({inbox:r}),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(3),console.error(a.t0);case 17:return a.prev=17,setTimeout((function(){return i.mailPolling()}),3e4),a.finish(17);case 20:case"end":return a.stop()}}),null,this,[[3,14,17,20]])},n.changeAccount=function(){},n.onAccountChanged=function(){return de.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},n.render=function(){var e,t=this,n=this.props,r=n.user,i=n.yandexuid,a=n.hasHat,o=n.tld,s=n.yaplus,c=this.state,u=c.accounts,l=c.noAccounts,d=c.inbox;if(c.uid,c.loading,!r||!Object(qa.a)(r))return null;var h=!u&&!l,f=u?u.filter((function(t){return t.login!==r.login&&t.uid!==String(r.uid)||(e=t.defaultEmail,!1)})):[];return er.createElement(er.Fragment,null,!1,er.createElement(wo,{uid:String(r.uid),yu:i,plusLinkParams:"?from=collections_menu&utm_campaign=plus&utm_medium=collections_menu&utm_source=yandex&source=collections_menu",hat:a?{fetchUrl:"https://yabs.yandex.ru/page/280743",fetchData:!0}:void 0,retpath:this.props.retpath,passportHost:"https://passport.yandex."+o,name:Object(G.a)(r),subname:e,avatarId:_o(r),unreadCount:d,yaplus:s,contentRegion:o,addAccountHidden:h,hasAccentLetter:!0,fetchAccounts:h,ref:function(e){return t.user2=e}},f.map((function(e){return er.createElement(So.a,{key:e.uid,uid:e.uid,avatarId:e.displayName.default_avatar,name:e.displayName.name,subname:e.defaultEmail||e.social,onClick:null,pic:!0})}))),!1)},t}(er.Component),C()(jo.prototype,"changeAccount",[Co],Object.getOwnPropertyDescriptor(jo.prototype,"changeAccount"),jo.prototype),C()(jo.prototype,"onAccountChanged",[Eo],Object.getOwnPropertyDescriptor(jo.prototype,"onAccountChanged"),jo.prototype),jo),Io=Object(tr.a)((function(e){var t=Object(Nn.a)(e),n=Object(mo.a)(e),r=location.href;n&&(r=t+n);var i=r;return{user:Object(Vi.a)(e),yandexuid:String(Object(bo.a)(e).yandexuid||""),hasHat:Boolean(Object(Ze.a)(e,ye.d.USER_HAT)),origin:r,tld:Object(Pi.a)(e),yaplus:yo(e)?Ga(e):void 0,retpath:Object(ro.a)(i,{fromPassport:1}),isAuthorized:Object(qa.a)(Object(Vi.a)(e))}}))(ko),To=(n("Sn7e"),n("JxX5"),n("xMdT").a.applyDecls());n("blY8"),n("kCrh"),n("WbJ6"),n("DCY2"),n("gBVq"),n("pw5c"),n("CPfi"),n("j7mD"),n("8FRW");var Ro=Object(tr.a)((function(e){return{tld:Object(Pi.a)(e),isAvailable:!Ga(e),isEnabled:yo(e)}}))((function(e){var t=e.tld,n=e.isAvailable;return e.isEnabled?er.createElement(To,{mix:[{block:"yaplus",mods:{text:!0,"old-icon":!0}}],available:n,plusLinkParams:"?from=collections&utm_campaign=plus&utm_medium=collections&utm_source=yandex&source=collections",tld:t}):null}));n("Ktu8");var Lo=Object(tr.a)((function(e){var t=Object(Vi.a)(e);return{available:!Ga(e),isAuthorized:Object(qa.a)(t),isOffline:Wi(t)}}))((function(e){var t=e.available,n=e.isAuthorized,r=e.isOffline;return n?er.createElement(er.Fragment,null,t&&er.createElement(Ro,null),er.createElement(no,{size:"L"}),er.createElement(Za,null),er.createElement("div",{className:"serp-user serp-user_type_menu header__user"},er.createElement(Io,null))):r?null:er.createElement(er.Fragment,null,er.createElement(Ro,null),er.createElement(no,{size:"L"}),er.createElement(uo,null))})),xo=(n("oRvv"),function(){return er.createElement("div",{className:"serp-header serp-header_browser-search"},er.createElement("div",{className:"serp-header__main serp-header__main_browser-search"},er.createElement(Mi,null),er.createElement("div",{className:"serp-header__search2 serp-header__search2_browser-search"},er.createElement(Ka,{browserFavoritesSearch:!0})),er.createElement("div",{className:"serp-header__nav"},er.createElement(Lo,null))))}),Do=n("hDfK"),No=n("wip6"),Ao=n("BZL/"),Po=n("eTvZ"),Bo=n("pgbU"),Mo=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c;return de.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.getState,r=t.di,u.next=3,de.a.awrap(r("router"));case 3:if(i=u.sent,a=i.getUrlMeta(e.url),o=a.event.params.id,a.event.name!==g.a.CARD||!o){u.next=10;break}return s=n(),c=Object(xn.a)(s,o),u.abrupt("return",c&&c.source&&c.source.url);case 10:case"end":return u.stop()}}))})),Uo=function(e,t){return e[e[t="LEFT"]="left"]=t,e[e[t="RIGHT"]="right"]=t,e[e[t="FLIP"]="flip"]=t,e[e[t="UNKNOWN"]="unknown"]=t,e}({});function Fo(e){switch(e){case 3:return Uo.FLIP;case 6:return Uo.RIGHT;case 8:return Uo.LEFT;default:return Uo.UNKNOWN}}function Vo(e){return function(e,t){var n=(void 0===t?{}:t).slice;return new Promise((function(t,r){var i=new FileReader;if(i.onload=function(){return t(i.result)},i.onerror=function(){return r(new Error("Can't read file"))},n){var a=e.slice||e.webkitSlice;i.readAsArrayBuffer(a.call(e,n.from,n.to))}else i.readAsArrayBuffer(e)}))}(e,{slice:{from:0,to:65536}}).then((function(e){var t=new DataView(e);if(65496!==t.getUint16(0,!1))return Uo.UNKNOWN;for(var n=t.byteLength,r=2;r<n;){var i=t.getUint16(r,!1);if(r+=2,65505===i){var a=18761===t.getUint16(r+=8,!1);r+=t.getUint32(r+4,a);var o=t.getUint16(r,a);r+=2;for(var s=0;s<o;s++)if(274===t.getUint16(r+12*s,a))return Fo(t.getUint16(r+12*s+8,a))}else{if(65280!=(65280&i))break;r+=t.getUint16(r,!1)}}return Uo.UNKNOWN}))}var Ho,Wo,zo,Ko,Yo,qo,Go,Xo,Jo=function(){function e(){}var t=e.prototype;return t.resize=function(t,n){var r=this,i=n.width,a=n.height,o=n.quality,s=window.URL||window.webkitURL;if(!s)return t;var c=s.createObjectURL(t),u=Promise.all([Object(Ao.a)(c),Vo(t)]),l=function(){return s.revokeObjectURL(c)};return u.then((function(t){var n=t[0],o=t[1],s=e.getMaxSize(e.getOrientationSize(n,o)),c=e.putImageToCanvas(n,o,s);return r._resizeCanvas(c,{width:i,height:a})})).then((function(e){return r._canvasToBlob(e,t.type,o)})).then((function(e){return l(),e})).catch((function(e){return l(),console.error(e),t}))},t._resizeCanvas=function(e,t){var n=t.width,r=t.height,i=e.width/e.height;return r<n?r=Math.round(n/i):n=Math.round(r*i),this._shouldResizeImage(e,{width:n,height:r})?this._stepResize(e,this._getStepsConfig(e.width,{width:n,height:r})):e},t._getStepsConfig=function(e,t){var n=t.width,r=t.height,i=Math.ceil(Math.log(e/n)/Math.LN2);return{steps:i,currentWidth:n*Math.pow(2,i-1),currentHeight:r*Math.pow(2,i-1),width:n,height:r}},t._stepResize=function(e,t){var n=this,r=t.steps,i=t.width,a=t.height,o=t.currentWidth,s=t.currentHeight;return r&&this._shouldResizeImage(e,{width:i,height:a})?Object(kn.a)(0).then((function(){var t=document.createElement("canvas");return t.width=o,t.height=s,t.getContext("2d").drawImage(e,0,0,o,s),e.width=1,e.height=1,o=Math.round(o/2),s=Math.round(s/2),n._stepResize(t,{width:i,height:a,steps:r-1,currentWidth:o,currentHeight:s})})):e},t._shouldResizeImage=function(e,t){var n=t.width,r=t.height;return e.width>n&&e.height>r},t._canvasToBlob=function(e,t,n){return e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})):this._legacyCanvasToBlob(e,t,n)},t._legacyCanvasToBlob=function(e,t,n){return new Promise((function(r){for(var i=atob(e.toDataURL(t,n).split(",")[1]),a=i.length,o=new Uint8Array(a),s=0;s<a;s++)o[s]=i.charCodeAt(s);r(new Blob([o],{type:t||"image/png"}))}))},e.putImageToCanvas=function(e,t,n){var r=n.width,i=n.height,a=document.createElement("canvas"),o=a.getContext("2d");if(!o)throw new Error("Cannot create canvas");return a.width=r,a.height=i,t===Uo.LEFT?(o.setTransform(0,-1,1,0,0,i),o.drawImage(e,0,0,i,r)):t===Uo.RIGHT?(o.setTransform(0,1,-1,0,r,0),o.drawImage(e,0,0,i,r)):t===Uo.FLIP?(o.setTransform(-1,0,0,-1,r,i),o.drawImage(e,0,0,r,i)):(o.setTransform(1,0,0,1,0,0),o.drawImage(e,0,0,r,i)),a},e.getOrientationSize=function(e,t){var n=e.naturalWidth,r=e.naturalHeight;return t===Uo.LEFT||t===Uo.RIGHT?{width:r,height:n}:{width:n,height:r}},e.getMaxSize=function(e){var t,n,r=e.width,i=e.height,a=r/i;return r*i>5e6&&(r>i?(t=Math.sqrt(5e6*a),r=Math.floor(t),i=Math.floor(5e6/t)):(n=Math.sqrt(5e6/a),r=Math.floor(5e6/n),i=Math.floor(n))),r>4096&&(r=4096,i=Math.round(r/a)),i>4096&&(i=4096,r=Math.round(a*i)),{width:r,height:i}},e}(),Zo=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c,u,l,d,h;return de.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return n=e.file,r=e.type,i=t.di,f.next=4,de.a.awrap(i("request"));case 4:return a=f.sent,o=new Jo,f.next=8,de.a.awrap(o.resize(n,{quality:.7,width:1e3,height:1e3}));case 8:return s=f.sent,(c=new FormData).append("upfile",s),u={rpt:"imageview",format:"json",request:'{"blocks":[{"block":"b-page_type_search-by-image__link"}]}'},l="/images/search?"+Object(ca.a)(u),f.next=15,de.a.awrap(a.post(l,c,{disableBrowserParams:!0}));case 15:if(d=f.sent,h=d&&d.blocks&&d.blocks[0].params.url){f.next=19;break}throw new Error("Cannot upload image. Maybe not image?");case 19:Object(fn.a)("/images/search?"+h+"&"+Object(ca.a)({img_type:r,source:"collections"}));case 21:case"end":return f.stop()}}))})),Qo=Object(zt.a)((function(e){var t,n;return de.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.url,n=e.counter,Oe.d.clickSearch(se()({},n,{url:t})),Object(fn.a)("/images/search?"+Object(ca.a)({source:"collections",rpt:"imageview",url:t}));case 3:case"end":return r.stop()}}))})),$o=n("uYmT"),es=n("4DsO").b.applyDecls(),ts=(n("bfR5"),n("HJ91"),function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.error,n=e.errorReference;return t?er.createElement("div",{className:"cbir-panel"},er.createElement(es,{theme:"normal",visible:!0,hasTail:!0,autoclosable:!0,anchor:n,directions:["bottom-center"],onOutsideClick:function(){},mix:{block:"cbir-error",elem:"panel",mods:{type:"user"}}},er.createElement("div",{className:"popup__content"},er.createElement("div",{className:"cbir-error__mark"},"!"),er.createElement("div",{className:"popup__error-text-wrap"},er.createElement("span",{className:"popup__error-text"},t))))):null},t}(er.Component)),ns=n("uSlG"),rs=function(e){function t(t){var n=e.call(this,t)||this;return n.errorReference=n.errorReference.bind(ut()(n)),n.onChange=n.onChange.bind(ut()(n)),n.onDrop=n.onDrop.bind(ut()(n)),n}m()(t,e);var n=t.prototype;return n.onChange=function(e){!1===this.processFiles(e.target.files)&&(e.target.value="")},n.onDrop=function(e){e.preventDefault(),e.stopPropagation(),this.processFiles(e.dataTransfer.files)},n.errorReference=function(e){if(!e)return this._error;this._error=e},n.render=function(){var e=this.props.error;return er.createElement("form",{className:"cbir-panel__dragzone",onDrop:this.onDrop,ref:this.errorReference},er.createElement("div",{className:"cbir-panel__upload-box"},er.createElement("span",{className:"cbir-panel__dragMessage"},er.createElement("button",{className:"cbir-panel__upload-link"},ns.chooseFile()),er.createElement("span",{className:"cbir-panel__drag-label"},ns.orDragHere()))),er.createElement("input",{className:"cbir-panel__file-input",type:"file",accept:"image/*",name:"upfile",onChange:this.onChange,value:""}),e&&er.createElement(ts,{errorReference:this.errorReference,error:ns.error()}))},n.processFiles=function(e){return e&&e.length>0?this.props.onFileSearch(e[0]):this.props.isIE?this.props.onFileSearch(void 0):void 0},t}(er.Component),is=n("+d4z"),as=(n("lH0S"),n("bhZe"),n("QnEj"),n("cdjy"),n("AoJS"),n("NKea"),n("POJB"),n("jNSB"),n("2a43"),n("AD98"),n("q7Fh"),n("QD+4"),n("/mbe"),n("t22s"),Ho=Object(et.a)(),Wo=Object(et.a)(),zo=Object(et.a)(),Ko=Object(et.a)(),Yo=Object(et.a)(),qo=Object(et.a)(),Go=Object(et.a)(),Xo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={url:"",focused:!0},t}m()(t,e);var n=t.prototype;return n.onChange=function(e){this.setState({url:e.target.value})},n.onKeyDown=function(e){13===e.keyCode&&this.submit(e)},n.onFocus=function(){this.state.focused||this.setState({focused:!0})},n.onBlur=function(){this.state.focused&&this.setState({focused:!1})},n.onClear=function(){this.setState({url:""}),this._input&&this._input.focus()},n.submit=function(e){e.preventDefault(),this.props.onUrlSearch(this.state.url.trim())},n.errorReference=function(e){if(!e)return this._error;this._error=e},n.render=function(){var e=this,t=this.props.error,n=this.state,r=n.url,i=n.focused;return er.createElement("form",{className:"cbir-panel__input",onSubmit:this.submit,ref:this.errorReference},er.createElement("span",{className:Object(Yn.a)("input",{size:"m",autofocus:"yes",theme:"normal",type:"cbir",focused:!!i&&"yes"})},er.createElement("label",{className:"input__hint input__hint_visibility_visible",id:"hintuniq151721871321712645",htmlFor:"uniq151721871321712645","aria-hidden":"true"},is.urlHint()),er.createElement("span",{className:"input__box"},er.createElement("span",{className:Object(Yn.a)("input__clear",{visibility:r?"visible":"hidden"}),onClick:this.onClear}," "),er.createElement("input",{className:"input__control",id:"uniq151721871321712645",name:"cbir-url",placeholder:is.urlHint(),autoComplete:"off","aria-labelledby":"labeluniq151721871321712645 hintuniq151721871321712645",value:r,onChange:this.onChange,onKeyDown:this.onKeyDown,autoFocus:!0,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(t){return e._input=t}}))),er.createElement("button",{type:"submit",name:"cbir-submit",disabled:!r,className:Object(Yn.a)("cbir-button",{size:"m",theme:"normal",side:"right",type:"cbir",disabled:!r&&"yes"},"cbir-panel__search-button")},er.createElement("span",{className:"cbir-button__text"},is.search())),t&&er.createElement(ts,{errorReference:this.errorReference,error:is.error()}))},t}(er.Component),C()(Xo.prototype,"onChange",[Ho],Object.getOwnPropertyDescriptor(Xo.prototype,"onChange"),Xo.prototype),C()(Xo.prototype,"onKeyDown",[Wo],Object.getOwnPropertyDescriptor(Xo.prototype,"onKeyDown"),Xo.prototype),C()(Xo.prototype,"onFocus",[zo],Object.getOwnPropertyDescriptor(Xo.prototype,"onFocus"),Xo.prototype),C()(Xo.prototype,"onBlur",[Ko],Object.getOwnPropertyDescriptor(Xo.prototype,"onBlur"),Xo.prototype),C()(Xo.prototype,"onClear",[Yo],Object.getOwnPropertyDescriptor(Xo.prototype,"onClear"),Xo.prototype),C()(Xo.prototype,"submit",[qo],Object.getOwnPropertyDescriptor(Xo.prototype,"submit"),Xo.prototype),C()(Xo.prototype,"errorReference",[Go],Object.getOwnPropertyDescriptor(Xo.prototype,"errorReference"),Xo.prototype),Xo),os=(n("Rltn"),n("uUW4"),n("xGqp"),n("gjSN"),Object(No.a)()),ss=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!1,urlError:!1,fileError:!1},n.onUrlSearch=n.onUrlSearch.bind(ut()(n)),n.onFileSearch=n.onFileSearch.bind(ut()(n)),n.onDragStart=n.onDragStart.bind(ut()(n)),n.onDragStop=n.onDragStop.bind(ut()(n)),n.onDrop=n.onDrop.bind(ut()(n)),n}m()(t,e);var n=t.prototype;return n.onUrlSearch=function(e){var t=this;this.setState({urlError:!1}),this.handleLoading(this.validateImage(e).then((function(n){if(n)return t.props.dispatch(Qo({url:e}));t.showUrlError()})))},n.validateImage=function(e){return e.match(/^https?:\/\//)?Object(Ao.a)(e).then((function(){return!0}),(function(){return!1})):Promise.reject(new Error('Not supported image url "'+e+'"'))},n.onFileSearch=function(e){if(!e||!(t=e)||!Boolean(t.type.match(/^image\//)||t.type.match(/^text\//)))return this.showFileError(),!1;var t;this.handleLoading(this.props.dispatch(Zo({file:e})))},n.onDragStart=function(e){e.preventDefault(),this.dragInProgress||this.props.disableDrop||(this.autoClose=!this.props.visible,!this.props.visible&&e.dataTransfer&&this.props.onOpen()),clearTimeout(this.autoCloseTimeout),this.dragInProgress=!0},n.onDragStop=function(e){var t=this;e.preventDefault(),clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=setTimeout((function(){t.dragInProgress=!1,t.autoClose&&t.props.onClose()}),100)},n.showFileError=function(){var e=this;this.setState({fileError:!0,urlError:!1}),setTimeout((function(){return e.setState({fileError:!1})}),5e3)},n.showUrlError=function(){var e=this;this.setState({fileError:!1,urlError:!0}),setTimeout((function(){return e.setState({urlError:!1})}),5e3)},n.onDrop=function(e){var n,r,i,a,o,s,c,u;return de.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),n=this.props,r=n.disableDrop,i=n.dispatch,e.dataTransfer&&Object(Bo.a)(e.dataTransfer)){l.next=8;break}return e.stopImmediatePropagation(),e.stopPropagation(),this.showFileError(),l.abrupt("return");case 8:if(r||!e.dataTransfer){l.next=24;break}if(!(a=t.filterFiles(e.dataTransfer.files)).length){l.next=13;break}return this.onFileSearch(a[0]),l.abrupt("return");case 13:if(o=e.dataTransfer.getData("text/html"),!(s=Object(Po.a)(o,{tag:"img",attribute:"src"}))||!s.length){l.next=18;break}return this.onUrlSearch(s[0]),l.abrupt("return");case 18:if(!(c=Object(Po.a)(o,{tag:"a",attribute:"href"})).length){l.next=24;break}return l.next=22,de.a.awrap(i(Mo({url:c[0]})));case 22:(u=l.sent)&&this.onUrlSearch(u);case 24:this.dragInProgress=!1;case 25:case"end":return l.stop()}}),null,this)},n.componentDidMount=function(){document.addEventListener("dragenter",this.onDragStart),document.addEventListener("dragover",this.onDragStart),document.addEventListener("dragleave",this.onDragStop),document.addEventListener("drop",this.onDrop)},n.componentWillUnmount=function(){document.removeEventListener("dragenter",this.onDragStart),document.removeEventListener("dragover",this.onDragStart),document.removeEventListener("dragleave",this.onDragStop),document.removeEventListener("drop",this.onDrop)},n.render=function(){var e=this.state,t=e.loading,n=e.urlError,r=e.fileError,i=this.props,a=i.visible,o=i.isIE;return er.createElement(os,null,er.createElement("div",{className:Object(Yn.a)("cbir-panel",{dragdrop:"yes",visibility:a?"visible":"hidden"})},a&&er.createElement("div",{className:"cbir-panel__table"},er.createElement("div",{className:"cbir-panel__tabs"},er.createElement("div",{className:"cbir-panel__wrap"},er.createElement(rs,{onFileSearch:this.onFileSearch,error:r,isIE:o}),er.createElement(as,{onUrlSearch:this.onUrlSearch,error:n}))),er.createElement("div",{className:"cbir-panel__close",onClick:this.props.onClose},er.createElement("div",{className:"cbir-panel__close-icon"}))),t&&er.createElement($o.a,null)))},n.handleLoading=function(e){var t=this;this.setState({loading:!0}),e.then((function(){t.setState({loading:!1})})).catch((function(e){console.log(e),t.setState({loading:!1})}))},t.filterFiles=function(e){for(var t=[],n=0;n<e.length;n++)e[n].type.match(/^image\//)&&t.push(e[n]);return t},t}(er.Component),cs=Object(tr.a)((function(e){return{isIE:"MSIE"===Object(fr.a)(e).BrowserName}}))(ss),us=n("QHoL"),ls=n("u6vq"),ds=(n("fUHm"),Object(tr.a)()((function(e){var t=e.item,n=e.dispatch;if(!t.groups)return null;var r=function(e,t){!e.href||e.href.match(/^https:/)||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||(t.preventDefault(),n(Object(oa.a)({url:e.href})))};return er.createElement(ls.a,{mix:{block:"cl-header-under-drop",mods:{cur:t.current}},popupMix:{block:"cl-header-under-drop",elem:"popup"},switcherMix:{block:"cl-header-under-drop",elem:"link"},switcher:er.createElement("span",{className:"cl-header-under-drop__label"},t.title)},er.createElement("div",{className:"cl-header-under-drop__menu"},t.groups.map((function(e,t){return er.createElement("div",{className:"cl-header-under-drop__group",key:t},e.map((function(e,t){return er.createElement("a",{className:Object(Yn.a)("cl-header-under-drop__item",{cur:e.current}),href:e.href,target:e.target,"data-navigate":"false",onClick:r.bind(null,e),key:t},e.title)})))}))))}))),hs=(n("igqB"),Object(tr.b)()((function(e){var t,n=e.item,r=(e.index,e.dispatch),i=e.counter;return n.groups?er.createElement(ds,{item:n}):("add"===n.action&&(t=function(e){e.preventDefault(),e.stopPropagation(),r(Object(us.a)({counter:i}))}),er.createElement("a",{className:Object(Yn.a)("cl-header-under-tab",{cur:n.current}),href:n.href,"data-navigate":t?"false":"true",onClick:t},n.title))})));function fs(e){return Boolean(e&&e.length>0)}n("aNhK");var ps=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={hideUnder:!fs(t.props.items),removeUnder:!fs(t.props.items),items:t.props.items},t}m()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.items,n=!fs(t);this.state.hideUnder!==n?n?this.setState({hideUnder:!0}):this.setState({removeUnder:!1,items:t}):t!==this.state.items&&this.setState({items:t})},n.componentDidUpdate=function(){var e=this,t=this.state;t.hideUnder!==t.removeUnder&&setTimeout((function(){fs(e.props.items)?e.setState({hideUnder:!1}):e.setState({removeUnder:!0})}),fs(this.props.items)?0:1e3)},n.render=function(){var e=this.state,t=e.hideUnder,n=e.removeUnder,r=e.items;return n||!r?null:er.createElement("div",{className:Object(Yn.a)("cl-header-under-navigation",{hidden:t})},er.createElement("div",{className:"cl-header-under-navigation__menu"},r.map((function(e,t){return er.createElement(hs,{item:e,key:t,index:t})}))))},t}(er.Component),bs=Object(tr.a)((function(e){var t=e.header;return{items:t&&t.sub}}))(ps),ms=(n("8mpW"),n("H9rQ"),Object(No.a)());function vs(e){var t=e.onClick;return er.createElement(ms,null,er.createElement("div",{className:"paranja paranja_state_open paranja_theme_dark",onClick:t}))}var gs,Os,_s=[g.a.SHARE];n("jXGm"),n("dS1U");var ys,Cs,Es,js,Ss,ws=(gs=Object(et.a)(),Os=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={mounted:!1},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){if(this._header=document.querySelector(".serp-header"),this._moreElement=document.querySelector(".navigation__more"),this._header){this._wrapper=this._header.querySelector(".serp-header-wrap"),this._search2=this._header.querySelector(".serp-header__search2"),this._nav=this._header.querySelector(".serp-header__nav");var e=this._header.querySelector(".search2");e&&e.parentNode&&e.parentNode.removeChild(e)}this.setState({mounted:!0}),this._moreElement&&this._moreElement.addEventListener("click",this.onNavigationMoreClick)},n.componentDidUpdate=function(e){var t=e.text,n=this.props.isHeaderHidden,r=document.querySelector(".serp-header-wrap");r&&(n?r.classList.add("hidden"):r.classList.remove("hidden")),this.setServiceTabQuery(t),this.setActiveTabState()},n.setTargetBlank=function(e,t){var n=e&&e.querySelector(".service__url");n&&(t?n.setAttribute("target","_blank"):n.removeAttribute("target"))},n.setServiceTabQuery=function(e){var t=this.props,n=t.text,r=t.tabsLinks;if(e!==n&&r)for(var i=document.querySelectorAll(".navigation__item .service"),a=0;a<i.length;a++){var o=i[a].className.match(/service_name_([a-z]+)/),s=i[a].querySelector(".service__url"),c=o&&o[1];s&&c&&r[c]&&(s.href=r[c])}},n.setActiveTabState=function(){var e=this.props,t=e.text,n=e.isImagesRoute,r=e.isMainRoute,i=e.isOfflineRoute,a=document.querySelector(".navigation__item_name_images"),o=document.querySelector(".navigation__item_name_collections"),s=i?void 0:n?a:o;if(s){t?(this.setTargetBlank(a,!0),this.setTargetBlank(o)):(this.setTargetBlank(a),this.setTargetBlank(o));var c=document.querySelector(".navigation__item_state_selected");c&&c!==s&&(c.classList.remove("navigation__item_state_current"),c.classList.remove("navigation__item_state_selected")),s.classList.add("navigation__item_state_selected"),n||r?s.classList.add("navigation__item_state_current"):s.classList.remove("navigation__item_state_current")}},n.onNavigationMoreClick=function(){var e=this._moreElement;if(e){var t=e.parentNode;e.removeEventListener("click",this.onNavigationMoreClick),t&&t.removeChild(e)}for(var n=document.querySelectorAll(".navigation__item_extra_hidden"),r=0;r<n.length;r++)n[r].className=n[r].className.replace("navigation__item_extra_hidden","navigation__item_extra_visible")},n.renderRight=function(){var e=this.props.right;if(this._header&&this._nav)return Object(Na.createPortal)(e,this._nav)},n.renderSuggest=function(){var e=this.props.suggest;if(this._header){if(this._search2)return Object(Na.createPortal)(e,this._search2);console.error("PODB-13073:",this._header.innerHTML)}},n.render=function(){return this.state.mounted?er.createElement(er.Fragment,null,this.renderRight(),this.renderSuggest()):null},t}(er.Component),C()(Os.prototype,"onNavigationMoreClick",[gs],Object.getOwnPropertyDescriptor(Os.prototype,"onNavigationMoreClick"),Os.prototype),Os),ks=Object(tr.a)((function(e){var t,n,r=e.header;return{tabsLinks:r&&r.links,text:Object(L.a)(e).text,isHeaderHidden:(t=e,n=Object(Li.a)(t),!!n&&_s.includes(n)),isImagesRoute:Ui(e),isMainRoute:Object(I.a)(e)===g.a.MAIN,isOfflineRoute:Object(I.a)(e)===g.a.OFFLINE}}))(ws),Is=(ys=Object(et.a)(),Cs=Object(et.a)(),Es=Object(et.a)(),js=Object(et.a)(),Ss=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={cbir:!1,mounted:!1},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){document.body.addEventListener("keydown",this.onKeyDown),this.setState({mounted:!0})},n.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.onKeyDown)},n.onKeyDown=function(e){e.keyCode===fe.x.ESCAPE&&this.state.cbir&&this.closeCbir()},n.openCbir=function(){this.hideBKPopup(),this.setState({cbir:!0}),document.body.classList.add("page_cbir")},n.closeCbir=function(){this.setState({cbir:!1}),document.body.classList.remove("page_cbir")},n.hideBKPopup=function(){var e=this.props,t=e.disableCbir,n=e.dispatch;t||n(Object(Ce.a)({hidePopup:!0}))},n.render=function(){var e=this.props,t=e.disableCbir,n=e.disableDrop,r=e.hideHeader,i=this.state,a=i.cbir,o=i.mounted;return t&&(n=!0,a=!1),er.createElement(er.Fragment,null,!1,o&&er.createElement(er.Fragment,null,er.createElement(ks,{suggest:er.createElement(Ka,{cbir:!t,onCbirClick:this.openCbir}),right:er.createElement(Lo,null)}),a&&!r&&er.createElement(vs,{onClick:this.closeCbir}),!r&&er.createElement(cs,{visible:a,onOpen:this.openCbir,onClose:this.closeCbir,disableDrop:n})),er.createElement(bs,null))},t}(er.Component),C()(Ss.prototype,"onKeyDown",[ys],Object.getOwnPropertyDescriptor(Ss.prototype,"onKeyDown"),Ss.prototype),C()(Ss.prototype,"openCbir",[Cs],Object.getOwnPropertyDescriptor(Ss.prototype,"openCbir"),Ss.prototype),C()(Ss.prototype,"closeCbir",[Es],Object.getOwnPropertyDescriptor(Ss.prototype,"closeCbir"),Ss.prototype),C()(Ss.prototype,"hideBKPopup",[js],Object.getOwnPropertyDescriptor(Ss.prototype,"hideBKPopup"),Ss.prototype),Ss),Ts=Object(tr.a)((function(e){var t=!1,n=Object(vn.a)(e);n&&(n.modal&&n.modal.type&&(t=!0),n.layout&&n.layout.sidebarOpen&&(t=!0));var r=!Ui(e);return{hideHeader:Boolean(Object(Do.a)(e)),disableCbir:r,disableDrop:t}}))(Is),Rs=n("A/00"),Ls=n.n(Rs),xs=(n("iXZa"),n("GhlN"));n("M2ME");var Ds=function(e){var t=e.type,n=e.text,r=e.hasClose,i=void 0===r||r,a=Object(er.useState)(!0),o=a[0],s=a[1];return o?er.createElement("div",{className:Object(xs.a)("cl-hint",{type:t})},er.createElement("div",{className:"cl-hint__content"},er.createElement("span",{className:"cl-hint__text"},n)),i&&er.createElement("div",{className:"cl-hint__close"},er.createElement(Qa.a,{ei:!0,type:"clear",size:"L",iconOnly:!0,className:"cl-hint__button",icon:!0,iconComponent:er.createElement(Ls.a,{className:"button__icon",fill:"#fff"}),onClick:function(){s(!1)}}))):er.createElement("style",null,".head__push_hint {height: 0 !important;} .sidebar-list_hint {top: 94px;}")},Ns=n("/2mg");n("yigw");var As,Ps,Bs=Object(tr.a)((function(e){var t=Object(M.a)(e),n=Object(Vi.a)(e),r=Object(Hi.a)(n),i=Object(Qt.a)(t);return{collection:Object(B.a)(t),collectionUrl:r&&i&&Object(g.f)(r,i)}}))((function(e){var t=e.showOnBoard,n=e.showOnProfile,r=e.collection,i=e.collectionUrl;return t&&r&&i?er.createElement(Ds,{type:"limit",text:Ns.limitCards.r({collection:r,collectionUrl:i}),hasClose:!0}):n?er.createElement(Ds,{type:"limit",text:Ns.limitCollections(),hasClose:!0}):null})),Ms=Object(tr.a)((function(e){return{isPush:(t=e,n=Object(Li.a)(t),!(n&&xi.includes(n))),favoritesHeader:Object(Ri.a)(e),showLimitHintBoard:Object(Di.a)(e),showLimitHintProfile:Object(Ni.a)(e)};var t,n}))((function(e){var t=e.showLimitHintProfile,n=e.showLimitHintBoard,r=e.favoritesHeader,i=e.isPush;return er.createElement(Ai.a,{loc:"head"},er.createElement("div",{className:"head"},er.createElement("div",{className:"head__wrap"},r?er.createElement(xo,null):er.createElement(er.Fragment,null,er.createElement(Ts,null),er.createElement(Bs,{showOnBoard:n,showOnProfile:t}))),(r||i||n||t)&&er.createElement("div",{className:Object(Yn.a)("head__push",{favorites:r,hint:n||t}),style:{height:r?70:n||t?44:40}})))})),Us=n("MBmZ"),Fs=n("pnMn");n("WJAN");var Vs,Hs,Ws,zs=(As=Object(et.a)(),Ps=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={visible:!1},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){0===this.props.showThreshold&&this.setState({visible:!0}),this.props.showThreshold&&this.addScrollListener()},n.componentWillUnmount=function(){this.removeScrollListener(this.props.container)},n.componentDidUpdate=function(e){e.container!==this.props.container&&this.props.showThreshold&&(this.removeScrollListener(e.container),this.addScrollListener(),this.onScroll())},n.render=function(){var e=this.props,t=e.className,n=e.children,r=this.state.visible;return er.createElement("div",{className:Object(Yn.a)("cl-float-ctrl",{state:r?"visible":"hidden"},t)},n)},n.onScroll=function(){var e=this.props.container?this.props.container.scrollTop:Object(Fs.a)();if(this.props.showThreshold){var t=e>this.props.showThreshold;t!==this.state.visible&&this.setState({visible:t})}},n.addScrollListener=function(){(this.props.container||document).addEventListener("scroll",this.onScroll,{passive:!0,capture:!1})},n.removeScrollListener=function(e){(e||document).removeEventListener("scroll",this.onScroll,!1)},t.getDerivedStateFromProps=function(e,t){return void 0===e.showThreshold?{visible:e.visible}:t},t}(er.Component),C()(Ps.prototype,"onScroll",[As],Object.getOwnPropertyDescriptor(Ps.prototype,"onScroll"),Ps.prototype),Ps),Ks=(n("xmSf"),1.5);function Ys(){return document.querySelector(".cl-layout")}var qs=(Vs=Object(et.a)(),Hs=Object(et.a)(),Ws=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={threshold:t.props.visible?void 0:window.innerHeight*Ks,scrollableContainer:t.props.useLayout?Ys():null},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.onResize,{passive:!0,capture:!1})},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},n.componentWillUpdate=function(e){this.props.useLayout!==e.useLayout&&this.setState({scrollableContainer:e.useLayout?Ys():null})},n.onResize=function(){this.setState({threshold:window.innerHeight*Ks})},n.render=function(){return this.props.isShown?er.createElement(zs,{className:"cl-float-up_corner",container:this.state.scrollableContainer,visible:this.props.visible||!1,showThreshold:this.state.threshold},er.createElement("div",{className:"cl-float-ctrl__i"},er.createElement(Qa.a,{ei:!0,shape:"round",size:"M",type:"white",shadow:!0,iconOnly:!0,icon:!0,iconMods:{"top-24x24":!0},onClick:this.scrollToTop}))):null},n.scrollToTop=function(){Oe.d.clickPageUp(),this.state.scrollableContainer?this.state.scrollableContainer.scrollTop=0:window.scrollTo(0,0)},t}(er.Component),C()(Ws.prototype,"onResize",[Vs],Object.getOwnPropertyDescriptor(Ws.prototype,"onResize"),Ws.prototype),C()(Ws.prototype,"scrollToTop",[Hs],Object.getOwnPropertyDescriptor(Ws.prototype,"scrollToTop"),Ws.prototype),Ws),Gs=Object(tr.a)((function(e,t){return{isShown:t.visible||Object(Ze.a)(e,ye.d.COLLECTIONS_BUTTON_UP),useLayout:Object(Us.a)(e)}}))(qs);function Xs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.pop(),a=n.pop(),o=i.data.view.getEnv();return!!o&&o.hasFeature(e,a)}var Js=n("W+cT");function Zs(e,t,n){if(!t||!n)return[void 0,void 0];var r=Object(Js.a)(e,n),i=(r||[]).findIndex((function(e){return e.id===t})),a=function(e){return r[e]?r[e].id:void 0};return-1===i?[void 0,void 0]:[a(i-1),a(i+1)]}var Qs=n("GRsR"),$s=n("y85j"),ec=n("AeOK"),tc=n("RYE9");function nc(e){return Object(tc.a)(e)?"orig":"s1200"}function rc(e,t){if(e&&t){var n=Object(xn.a)(e,t),r=nc(n);if(n)return Object(Se.a)(t)?Object(ec.a)(n):Object(da.b)(n,{size:r,swCache:Object($s.a)(e)})}}var ic,ac=n("1ZVK"),oc=n("du0C"),sc=n("D+d4"),cc=n("lc+m"),uc=Object(vo.a)(cc.a,Object(go.a)("complaint")),lc=n("o/ci"),dc=Object(vo.a)(cc.a,Object(go.a)("is_visible")),hc=n("F1gm"),fc=n("3SOJ"),pc=n("/MKj"),bc=n("Pxkf"),mc=n("zIxK"),vc=n("dbFI"),gc=n("Oi3d");function Oc(){return Boolean(Object(gc.a)(vc.a))}function _c(){void 0===ic&&(ic=Object(mc.a)());var e=Oc(),t=er.useState(e?0:ic),n=t[0],r=t[1];return er.useEffect((function(){e&&r(ic)}),[]),n}var yc=n("HOjc"),Cc=(n("j2mZ"),function(e){yr()(e);var t=_c(),n=Object(pc.useDispatch)(),r=Oc(),i=Object(bc.a)();return r?null:er.createElement(yc.a,{className:"cl-viewer-close-button",style:{right:t+"px"},onClick:function(e){e.preventDefault(),n(Object(Tt.a)({counter:i}))}})}),Ec=n("lpMR");function jc(e){if(e){var t=Object(It.a)(e).contentId,n=Object(S.a)(e);if(n&&n.content&&n.content.length)return n.content.some((function(e){return e.id===t}))||(t=n.content[0].id),t}}var Sc,wc,kc,Ic=n("oNsL");function Tc(e,t){var n="rtb-"+encodeURIComponent(e);return t?n+"-"+t:n}n("13+5");var Rc=(Sc=Object(et.a)(),wc=Object(et.a)(),kc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isClosed:!1,isLoading:!0},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.isAdvLoggerEnabled;li.a.pushCallback(this.renderBanner,{isLoggerEnabled:e})},n.componentDidUpdate=function(e){var t=this;this.props.cardId!==e.cardId&&Object(ri.b)((function(){t.setState({isClosed:!1}),t.renderBanner()}))},n.renderBanner=function(){var e=this,t=this.props,n=t.cardId,r=t.type,i=t.rtbBlockId,a=t.contextNonce,o=t.isAdvLoggerEnabled,s=t.reqId,c=t.rtbData;li.a.render({data:c,blockId:i,renderTo:Tc(n,r),onHide:this.closeBanner,cspNonce:a,extParams:"&reqid="+s,pageNumber:n,onRender:function(){e.setState({isLoading:!1})}},{isLoggerEnabled:o})},n.closeBanner=function(){this.setState({isClosed:!0})},n.render=function(){var e=this.props,t=e.cardId,n=e.type,r=e.className,i=e.rtbBlockId,a=this.state,o=a.isClosed,s=a.isLoading;return i?er.createElement(er.Fragment,null,!1,er.createElement("div",{className:Object(xs.a)("cl-viewer-rtb",{closed:o||s,type:i},r),id:Tc(t,n)})):null},t}(er.Component),C()(kc.prototype,"renderBanner",[Sc],Object.getOwnPropertyDescriptor(kc.prototype,"renderBanner"),kc.prototype),C()(kc.prototype,"closeBanner",[wc],Object.getOwnPropertyDescriptor(kc.prototype,"closeBanner"),kc.prototype),kc),Lc=Object(tr.a)((function(e){return{contextNonce:Object(di.a)(e),isAdvLoggerEnabled:Object(Ze.a)(e,ye.d.COLLECTIONS_ADV_LOGGING),reqId:Object(hi.a)(e)}}))(Rc),xc=Object(vo.a)(cc.a,Object(go.a)("ballotId")),Dc=Object(zt.a)((function(e,t){var n=e.counter,r=t.getState,i=t.dispatch,a=r(),o=Object(It.a)(a),s=o.stateKey,c=o.isVoting,u=Zs(a,Object(w.a)(Object(S.a)(a)),s)[1];return i(u?Object(Rt.b)({cardId:u,stateKey:s,counter:n,isVoting:c}):Object(Tt.a)({}))})),Nc=Object(zt.a)((function(e,t){var n,r,i,a;return de.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.ballotId,r=e.isLiked,i=t.di,o.next=4,de.a.awrap(i("request"));case 4:return a=o.sent,o.next=7,de.a.awrap(a.post("/collections/api/votes/",{points:Number(r),ballot:{id:n}}));case 7:case"end":return o.stop()}}))})),Ac=n("6RUX"),Pc=Object(tr.a)((function(e,t){return{ballotId:xc(e,t.cardId)}}))((function(e){var t=e.dispatch,n=e.ballotId,r=e.className,i=Object(bc.a)();if(!n)return null;function a(e){t(Nc({ballotId:n,isLiked:e})),t(Dc({counter:se()({},i,{type:"vote"})}))}return er.createElement("div",{className:Object(xs.a)("cl-buttons-contest-vote",{},r)},er.createElement(Qa.a,{className:"cl-buttons-contest-vote__button",size:"L",type:"action",label:Ac.like(),shape:"round",shadow:!0,icon:!0,ei:!0,onClick:function(){return a(!0)}}),er.createElement(Qa.a,{className:"cl-buttons-contest-vote__button",size:"L",type:"normal",label:Ac.dislike(),shape:"round",shadow:!0,ei:!0,onClick:function(){return a(!1)}}))})),Bc=(n("mzyW"),function(e){var t=e.cardId,n=Object(hc.a)(t),r=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ROW_ADV),i=Object(gc.a)(It.a);return!n||uc(n)||Object(lc.a)(n)?null:er.createElement("div",{className:"cl-viewer-content-footer"},r&&er.createElement(Lc,{cardId:t,rtbBlockId:r,type:"footer",className:"cl-viewer-content-footer__rtb"}),i&&i.isVoting&&er.createElement(Pc,{className:"cl-viewer-content-footer__voting",cardId:t}))});function Mc(e,t){return e.height&&t.height?e.width/e.height<t.width/t.height?{width:"auto",height:t.height}:{width:t.width,height:"auto"}:{width:"auto",height:"auto"}}var Uc=n("1Wr5"),Fc=n("LyO5"),Vc=n("oWpj"),Hc=n("Ryll"),Wc=n("6KdG"),zc=n("6f8s"),Kc=n("We6+"),Yc=Object(Kc.a)(tt.a);n("FRvd");var qc=Object(Vc.a)(Hc.a.IMAGE,[Hc.a.REQUEST_START,Hc.a.REQUEST_END]),Gc=function(e){var t=e.cardId,n=e.content,r=e.onZoomChange,i=Object(bc.a)(),a=Object(pc.useDispatch)(),o=Object(hc.a)(t),s=Object(tc.a)(n),c=Object(Uc.a)(n,{size:"orig"}),u=function(e){var t=Oc(),n=er.useRef(t?e:"");return n.current===e||(n.current="",!1)}(t);if(Object(Se.a)(t)){var l=Object(Fc.a)(n);l&&l.big_thumb_width&&l.big_thumb_height&&(c={width:l.big_thumb_width,height:l.big_thumb_height})}var d=function(e){var t=e.cardId,n=e.isGif,r=e.onZoomChange,i=e.orig,a=er.useState(t),o=a[0],s=a[1],c=er.useState(!1),u=c[0],l=c[1],d=er.useState(),h=d[0],f=d[1],p=er.useRef(null),b=er.useRef(null),m=Yc().windowWidth;er.useEffect((function(){o!==t&&(l(!1),r(!1),f(void 0),s(t))}),[t,o]),er.useEffect((function(){if(p.current&&!n){var e=0,t=!1,r=p.current.clientWidth,a=document.body.clientHeight-140;if(i&&i.width&&i.height){var o=Object(zc.a)(r,a,i.width,i.height);i.width>o.width&&o.width<r&&(t=!0,e=o.height)}f(t?{left:r/2,top:(a-e)/2,height:e}:void 0)}}),[m,p.current,o,p.current&&p.current.clientWidth]);var v=er.useCallback((function(e){if(h){var t=e.clientY-h.top,n=Math.min(1,Math.max(0,.5*(1-t/h.height)));b.current&&(b.current.style.opacity=String(n))}}),[h]),g=er.useCallback((function(){b.current&&(b.current.style.opacity="0")}),[b.current]),O=er.useCallback((function(e){e.stopPropagation(),l(!u),r(!u)}),[u]),_=o===t;return{zoomPos:_?h:void 0,zoomOut:!!_&&u,wrap:p,zoom:b,onZoomClick:O,onMouseMove:h&&_?v:void 0,onMouseOut:h&&_?g:void 0}}({cardId:t,isGif:s,orig:c,onZoomChange:r}),h=d.zoomOut,f=d.zoomPos,p=d.wrap,b=d.zoom,m=d.onMouseMove,v=d.onMouseOut,g=d.onZoomClick,O=er.useCallback((function(){a(Dc({counter:i}))}),[]);if(!o||!n)return null;var _=nc(n);!s&&h&&(_=fe.b.OPTIMIZE);var y={},C=Object(Se.a)(t)?Object(ec.a)(n):Object(da.b)(n,{size:_});if(u)y.src=C;else if(y.alternateSrc=C,c&&p.current){var E=p.current.clientWidth,j=Mc(c,{width:Math.min(E,c.width),height:h?1/0:Math.min(document.body.clientHeight-140,c.height)}),S=function(e){return"auto"===e?e:e+"px"};y.imageStyles={width:S(j.width),height:S(j.height)},console.log(j,y.imageStyles)}return er.createElement("div",{ref:p,className:"cl-viewer-image",onMouseMove:m,onMouseOut:v,onClick:O},f&&er.createElement("span",{className:Object(xs.a)("cl-viewer-image__zoom",{zoomed:h}),ref:b,onClick:g,style:{top:f.top+"px",left:f.left+"px"}}),er.createElement(Wc.a,se()({rum:qc,content:n,mods:{layout:!0},className:"cl-viewer-image__image",banned:Boolean(Object(lc.a)(o)||uc(o)),size:"s375",doubleWrap:!0},y)))},Xc=function(e,t){return e[e.YOUTUBE="youtube"]="YOUTUBE",e}({});function Jc(e){return Boolean(e&&e.indexOf("<iframe")>=0&&-1===e.indexOf("<script"))}var Zc={youtube:"youtube",dailymotion:"dailymotion",izlesene:"izlesene",mailru:"mailru",rutube:"rutube",vimeo:"vimeo",vh:"yandex",vk:"vk",ok:"ok",uakino:"yadoma",moonwalk:"moonwalk",mirsexy:"mirsexy",clipiki:"uppod",bazr:"uppod",stormo:"uppod",kinoluvr:"uppod"},Qc="//yastatic.net/video-player/0xac8eac6144/pages-common/";function $c(e,t,n,r,i){var a,o,s=function(e,t){return e&&Zc[e]?Zc[e]:Jc(t)?"iframe-default":"default"}(e,t);return t&&Jc(t)&&(a="no_ad=true&autoplay="+(n?1:0)+"&tv="+(r?0:1)+"&play_on_visible="+(i?1:0),t=t.replace(/<iframe(?:\s+|\s+[^>]+\s+)src="(?:[^"]+)/,(function(e){return e?e+(-1!==e.indexOf("?")?"&amp;":"?")+a:e}))),Qc+(s+"/")+s+".html"+((o={html:t,autoplay:n?"yes":void 0})?"#"+Object(ca.a)(se()({},o)):"")}var eu=Object(tr.a)((function(e,t){var n=Object(cc.a)(e,t.cardId),r=t.content||Object(xn.a)(n),i=function(e){if(e&&e.source)return e.source.player}(r),a=Object(Fc.a)(r);return a&&a.id&&a.hosting===Xc.YOUTUBE?{embed:"https://www.youtube.com/embed/"+a.id+'?enablejsapi=1&amp;wmode=opaque"'}:i&&i.html?{embed:$c(i.id,i.html,!0,!0,!1)}:{}}))((function(e){var t=e.embed;return t?er.createElement("iframe",{src:t,frameBorder:"0",allowFullScreen:!0,allow:"autoplay; fullscreen"}):null})),tu=(n("med0"),function(e){var t=e.cardId,n=e.content;return er.createElement("div",{className:"cl-viewer-video"},er.createElement("div",{className:"cl-viewer-video__wrap"},er.createElement(eu,{cardId:t,content:n})))}),nu=n("Jxqj"),ru=Object(zt.a)((function(e,t){var n=e.cardId,r=e.counter,i=t.dispatch,a=t.getState;Oe.d.clickCardRemove(se()({},r,{cardId:n})),i(Object(_n.a)({id:"modal_remove",type:rr.c.ENTITY_REMOVE,animationType:rr.a.MODAL,options:{id:n,storeKey:"cards",yandexApp:Object(Do.a)(a())}}))})),iu=n("2ifV");n("UdnW"),n("14bV");var au=Object(tr.b)((function(e,t){return{isOwnCard:Object(w.a)(Object(nu.a)(e,t.cardId))===Object(w.a)(Object(Vi.a)(e))}}))((function(e){var t=e.cardId,n=e.isOwnCard,r=e.dispatch,i=e.counter;return er.createElement("div",{className:"cl-viewer-banned"},er.createElement("div",{className:"cl-viewer-banned__wrap"},er.createElement("div",{className:"cl-viewer-banned__content"},er.createElement("div",{className:"cl-viewer-banned__text"},er.createElement("p",null,iu.title.r()),er.createElement("p",null,er.createElement("a",{href:"https://yandex.ru/legal/collections_termsofuse/",target:"_blank",className:"link link_type_invert"},iu.more()))),n&&er.createElement("div",{className:"cl-viewer-banned__ctrl"},n?er.createElement(Qa.a,{label:iu.delete(),className:"cl-viewer-banned__button cl-viewer-banned__button_delete",size:"M",type:"invert",icon:!0,onClick:function(){t&&r(ru({cardId:t,counter:i}))}}):void 0))))})),ou=(n("7aFe"),function(e){var t=e.cardId,n=e.onZoomChange,r=Object(hc.a)(t),i=Object(gc.a)(jc);if(!r)return null;var a=r.content&&r.content.find((function(e){return e.id===i})),o=Object(Ec.a)(a),s=Object(lc.a)(r);return a?er.createElement("div",{className:"cl-viewer-content"},er.createElement("div",{className:"cl-viewer-content__image"},o?er.createElement(tu,{cardId:t,content:a}):er.createElement(Gc,{cardId:t,content:a,onZoomChange:n}),er.createElement(Bc,{cardId:t}),s&&er.createElement(au,{cardId:t}))):null}),su=n("ol8y"),cu=n("qTqY"),uu=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c,u,l;return de.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.cardId,r=e.stateKey,i=void 0===r?"cardSimilarToCard":r,a=t.getState,o=t.dispatch,n){d.next=4;break}return d.abrupt("return");case 4:if(s=a(),c=Boolean(Object(Ze.a)(s,ye.d.COLLECTIONS_VIDEO_REC))&&Object(su.a)(s,n),"cardSimilarToCard"===i){d.next=11;break}if(u=Object(Js.a)(a(),i),l=Object(cu.a)(a(),i),!(u&&u.length||l)){d.next=11;break}return d.abrupt("return");case 11:return d.next=13,de.a.awrap(o(Object(Lt.a)({storeKey:i,url:"/collections/api/cards",reset:{count:0,results:[],next:null},query:{similar_to:n,index_video_enabled:c?1:void 0,page:1,page_size:fe.p,seed:Object(Yi.a)()}})));case 13:case"end":return d.stop()}}))})),lu=Object(Kc.a)(I.a),du=n("njkS"),hu=n("Kq94");n("LTxF");var fu,pu,bu,mu,vu,gu=Object(tr.a)((function(e){return{tld:Object(Pi.a)(e)}}))((function(e){var t=e.tld,n=e.invert,r=e.className,i=lu(),a=(new Date).getFullYear();return er.createElement("footer",{className:Object(Yn.a)("footer",{invert:n},r)},er.createElement("p",{className:"footer__copy"},"© 2015—",a," ",hu.yandex.r()),er.createElement("ul",{className:"footer__links"},er.createElement("li",{className:"footer__links-i"},er.createElement("a",{href:"https://yandex."+t+"/support/collections/",className:"link link_type_minor"},du.help())),er.createElement("li",{className:"footer__links-i"},er.createElement("a",{href:"https://yandex."+t+"/support/collections/troubleshooting.xml",className:"link link_type_minor"},du.feedback())),er.createElement("li",{className:"footer__links-i"},er.createElement("a",{href:"com.tr"===t||"uz"===t?"https://yandex."+t+"/legal/termsofuse/":"https://yandex."+t+"/legal/collections_termsofuse/",className:"link link_type_minor"},hu.eula())),(i===g.a.CONTEST||i===g.a.CONTESTS)&&"ru"===t&&er.createElement("li",{className:"footer__links-i"},er.createElement("a",{href:"https://yandex.ru/legal/competition_generalterms/",className:"link link_type_minor"},du.contestsConditions()))))})),Ou=Object(vo.a)(cc.a,Object(go.a)("adv_on",!0)),_u=n("5a4k"),yu=n("Ml+Q"),Cu=n("POJF"),Eu=n("n4Cm"),ju=n("CYZy"),Su=n("HZC2"),wu=n("Zoo8"),ku=n("MMsl"),Iu=n("t2Gq"),Tu=n("lhXF"),Ru=n("Z+0I"),Lu=n("Q7H8"),xu=n("bblA"),Du=n("qAaj"),Nu=(n("i87+"),fu=Object(et.a)(),pu=Object(et.a)(),bu=Object(et.a)(),mu=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.hide=function(){this.setState({isVisible:!1}),this.setWeeklyTimeout(),this.scrollUnsubscribe&&(this.scrollUnsubscribe(),this.scrollUnsubscribe=void 0)},n.hideOnScroll=function(e){e.target.scrollTop>100&&(this.toggleHideAnimation(),this.setWeeklyTimeout(),this.scrollUnsubscribe&&(this.scrollUnsubscribe(),this.scrollUnsubscribe=void 0))},n.toggleHideAnimation=function(){var e=document.querySelector(".cl-tooltip_type_viewer");e&&e.classList.add("cl-tooltip_type_viewer_hide")},n.componentWillUnmount=function(){this.scrollUnsubscribe&&this.scrollUnsubscribe()},n.setWeeklyTimeout=function(){var e=this.props.dispatch,t=Math.round(Date.now()/wu.e);e(Object(Tu.a)({key:Lu.a,mutation:function(){return t}}))},n.render=function(){var e=this,t=this.props,n=t.dispatch,r=t.anchor,i=t.counter;return er.createElement(xu.a,{tooltipKey:Lu.b,renderContent:function(){return er.createElement(Ru.a,{config:{anchor:r,visible:!0,mods:{type:"viewer"}},onShow:function(){var t,r,a,o=document.querySelector(".cl-layout_show-suggest");o&&(e.scrollUnsubscribe=(t=o,r=e.hideOnScroll,a={passive:!0},t.addEventListener("scroll",r,a),function(){t.removeEventListener("scroll",r,a)})),n(Object(Iu.a)({counter:i}))},hasTail:!0,width:260,text:Du.text(),align:ku.c.LEFT,tone:ku.d.GREY,hasClose:!0,onClose:e.hide})}})},t}(er.Component),C()(mu.prototype,"hide",[fu],Object.getOwnPropertyDescriptor(mu.prototype,"hide"),mu.prototype),C()(mu.prototype,"hideOnScroll",[pu],Object.getOwnPropertyDescriptor(mu.prototype,"hideOnScroll"),mu.prototype),C()(mu.prototype,"toggleHideAnimation",[bu],Object.getOwnPropertyDescriptor(mu.prototype,"toggleHideAnimation"),mu.prototype),mu),Au=Object(tr.b)()(Nu),Pu=(n("Q63f"),"cardSimilarToCard"),Bu=Object(tr.b)((function(e,t){var n=t.cardId,r=t.stateKey,i=void 0===r?Pu:r,a=Object(S.a)(e),o=n||a&&a.id,s=Object(Ze.a)(e,ye.d.COLLECTIONS_DESKTOP_RTB_CARD2CARD),c=Object(Ze.a)(e,ye.d.COLLECTIONS_DESKTOP_RTB_CARD2CARD_ID),u=Boolean(Ou(e,o)&&c&&"0"!==c),l=Object(Eu.a)(s),d=l[0],h=l[1];return{cardId:o,stateKey:i,seed:Object(_u.a)(e,i),isLoading:Object(cu.a)(e,i),isFullyLoaded:Object(Cu.a)(e,i),isEmpty:Object(yu.a)(e,i),showSimilarCards:Object(Ze.a)(e,ye.d.COLLECTIONS_DESKTOP_IMAGE_SOURCE_SIMILAR)||!Object(Se.a)(o),isRTBEnabled:u,rtbStart:d,rtbStep:h,rtbBlockId:c}}))((function(e){var t=e.cardId,n=e.seed,r=e.isFullyLoaded,i=e.isEmpty,a=e.scrollElement,o=e.isLoading,s=e.showSimilarCards,c=e.isRTBEnabled,u=e.rtbStart,l=e.rtbStep,d=e.rtbBlockId,h=e.className,f=e.stateKey,p={id:"viewerCards",entries:[]};c&&"number"==typeof u&&"number"==typeof l&&p.entries.push({storeKey:"advCardSimilarCards",type:ju.a.RTB_BANNER,start:u,step:l,infinite:!0,options:{rtbBlockId:d,minHeight:300}}),p.entries.push({storeKey:f,type:ju.a.CARD,start:0,step:1});var b=er.useRef(null);return er.createElement(Ai.a,{loc:"similarCards",similarCardId:t,cardsSessionId:n},er.createElement("div",{className:Object(Yn.a)("cl-layout__similar",{filled:r,empty:r&&i||!s},h),ref:b},b.current&&er.createElement(Au,{anchor:b.current}),s&&er.createElement(Su.a,{itemsKey:f,shaker:p,ignoreOverflow:!0,scrollElement:a,options:{showCtrl:!0}}),o&&!r&&er.createElement("div",{className:"cl-async_spinner"},er.createElement(Br.a,{gif:!1}))))})),Mu=(n("6DeV"),function(e){var t=e.cardId,n=er.useState(""),r=n[0],i=n[1],a=er.useState(null),o=a[0],s=a[1],c=Object(pc.useDispatch)(),u=Oc(),l=Object(hc.a)(t),d="cards$cardSimilarToCard/"+t;return er.useEffect((function(){r!==t&&(c(uu({cardId:t,stateKey:d})),i(t))}),[t,r]),er.useEffect((function(){if(!o){var e=document.querySelector(".cl-viewer");e&&s(e)}}),[o]),u||!l||uc(l)||Object(lc.a)(l)||r!==t||!o?null:er.createElement(er.Fragment,null,er.createElement("div",{className:"cl-viewer-footer"},er.createElement(Bu,{className:"cl-viewer-footer__similar",cardId:t,stateKey:d,scrollElement:o})),er.createElement(gu,{className:"cl-viewer-footer-footer",invert:!0}))}),Uu=n("rdt4"),Fu=n("/KRU"),Vu=n("7z6F"),Hu=n("yHDv"),Wu=n("RLYd"),zu=Object(Wu.a)(Hu.a,Object(go.a)("created_at")),Ku=n("CZvv"),Yu=n("AVFj"),qu=n("5USU"),Gu=n("Q6yW"),Xu=Object(vo.a)(cc.a,(function(e){return!!e&&!Object(Gu.a)(e)&&!Object(qu.a)(e)})),Ju=n("0XrC"),Zu=n("GGxO"),Qu=n("rT8E"),$u=n("2a6Q"),el=n("JaHL"),tl=n("MXHp"),nl=[X.a.BOOK,X.a.FILM,X.a.SERIES],rl=[X.a.GEO,X.a.ORGANIZATION],il=n("W/Rk"),al=n("uDOU"),ol=n("dcp2"),sl=((vu={})[X.a.FILM]=ol.serpFilm(),vu[X.a.SERIES]=ol.serpSeries(),vu[X.a.BOOK]=ol.serpBook(),vu);function cl(e,t){var n=Object(el.a)(t),r=function(e,t){if(t){var n=Object(xn.a)(t);if(n){var r=Object(Fc.a)(n),i=Object(Qu.a)(n);if(i){if(nl.includes(i)){var a=e&&e.origin||"";return r&&r.entity?a+r.entity.web_search_link:""}if(rl.includes(i))return Object(Gu.a)(t)}return Object(tl.a)(t)}}}(e,t)||Object(Gu.a)(t),i=Object($u.a)(t)||Object(al.a)(r);return{url:r,label:n&&sl.hasOwnProperty(n)?sl[n]:Object(il.a)(t)?ol.recipe({site:i}):ol.site({site:i})}}function ul(e,t){return cl(Object(tt.a)(e),Object(cc.a)(e,t))}var ll=n("tpMH"),dl=n("9bY7"),hl=n("FzJZ");n("YuPi");var fl=function(e){var t=e.className,n=e.title,r=e.desc,i=e.rating,a=e.ctrl,o=e.ctrlComponent,s=e.children,c=a&&a.props&&a.props.href&&Object(hl.a)(a.props.href),u=Object(bc.a)();if(a&&a.props&&a.props.href){var l=a.onClick,d=a.props.href;a.onClick=function(e){Oe.d.clickLinkExternal(se()({},u,{href:d})),l&&l(e)}}return er.createElement("div",{className:Object(Yn.a)("cl-card-extension",{},t)},n&&er.createElement("div",{className:"cl-card-extension__title"},er.createElement("h3",{className:"cl-card-extension__title-text"},n),i),r&&er.createElement("p",{className:"cl-card-extension__desc"},r),s,a&&o?o:a&&c&&er.createElement("div",{className:"cl-card-extension__ctrl"},er.createElement(Qa.a,se()({ei:!0,type:"normal",size:"M"},a,{className:"cl-card-extension__button "+t+"__button"}))))},pl=n("Ywqh"),bl=n.n(pl),ml=Object(tr.a)((function(e,t){var n=t.card;return n?{link:ul(e,n.id)}:{}}))((function(e){var t=e.card,n=e.link,r=e.className,i=Object(bc.a)(),a=Object(xn.a)(t),o=Object(dl.a)(a),s=Object(ll.a)(a);return a&&t&&(o||s)?er.createElement(fl,{className:Object(xs.a)("cl-card-extension-cover",{},r),title:o,desc:s,ctrl:Boolean(n&&n.url)?{icon:!0,iconComponent:er.createElement(bl.a,{className:"button__icon"}),label:n.label,props:{href:n.url,target:"_blank"},onClick:function(){return Oe.d.clickCardSerp(se()({},i,{cardId:t.id}))}}:void 0}):null})),vl=n("IonQ"),gl=n("Niun"),Ol=n.n(gl),_l=Object(tr.a)((function(e,t){var n=t.card;if(!n)return{};var r=n.id,i=Object(vl.a)(e,r);return{card:n,title:i&&i.title,link:ul(e,r)}}))((function(e){var t=e.card,n=e.title,r=e.link,i=e.className,a=Object(bc.a)();return t?er.createElement(fl,{className:Object(xs.a)("cl-card-extension-link",{},i),title:n,ctrl:Boolean(r&&r.url)?{icon:!0,iconComponent:er.createElement(Ol.a,{className:"button__icon"}),label:r.label,props:{href:r.url,target:"_blank","data-disable-counters":"1"},onClick:function(){return Oe.d.clickLinkExternal(se()({},a,{href:r.url}))}}:void 0}):null})),yl=n("IV/k"),Cl=n("M5xC"),El=n("kKIY"),jl=n("RoKP"),Sl=n("irOb"),wl=n.n(Sl);n("0275"),n("LaFB");var kl=function(e){var t,n=e.mod,r=e.className,i=e.value,a=e.rate;return er.createElement("span",{className:Object(Yn.a)("cl-card-rating",(t={},t[n]=Boolean(n),t.rate=a,t),r)},er.createElement("span",{className:"cl-card-rating__value"},i),n&&"market"===n&&er.createElement(wl.a,{className:"cl-card-rating__arrow",fill:"currentColor"}))},Il=n("hlG7"),Tl=n.n(Il);n("+W2V");var Rl=function(e){var t=e.card,n=Object(bc.a)();if(!t)return null;var r=t.market,i=Object(El.a)(r,!0,!0),a=function(e){return e&&e.rating}(r),o=Object(Cl.a)(r);return er.createElement(fl,{className:"cl-card-extension-market",title:Object(jl.a)(r),desc:Object(yl.a)(r),rating:Boolean(a)&&er.createElement(kl,{mod:"market",className:"cl-card-extension-market__rating",value:a,rate:Math.round(Number(a))}),ctrl:Boolean(o)?{icon:!0,iconComponent:er.createElement(Tl.a,{className:"button__icon"}),label:i,props:{href:o,target:"_blank"},onClick:function(){return Oe.d.clickCardMarket(se()({},n,{cardId:t.id}))}}:void 0})},Ll=n("1RcF"),xl=n("gdZZ"),Dl=n("4zLl");function Nl(e){return e?e.map((function(e){return Dl[e]?Dl[e]():e})):[]}var Al=n("Y6Ru"),Pl=n("SUFM"),Bl="YYYY";function Ml(e){if(!e||!e.data)return[];var t=e.data,n=t.platforms,r=t.modes,i=t.release,a=[];if(n&&n.length&&a.push({label:Pl.platforms(),values:Object(Al.a)(n).map((function(e){return{value:e}}))}),r&&r.length&&a.push({label:Pl.mode(),values:Nl(r).map((function(e){return{value:e}}))}),i&&i.year){var o=(new Uu.a).setYear(i.year).format(Uu.a.getLocaleFormat("en",Bl)||Bl);a.push({label:Pl.releaseYear(),values:[{value:o}]})}return a}var Ul=n("74re"),Fl=n("Gmy3"),Vl=n("ufIl");n("zmtd"),n("jExA");var Hl=["gplay","itunes"],Wl=function(e){var t=e.className,n=function(e){if(e&&e.data)return e.data.links}(e.context);return n&&(n.gplay||n.itunes)?er.createElement("div",{className:Object(Yn.a)("cl-card-extension-game-store",{context:!t},t)},Hl.map((function(e){var t;return n[e]?er.createElement(Ca.a,{className:Object(Yn.a)("cl-card-extension-game-store__link",(t={},t[e]=!0,t)),href:n[e],props:{},key:e}):null}))):null},zl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1},t}return m()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.children;return this.state.expanded?r:er.createElement("span",{className:n,role:"button",onClick:function(){return e.setState({expanded:!0})}},"[...]")},t}(er.PureComponent),Kl=n("8OQS"),Yl=n.n(Kl),ql=function(e){var t=e.href,n=e.className,r=e.children,i=e.props,a=e.onClick,o=e.target,s=void 0===o?"_blank":o,c=Object(bc.a)();return er.createElement("a",se()({href:t,target:s,className:n},i,{onClick:function(e){Oe.d.clickLink(se()({},c,{href:t})),a&&a(e)}}),r)},Gl=function(e){var t=e.href,n=e.className,r=e.children,i=Yl()(e,["href","className","children"]);return t?/^tel:/.test(t)?er.createElement(ql,se()({href:t,className:n,target:"_self"},i),r):er.createElement(Ca.a,se()({href:t,className:n},i),r):er.createElement("span",{className:n},r)};function Xl(e){return e.map((function(e,t){var n=e.href,r=e.value;return er.createElement(er.Fragment,{key:t},t>0&&er.createElement("i",null,", "),n?er.createElement(Gl,{className:"cl-card-extension-key__link",href:n},r):er.createElement("span",null,r))}))}n("s7PA");var Jl=function(e){var t=e.className,n=e.invert,r=e.items;return r.length?er.createElement("div",{className:Object(Yn.a)("cl-card-extension-key",{invert:n,context:!t},t)},r.map((function(e,t){var n=e.label,r=e.values,i=e.additional,a=void 0===i?[]:i;return er.createElement("li",{className:"cl-card-extension-key__item",key:t},er.createElement("span",{className:"cl-card-extension-key__label"},n)," ",Xl(r),a.length>0&&er.createElement(er.Fragment,null,er.createElement("i",null,", "),er.createElement(zl,{className:"cl-card-extension-key__link"},Xl(a))))}))):null};n("ErrP");var Zl=function(e){var t=e.className,n=e.invert,r=e.stars;return er.createElement("ul",{className:Object(Yn.a)("cl-card-extension-star",{context:!t,invert:n},t)},r.map((function(e,t){var n=e.name,r=e.value,i=e.max,a=e.href;return er.createElement("li",{className:"cl-card-extension-star__item",key:t},er.createElement("span",{className:"cl-card-extension-star__icon"},er.createElement("span",{className:"cl-card-extension-star__icon-active",style:{width:100*Math.min(1,r/i)+"%"}})),er.createElement("span",{className:"cl-card-extension-star__value"},r,"/",i),a?er.createElement(ql,{href:a,className:"cl-card-extension-star__outer"},n):er.createElement("span",{className:"cl-card-extension-star__outer"},n))})))};n("Yosn");var Ql=function(e){var t=e.card,n=e.className;if(!t)return null;var r=t.object_answer,i=function(e){var t={},n={};if(e.ratings&&["steam","metacritic","gplay"].forEach((function(n){n in e.ratings&&(t[n]=e.ratings[n])})),Object.keys(t).length){if(t.gplay&&!("orig_value"in t.gplay)){var r=t.gplay.value;t.gplay={value:r/5,orig_value:r,max_value:5}}var i=0;n.ratings=Object.keys(t).map((function(e){var n=t[e],r=n.value,a=n.max_value,o=n.orig_value,s=100*r;return a=a||100,o=Math.round(100*(o||s))/100,e=Vl[e]?Vl[e]():e,i+=r,{name:e,orig:o,max:a,percentage:s}}));var a=Number(10*i/Object.keys(t).length);n.rating=a.toFixed(10===a?0:1)}return n}(r.data);return er.createElement(fl,{className:Object(xs.a)("cl-card-extension-game",{},n),title:Object(Fl.a)(t),desc:Object(Ul.a)(t)},i.ratings&&er.createElement(Zl,{className:"cl-card-extension-game__star",stars:i.ratings.map((function(e){return{name:e.name,value:e.orig,max:e.max}}))}),er.createElement(Jl,{className:"cl-card-extension-geo__keys",items:Ml(r)}),er.createElement(Wl,{className:"cl-card-extension-game__store",context:r}))},$l=n("HSMI");function ed(e){if(!e||!e.data)return[];var t=e.data,n=t.genres,r=t.initdate,i=[];return n&&n.length&&i.push({label:$l.genre(),values:n.map((function(e){return{value:e}}))}),r&&r.length&&i.push({label:$l.initDate(),values:r.map((function(e){return{value:e}}))}),i}function td(e){if(e&&e.data)return e.data.subtitle}var nd=n("ebR4"),rd=n("eNY/"),id=n.n(rd);n("mUcO");var ad=function(e){var t=e.card,n=e.className,r=Object(bc.a)();if(!t)return null;var i=t.object_answer,a=function(e){if(e&&e.data){var t=ga(e.data);if(!t)return"";var n=e.data.geo_info;return Oa(t.longitude,t.latitude,e.title,n&&n.zoom)}}(i),o=function(e){if(e&&e.data)return e.data.description}(i),s=function(e){if(e&&e.data)return e.data.description_source}(i);return er.createElement(fl,{className:Object(xs.a)("cl-card-extension-geo",{},n),title:Object(Fl.a)(t),desc:td(i),ctrl:Boolean(a)?{icon:!0,iconComponent:er.createElement(id.a,{className:"button__icon"}),label:nd.showOnMaps(),props:{href:a,target:"_blank"},onClick:function(){return Oe.d.clickCardObjectAnswer(se()({},r,{cardId:t.id}))}}:void 0},er.createElement("article",{className:"cl-card-extension-geo__article"},Object(Ju.a)(o,{trimLink:!0})," ",s&&er.createElement(Ca.a,{className:"link link_color_green cl-card-extension-geo__article-link",href:s.url,props:{}},s.name)),er.createElement(Jl,{className:"cl-card-extension-geo__keys",items:ed(i)}))},od=function(e){var t=e.card,n=e.className;return t&&t.object_answer&&t.object_answer.data&&t.object_answer.type?(t.object_answer.type,Object(Ll.a)(t)?er.createElement(Ql,{card:t,className:n}):Object(xl.a)(t)?er.createElement(ad,{card:t,className:n}):null):null},sd=n("GOua");function cd(e){var t=e[0],n=e[1],r=e[2];return{value:"+"+t+" "+n+" "+[r.slice(0,-4),r.slice(-4,-2),r.slice(-2)].join("-"),href:void 0}}var ud=n("LiK1"),ld=n("ie+5");function dd(e){if(!e)return[];var t=[],n=e.address,r=e.phones,i=e.urls,a=e.working_hours;if(n&&t.push({label:ld.address(),values:[{value:n}]}),r&&t.push({label:ld.phone(),values:r.slice(0,2).map(cd),additional:r.slice(2).map(cd)}),i){var o=i.map((function(e){return{value:Object(al.a)(e),href:e}}));o=Object(ud.a)(o,(function(e){return e.value})),t.push({label:ld.website(),values:o.slice(0,1),additional:o.slice(1)})}return a&&t.push({label:ld.workingHours(),values:[{value:a}]}),t}var hd=n("Yxky"),fd=n("xTaD"),pd=n("ebQT"),bd=n.n(pd),md=function(e){var t=e.card,n=e.className,r=Object(bc.a)();if(!t)return null;var i=t.organization;if(!i)return null;var a=function(e){if(e&&e.coordinates&&e.name)return Oa(e.coordinates[0],e.coordinates[1],e.name)}(i);return er.createElement(fl,{className:Object(xs.a)("cl-card-extension-organization",{},n),title:Object(hd.a)(t),desc:Object(sd.a)(i),ctrl:a?{icon:!0,iconComponent:er.createElement(bd.a,{className:"button__icon"}),label:fd.showOnMaps(),props:{href:a,target:"_blank"},onClick:function(){return Oe.d.clickCardOrganization(se()({},r,{cardId:t.id}))}}:void 0},Boolean(i.rating)&&er.createElement(Zl,{className:"cl-card-extension-organization__star",stars:[{value:Math.min(i.rating,10),max:10,name:fd.ratingMaps(),href:a}]}),er.createElement(Jl,{className:"cl-card-extension-organization__keys",items:dd(i)}))},vd=n("DdyV"),gd=n("AhEr"),Od=n("Tl7j"),_d=n("ICKy");n("It21");var yd=function(e){var t=e.card,n=e.className,r=Object(gc.a)(Od.a,Object(w.a)(t));return t?er.createElement(fl,{className:Object(xs.a)("cl-card-extension-product",{},n),title:Object(vd.a)(t)},r?er.createElement("div",{className:"cl-card-extension-product__meta"},er.createElement(_d.a,{labelSize:"S",labelType:"price",labelPosition:"static",labelValue:Object(gd.a)(t),disableShadow:!0})):null,er.createElement("article",{className:"cl-card-extension-product__article"},er.createElement("p",null,Object(Ju.a)(Object(Vu.a)(t),{trimLink:!0})))):null},Cd=n("qvVl"),Ed=n("RXja"),jd=n("ag8l"),Sd=n("Ff+0"),wd=n("yi0R");n("8i1e");var kd=function(e){var t=e.className,n=e.ingredients,r=e.schema,i=e.expander,a=e.invert,o=er.useState(!i),s=o[0],c=o[1];if(!n||!n.length)return null;var u=[];return s||(u=n.slice(10),n=n.slice(0,10)),er.createElement("div",{className:Object(Yn.a)("cl-card-extension-recipe-ingredients",{context:!t,invert:a},t)},er.createElement("ul",{className:"cl-card-extension-recipe-ingredients__list"},n.map((function(e,t){var n=e.count,i=e.units,a=e.names;return er.createElement("li",{key:t,itemProp:r?"ingredients":void 0,className:"cl-card-extension-recipe-ingredients__item"},er.createElement("div",{className:"cl-card-extension-recipe-ingredients__label"},er.createElement("span",null,Object(Sd.a)(a[0]))),er.createElement("div",{className:"cl-card-extension-recipe-ingredients__value"},er.createElement("span",null,n," ",i)))}))),u.length>0&&er.createElement("span",{className:"cl-card-extension-recipe-ingredients__more",onClick:function(){return c(!0)}},wd.more({count:u.length})))},Id=n("BmkG"),Td=n.n(Id);n("SlZh");var Rd=Object(tr.a)((function(e,t){var n=t.card;return n?{card:n,link:ul(e,n.id)}:{}}))((function(e){var t=e.card,n=e.link,r=e.className,i=Object(bc.a)();if(!t)return null;var a=Object(Ed.a)(t),o=Object(Cd.a)(t);return er.createElement(fl,{className:Object(Yn.a)("cl-card-extension-recipe",{},r),title:Object(jd.a)(t),ctrl:Boolean(n&&n.url)?{icon:!0,iconComponent:er.createElement(Td.a,{className:"button__icon"}),label:n.label,props:{href:n.url,target:"_blank"},onClick:function(){return Oe.d.clickCardRecipe(se()({},i,{cardId:t.id}))}}:void 0},a&&er.createElement("ul",{className:Object(Yn.a)("dot-list",{size:"M"},"cl-card-extension-recipe__dot-list")},a.map((function(e,t){return er.createElement("li",{className:"dot-list__item",key:t},er.createElement("span",{className:"dot-list__text"},e))}))),er.createElement(kd,{className:"cl-card-extension-recipe__contents",ingredients:o,expander:!0}))})),Ld=n("/+oc"),xd=n("WiFc"),Dd=n("6jw5"),Nd=n("8fc2");n("4A+0");var Ad=Object(tr.a)((function(e,t){var n=t.card;if(!n)return{};var r=n.id;return{card:n,title:Object(xd.a)(e,r)||Object(Vu.a)(e,r)}}))((function(e){var t=e.card,n=e.title,r=e.className,i=Object(xn.a)(t);if(!i||!t)return null;var a=Object(Dd.a)(i);return er.createElement(fl,{className:Object(xs.a)("cl-card-extension-video",{},r),title:n},a&&er.createElement("p",{className:"cl-card-extension__desc"},Object(Ld.a)(a),Object(Nd.a)(i)&&er.createElement("b",null,"HD")))})),Pd=function(e){var t=e.card,n=e.className,r=Object(xn.a)(t);if(!r||!t)return null;var i=t.market,a=t.object_answer,o=t.organization,s=t.recipe,c=Object(Qu.a)(r),u=Object(Ec.a)(r),l=Object(Zu.a)(c),d=c===X.a.LINK,h=Object(Ku.a)(t);return i?er.createElement(Rl,{card:t,className:n}):a?er.createElement(od,{card:t,className:n}):o?er.createElement(md,{card:t,className:n}):s?er.createElement(Rd,{card:t,className:n}):u?er.createElement(Ad,{card:t,className:n}):h?er.createElement(yd,{card:t,className:n}):l?er.createElement(ml,{card:t,className:n}):d?er.createElement(_l,{card:t,className:n}):null},Bd=n("4e/Y"),Md=n("iMkj"),Ud=n("B1ly");n("H1V1");var Fd=Object(tr.a)((function(e){var t=Object(S.a)(e);return t?{commentsStat:Object(Md.a)(e,t.id)||0}:{}}))((function(e){var t=e.commentsStat;return er.createElement("div",{className:"cl-card-comments-head"},er.createElement("h3",{className:"cl-card-comments-head__title"},Ud.commentsTitle({count:t})))})),Vd=n("VRo3"),Hd=n("bphC"),Wd=n("qeDp"),zd=n("4UlD"),Kd=n("6g1q"),Yd=n("U9Ap"),qd=n("+0oJ"),Gd=n("nUi2"),Xd=n("AF+Z"),Jd=n("VsR/"),Zd=n("tVjm"),Qd=n("VPES"),$d=n("xalX"),eh=n("Tff5"),th=n("+mVu"),nh=n("gQdx"),rh=n("Kj4u"),ih=n("aKBe"),ah=n("kxd7"),oh=n("n73F"),sh=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c,u,l,d,h,f,p,b,m,v,g,O,_;return de.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return n=e.cardId,r=e.isFulfilled,i=e.counter,a=t.getState,o=t.dispatch,s=t.di,y.next=4,de.a.awrap(s("request"));case 4:if(c=y.sent,u=Object(cc.a)(a(),n)){y.next=10;break}return y.next=9,de.a.awrap(o(Object(rh.a)({cardId:n})));case 9:u=Object(cc.a)(a(),n);case 10:if(u){y.next=12;break}throw new Error("Cannot find card with id="+n);case 12:return i=se()({},i,{cardId:n,fulfilled:r}),l=u.labels||[],d=r?fe.X:fe.Y,h=r?fe.Y:fe.X,f="/collections/api/cards/"+encodeURIComponent(n)+"/fulfillment/",p=l.filter((function(e){return e!==d})).concat(h),Oe.d.clickCardWish(i),o(Object(ih.a)({id:n,value:{labels:p}})),y.prev=20,y.next=23,de.a.awrap(r?c.put(f,p):c.del(f,p));case 23:b=a(),m=Object(th.a)(b,n),v=m.board,g=b.boardCards,v&&(O=se()({},v.stat,{fulfilled_count:Math.max(0,v.stat.fulfilled_count+(r?1:-1))}),o(Object(nh.a)({id:v.id,value:{stat:O}})),oh.a.dataFactory(v,{parse:!0,request:c}).setStat(Object($d.a)(O))),ae.a.dataFactory(m,{parse:!0,request:c}).set("labels",p),g&&g._query&&g._query["board.id"]===Object(eh.a)(b,m.id)&&(_=g._query.wish===fe.Y,r!==_&&o(Object(ah.a)({storeKey:"boardCards",id:m.id}))),Oe.d.finishCardWish(i),y.next=37;break;case 33:y.prev=33,y.t0=y.catch(20),be.a.showXHRMessage(y.t0),o(Object(ih.a)({id:n,value:{labels:l}}));case 37:case"end":return y.stop()}}),null,null,[[20,33]])})),ch=n("YwPR"),uh=Object(tr.b)((function(e,t){var n=Object(cc.a)(e,t.cardId);return{isFulFilled:Object(Kd.a)(n)}}))((function(e){e.mods;var t,n=e.cardId,r=e.iconOnly,i=e.isFulFilled,a=e.dispatch,o=e.counter,s=Yl()(e,["mods","cardId","iconOnly","isFulFilled","dispatch","counter"]);return r||(t=i?ch.actualizeWish():ch.completeWish()),er.createElement(Qa.a,se()({iconOnly:r,label:t,onClick:function(){a(sh({cardId:n,isFulfilled:!i,counter:o}))}},s))})),lh=n("yPj3"),dh=n("xcJD"),hh=n("j8Tf"),fh=n.n(hh),ph=n("mbBf"),bh=n.n(ph),mh=n("1peD"),vh=n.n(mh),gh=n("Kdy2"),Oh=n.n(gh),_h=n("hN3q"),yh=n.n(_h),Ch=n("8eIt"),Eh=n.n(Ch),jh=n("YYD0"),Sh=n.n(jh),wh=n("RWA+"),kh=n.n(wh);n("Jv5b");var Ih=Object(tr.a)((function(e,t){var n=t.cardId;if(!n)return{};var r=Object(cc.a)(e,n),i=Object(Fu.a)(e,n),a=Object(A.a)(e,Object(w.a)(i)),o=Object(el.a)(r),s=ul(e,n),c=Object(nu.a)(e,n),u=i&&Object(Hd.a)(e,i.id)||Object(Yd.a)(e,n),l=Object(Gd.a)(a),d=Object(qd.a)(c),h=Object(Vi.a)(e),f=Object(qa.a)(h),p=Boolean(f&&!u&&d),b=o===X.a.LINK,m=Object(Zu.a)(o),v=Object(zd.a)(r),g=Object(il.a)(r),O=Object(Wd.a)(r)||{};return O.feedSessionId=Object(_u.a)(e,"feedCards"),{counterData:O,hasCard:Boolean(r),isOwner:u,isProfileCompanyParticipant:l,isWishList:Boolean(Object(Vd.a)(i)),isFulFilled:Object(Kd.a)(r),pageUrl:v||b||m||g?void 0:s.url,pageLinkLabel:s.label,allowChat:p,chatId:d,ownerId:Object(w.a)(c)}}))((function(e){var t=e.cardId,n=e.hasCard,r=e.counterData,i=e.isOwner,a=e.isProfileCompanyParticipant,o=e.ownerId,s=e.isWishList,c=e.isFulFilled,u=e.pageLinkLabel,l=e.pageUrl,d=e.allowChat,h=e.chatId,f=e.dispatch,p=e.className;return t&&n?er.createElement(Ai.a,se()({loc:"viewer"},r),er.createElement("div",{className:Object(Yn.a)("cl-card-side-controls",{},p)},d&&h&&er.createElement(Jd.a,{userId:o,type:"action",className:"cl-card-side-controls__button",label:dh.messenger(),guid:h}),i||a?er.createElement(Qa.a,{ei:!0,type:"normal",size:"M",className:"cl-card-side-controls__button",label:dh.edit(),onClick:function(){return f(Object(Xd.a)(t))},iconComponent:er.createElement(Oh.a,{className:"button__icon"}),props:{}}):er.createElement(Qd.a,{ei:!0,type:d?"white":"action",size:"M",className:"cl-card-side-controls__button cl-card-side-controls__button_share",label:dh.share(),alreadySharedLabel:dh.alreadyShared(),alreadySharedIcon:er.createElement(bh.a,{className:"button__icon",fill:"currentColor"}),cardId:t,iconComponent:er.createElement(fh.a,{className:"button__icon"}),props:{}}),i&&s&&er.createElement(uh,{ei:!0,size:"M",type:"white",className:"cl-card-side-controls__button",cardId:t,iconComponent:c?er.createElement(Sh.a,{className:"button__icon"}):er.createElement(vh.a,{className:"button__icon"}),props:{}}),l&&er.createElement(Ca.a,{className:Object(Yn.a)("button",{ei:!0,size:"M",type:"white"},"cl-card-side-controls__button"),href:l,props:{}},er.createElement(Eh.a,{className:"button__icon"}),er.createElement("span",{className:"button__label"},u)),er.createElement(Zd.a,{ei:!0,size:"M",type:"white",className:"cl-card-side-controls__button cl-card-side-controls__button_like",label:dh.like(),cardId:t,iconComponent:er.createElement(yh.a,{className:"button__icon",fill:"currentColor"}),props:{}}),er.createElement(lh.a,{ei:!0,size:"M",type:"white",className:"cl-card-side-controls__button",label:dh.yaShare(),id:t,storeKey:"cards",iconComponent:er.createElement(kh.a,{className:"button__icon",fill:"currentColor"}),props:{}}))):null})),Th=Object(vo.a)(cc.a,Object(go.a)("cmnt_entity_id")),Rh=n("pNVW"),Lh=n("Jw3V"),xh=n("5Rl3");function Dh(e,t){var n=Object(th.a)(e,t);ae.a.dataFactory(n,{parse:!0}).set({stat:n.stat})}var Nh=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c;return de.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(n=e.cardId,r=e.diff,i=t.getState,a=t.dispatch,o=Object(cc.a)(i(),n)){u.next=7;break}return u.next=6,de.a.awrap(a(Object(rh.a)({cardId:n})));case 6:o=Object(cc.a)(i(),n);case 7:if(o){u.next=9;break}throw new Error("Card not found with cardId "+n);case 9:s=Object(Md.a)(o)||0,c=Math.max(0,s+r),a(Object(ih.a)({id:n,value:{last_comment:r<0?void 0:o.last_comment,stat:se()({},o.stat,{comments_count:c})}})),Dh(i(),n),Object(xh.a)(n);case 14:case"end":return u.stop()}}))})),Ah=n("G5PU"),Ph=Object(tr.a)((function(e,t){var n=t.cardId?Object(cc.a)(e,t.cardId):function(e){var t=Object(vn.a)(e).commentsCardId;return t?Object(cc.a)(e,t):void 0}(e);return{cardId:Object(w.a)(n),cmntEntityId:Th(n),isReadonly:Boolean(Object(Rh.a)(n)),currentUserId:Object(Lh.a)(e)}}))((function(e){var t=e.cardId,n=e.cmntEntityId,r=e.isReadonly,i=e.loc,a=e.dispatch,o=e.currentUserId;return t&&n?er.createElement(Ah.a,{key:o,loc:i||"card",entityId:t,cmntEntityId:n,isReadonly:r,updateStats:function(e){t&&a(Nh({cardId:t,diff:e}))}}):null})),Bh=n("iWNo"),Mh=n("J012"),Uh=(n("pkOg"),function(e){var t=e.children,n=e.className,r=e.resetId,i=er.useState(!0),a=i[0],o=i[1],s=er.useState(!1),c=s[0],u=s[1],l=er.useState(r),d=l[0],h=l[1],f=er.useRef(null);return er.useEffect((function(){r!==d&&(h(d),o(!0),u(!1))}),[r,d]),er.useEffect((function(){if(f.current&&!c){var e=f.current,t=e.clientHeight;e.scrollHeight>t&&u(!0)}}),[t,c]),er.createElement("div",{className:Object(xs.a)("cl-text-expandable",{cut:a},n)},er.createElement("div",{className:"cl-text-expandable__content",ref:f},t),a&&c&&er.createElement("span",{className:"link cl-text-expandable__expand",onClick:function(e){e.preventDefault(),o(!1)}},Mh.expand()))}),Fh=n("Lng6"),Vh=n("LXzm"),Hh=(n("Go5O"),function(e){var t=e.cardId,n=e.className,r=Object(pc.useDispatch)(),i=er.useState(!0),a=i[0],o=i[1],s=Object(hc.a)(t),c=Object(gc.a)(jc),u=er.useCallback((function(){o(!1)}),[]);if(!(s&&Object(Yu.a)(s)&&s.content&&c))return null;var l=s.content,d=s.content.length;return a&&(l=l.slice(0,4)),er.createElement("div",{className:Object(xs.a)("cl-viewer-series",{short:a},n)},er.createElement("div",{className:"cl-viewer-series__wrap"},d>4&&a&&er.createElement("div",{className:"cl-viewer-series__more",onClick:u},er.createElement("span",{className:"cl-viewer-series__value"},"+",d-4)),l.map((function(e){return er.createElement("div",{key:e.id,className:Object(xs.a)("cl-viewer-series__item",{cur:e.id===c}),onClick:function(){r(Object(Vh.a)({contentId:e.id}))}},er.createElement(Wc.a,{content:e,size:"smart130"}))}))))}),Wh=Object(vo.a)(cc.a,Object(go.a)("competitions")),zh=n("e1An");function Kh(e){var t=e.replace(/:\s*"([^"]*)"/g,(function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/:\s*'([^']*)'/g,(function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":");return JSON.parse(t)}function Yh(e,t){return e?function(e,t){return Object(Et.get)(e,(t?"direct":"premium")+".ads",[])}(e,t).map((function(t){var n=t.url,r=t.title,i=t.body,a=t.domain,o=t.age,s=t.warning,c=t.linkTail,u=t.sitelinks,l=t.telNum,d=e.common.linkHead;return{url:n,title:Object(k.a)(r),text:Object(k.a)(i),domain:a,age:o,warning:Object(k.a)(s),link_tail:c,link_head:d,phoneNumber:Object(k.a)(l),siteLinks:u.map((function(e){return{title:Object(k.a)(e.title),url:e.url}}))}})):[]}var qh="https://bs.yandex.ru/page/";function Gh(e,t){var n,r,i,a,o,s,c,u,l,d,h;return de.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return n=e.tld,r=e.regionId,i=e.text,a=e.pageId,o=e.reqId,s=e.isBehaviour,void 0===t&&(t=po),c="collections.yandex."+n,u=i&&i.replace(/ /g,"+"),2===(l=String(a).split("-")).length&&(a=l[0],d=l[1]),f.next=8,de.a.awrap(t(qh+a,{"target-ref":c,charset:"utf-8","tune-region-id":r,text:u,"imp-id":d,reqid:o}));case 8:return h=f.sent,f.abrupt("return",Yh(Kh(h),s));case 10:case"end":return f.stop()}}))}var Xh=n("3lXt"),Jh={},Zh={},Qh=270533,$h=346307;function ef(e,t){var n,r,i=Zh[t.id],a=Object(Pi.a)(e),o=Fi(e);if(!i){var s,c,u;s=Boolean(Object(Ze.a)(e,ye.d.COLLECTIONS_POPUP_BEHAVIOUR_ADV)),c=Qh,u=$h;var l=fe.w?"spec-request-id":Object(hi.a)(e);r=Gh({tld:a,regionId:o,reqId:l,pageId:c,text:tf(e,t)}),s&&(n=Gh({tld:a,regionId:o,reqId:l,pageId:u,isBehaviour:!0}))}return i||Promise.all([r,n])}function tf(e,t){var n=Object(Ze.a)(e,ye.d.DESKTOP_CARD_DIRECT_QUERY),r=Object(Xh.a)(e,t.board),i=Object(B.a)(r),a=Object(Vu.a)(t);return[n?i:"",2===n?a:""].filter(Boolean).join(" ")}var nf,rf,af=Object(zt.a)((function(e,t){var n,r,i,a,o,s,c,u,l;return de.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=t.getState(),(r=Object(cc.a)(n,e))||!e){d.next=7;break}return d.next=5,de.a.awrap(t.dispatch(Object(rh.a)({cardId:e})));case 5:n=t.getState(),r=Object(cc.a)(n,e);case 7:if(r){d.next=9;break}return d.abrupt("return",Promise.resolve({}));case 9:if(!(i=Jh[e])){d.next=12;break}return d.abrupt("return",Promise.resolve(i));case 12:return a=ef(n,r),Zh[e]=a,d.next=16,de.a.awrap(a);case 16:return o=d.sent,s=o[0],c=o[1],s&&s.length?(l=s,u=!1):c&&(l=c,u=!0),Zh[e]=void 0,Jh[e]={data:l,isBehaviour:u},d.abrupt("return",{data:l,isBehaviour:u});case 23:case"end":return d.stop()}}))})),of=n("o4LV");n("wqE4"),n("jmcv"),n("T28/"),n("bReC");var sf=(nf=Object(et.a)(),rf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={adverts:[],isBehaviour:!1,isWarningExpanded:!1,isLoading:t.props.shouldFetchAdv},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.shouldFetchAdv&&this.fetchData().catch((function(e){return console.log(e)}))},n.componentDidUpdate=function(e){e.cardId!==this.props.cardId&&this.props.shouldFetchAdv&&(this.setState({adverts:[]}),this.fetchData().catch((function(e){return console.log(e)})));var t=this.state.adverts;if(t&&t.length){var n=t[0];if(this.shouldSendShowCounter(n)){var r=n.link_head,i=n.link_tail;fetch(r+i,{credentials:"include",mode:"cors"}).catch((function(e){return console.error(e)}))}}},n.fetchData=function(){var e,t,n,r;return de.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props.cardId,this.setState({isLoading:!0}),i.next=4,de.a.awrap(this.props.dispatch(af(e)));case 4:t=i.sent,n=t.data,r=t.isBehaviour,this.setState({adverts:n,isBehaviour:r,isLoading:!1});case 8:case"end":return i.stop()}}),null,this)},n.toggleWarning=function(){this.setState((function(e){return{isWarningExpanded:!e.isWarningExpanded}}))},n.shouldShowAdvert=function(e){var t=this.props,n=t.advType,r=(t.isMobileAdvertsExp,this.state.isBehaviour);return!!e&&!("context"===n&&!r||"search"===n&&r)},n.shouldSendShowCounter=function(e){return this.props.isCardOpen&&this.shouldShowAdvert(e)},n.createSiteLinks=function(e,t){var n=function(e){return e&&e.url&&e.title?er.createElement("a",{className:"link direct-snippet__sitelinks-column-item",href:e.url,target:"_blank","data-c":Oe.c.clickDirect(t),"data-disable-counters":"1"},e.title):null},r=function(e){var t=e[0],r=e[1],i=n(t),a=n(r);return i||a?er.createElement("div",{className:"direct-snippet__sitelinks-column"},i,a):null},i=r(e.siteLinks.slice(0,2)),a=r(e.siteLinks.slice(2,4)),o=this.props,s=o.isAsideViewerAdv,c=o.desktopViewerDirectStyleExp,u=Object(Yn.a)("direct-snippet__sitelinks",{black:s&&"black-sitelinks"===c,gray:s&&"gray-sitelinks"===c});return i||a?er.createElement("div",{className:u},i,a):null},n.render=function(){var e=this.props,t=e.mods,n=e.loc,r=e.greyLink,i=e.thinLink,a=e.boldTitle,o=(e.shouldFetchAdv,e.isOnContestCard),s=e.isAsideViewerAdv,c=e.desktopViewerDirectStyleExp,u=e.desktopViewerShowSitelinksExp,l=e.className,d=this.state,h=d.adverts,f=d.isBehaviour,p=d.isWarningExpanded,b=(d.isLoading,h&&h[0]);if(!this.shouldShowAdvert(b))return null;t=se()({},t,{behaviour:f});var m=se()({},this.props.counter,{loc:n}),v=Object(Yn.a)("link",{color:r?"grey":"green",weight:i?"normal":"bold"}),g=Object(Yn.a)("direct-snippet__title",{bold:a,black:s&&"black-title"===c}),O=b.warning&&b.warning.length>44,_=p||!O?b.warning:b.warning&&b.warning.slice(0,44)+"…",y=Object(Yn.a)("direct-snippet__warning",{expanded:p,clickable:O});return er.createElement("div",{className:Object(Yn.a)("direct-snippet",se()({},t,{contest:o,"aside-with-rtb":s}),l)},er.createElement("a",{className:"link "+g,href:b.url,target:"_blank",tabIndex:0,"data-c":Oe.c.clickDirect(m),"data-disable-counters":"1"},b.title),!1,er.createElement("a",{className:v+" direct-snippet__greenurl",href:b.url,target:"_blank",tabIndex:0,"data-c":Oe.c.clickDirect(m),"data-disable-counters":"1"},b.domain),er.createElement("div",{className:"direct-snippet__adv-label"},of.label()),er.createElement("div",{className:"direct-snippet__text"},b.text),b.age&&er.createElement("div",{className:"direct-snippet__age"},b.age),b.warning&&er.createElement("div",{onClick:this.toggleWarning,className:y},_),s&&b.phoneNumber&&er.createElement("div",{className:"direct-snippet__phone"},er.createElement("span",{className:"direct-snippet__phone__label"},of.contacts()),er.createElement("span",{className:"direct-snippet__phone__number"},b.phoneNumber)),s&&u&&this.createSiteLinks(b,m))},t}(er.Component),C()(rf.prototype,"toggleWarning",[nf],Object.getOwnPropertyDescriptor(rf.prototype,"toggleWarning"),rf.prototype),rf),cf=Object(tr.b)((function(e,t){var n,r=t.cardId,i=Object(cc.a)(e,r),a=Object(S.a)(e),o=Boolean(!1),s=Object(Ze.a)(e,ye.d.COLLECTIONS_DESKTOP_VIEWER_DIRECT_STYLE),c=Boolean(Object(Ze.a)(e,ye.d.COLLECTIONS_DESKTOP_VIEWER_DIRECT_SHOW_SITELINKS));if(i){var u=Wh(i);n=Boolean(Object(zh.a)(i)||u&&u.length)}return{isMobileAdvertsExp:o,isOnContestCard:n,shouldFetchAdv:!0,isCardOpen:Boolean(a&&a.id===r),desktopViewerDirectStyleExp:s,desktopViewerShowSitelinksExp:c}}))(sf),uf=function(e){var t=e.cardId,n=e.advType,r=e.className,i=Object(hc.a)(t),a=Ou(i),o=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV),s=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_ADV_GREY_LINK),c=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_ADV_THIN_LINK),u=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_ADV_BOLD_TITLE),l=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_NEW_ADV);return a?er.createElement("div",{className:Object(xs.a)("cl-viewer-sidebar-direct",{},r)},er.createElement(cf,{cardId:t,loc:"cardPopup",advType:n,greyLink:s||o,thinLink:c||o,boldTitle:u||o,mods:{layout:!0,theme:"clear",visible:"yes",new_layout:l},isAsideViewerAdv:!0})):null},lf=n("Qe1c"),df=n("tvS1"),hf=n("ruzH"),ff=Object(zt.a)((function(e,t){var n,r,i;return de.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.cardId,r=e.counter,(i=t.dispatch)(Object(hf.a)({url:Object(g.j)(n),filter:["cardLikes"],dataOnly:!0})),i(Object(_n.a)({type:rr.c.CARD_LIKES,options:{cardId:n,stateKey:"cardLikes",counter:r}}));case 5:case"end":return a.stop()}}))})),pf=Object(zt.a)((function(e,t){var n,r,i;return de.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.cardId,r=e.counter,(i=t.dispatch)(Object(hf.a)({url:Object(g.l)(n),filter:["cardShares"],dataOnly:!0})),i(Object(_n.a)({type:rr.c.CARD_SHARES,options:{cardId:n,stateKey:"cardShares",counter:r}}));case 5:case"end":return a.stop()}}))})),bf=n("+2Et"),mf=(n("bNMp"),function(e){var t=e.cardId,n=e.className,r=Object(hc.a)(t),i=Object(pc.useDispatch)(),a=Object(bc.a)();if(!r)return null;var o=[{title:bf.shares,mod:"shares",count:Object(df.a)(r)||0,onClick:function(){i(pf({cardId:t,counter:a}))}},{title:bf.likes,mod:"likes",count:Object(lf.a)(r)||0,onClick:function(){i(ff({cardId:t,counter:a}))}}];return er.createElement("div",{className:Object(xs.a)("cl-viewer-stats",{},n)},o.map((function(e){var t,n=e.title,r=e.mod,i=e.count,a=e.onClick;return er.createElement("div",{key:r,title:n({count:i}),className:Object(xs.a)("cl-viewer-stats__item",(t={},t[r]=!0,t)),onClick:i>0?a:void 0},er.createElement("span",{className:Object(xs.a)("cl-viewer-stats__value",{disable:!i})},i))})))}),vf=n("gh0E"),gf=function(e){var t=e.href,n=e.counter,r=e.title,i=e.description,a=e.className;return er.createElement("div",{className:Object(xs.a)("contest",{card:!0},a)},er.createElement("span",{className:"contest__icon"}),er.createElement("h4",{className:"contest__title"},er.createElement("a",{href:t,className:"link","data-c":n},r)),er.createElement("div",{className:"contest__desc"},i))},Of=n("qFDn"),_f=Object(tr.a)((function(e,t){return{card:Object(cc.a)(e,t.cardId)}}))((function(e){var t=e.card,n=e.className,r=Object(bc.a)();if(!t)return null;var i=Object(vf.a)(Object(zh.a)(t)),a=Wh(t);return er.createElement(er.Fragment,null,i&&er.createElement(gf,{className:n,href:Object(g.p)(),counter:Oe.c.clickCardContestLink(r),title:Of.photoDailyTitle(),description:Of.photoDailyDescription({date:i})}),a&&a.map((function(e){return er.createElement(gf,{className:n,key:e.slug,href:Object(g.n)(e.slug),counter:Oe.c.clickCardContestLink(r),title:e.title,description:e.place?Of.participantFinished({place:e.place}):Of.participantCurrent()})})))})),yf=n("ulRV"),Cf=(n("wqkE"),function(e){var t,n=e.cardId,r=Object(Ic.a)(ye.d.DESKTOP_CARD_DIRECT_POSITION),i=Object(Ic.a)(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV),a=Object(hc.a)(n),o=Object(gc.a)(nu.a,n),s=Object(gc.a)(Fu.a,n),c=Object(w.a)(o),u=(Object(Vu.a)(a)||"").trim(),l=Object(Yu.a)(a),d=2===r;return Object(Ku.a)(a)&&(u=""),er.createElement("div",{className:"cl-viewer-sidebar"},Boolean(i&&d)&&er.createElement(uf,{className:"cl-viewer-sidebar__direct",cardId:n,advType:"search"}),Boolean(!i&&1===r)&&er.createElement(uf,{className:"cl-viewer-sidebar__direct",cardId:n,advType:"any"}),er.createElement(Bd.a,{mod:"layout",size:"M",cardId:n,showSource:!1}),c&&er.createElement("div",{className:"cl-viewer-sidebar__head"},er.createElement(Fh.a,{userId:c,boardId:Object(w.a)(s),className:"cl-viewer-sidebar__person"}),er.createElement(Bh.a,{cardId:n,className:"cl-viewer-sidebar__kebab cl-viewer-sidebar__kebab_head",disableBulk:!0})),l&&er.createElement(Hh,{className:"cl-viewer-sidebar__series",cardId:n}),u&&er.createElement("div",{className:"cl-viewer-sidebar__desc"},er.createElement(Uh,{className:"cl-viewer-sidebar__desc-text",resetId:n},Object(Ju.a)(u))),c&&er.createElement("time",{className:"cl-viewer-sidebar__desc-date"},Xu(a)&&yf.loaded()+" ",(t=zu(a))?new Uu.a(t).fromNow(!0,{forbidNegative:!0}):""),er.createElement(mf,{cardId:n,className:"cl-viewer-sidebar__stats"}),er.createElement(_f,{cardId:n,className:"cl-viewer-sidebar__contests"}),Boolean(!c)&&er.createElement(Bh.a,{cardId:n,className:"cl-viewer-sidebar__kebab cl-viewer-sidebar__kebab_body",disableBulk:!0}),er.createElement(Pd,{card:a,className:"cl-viewer-sidebar__extension"}),i&&er.createElement(Lc,{cardId:n,rtbBlockId:i,type:"aside",className:"cl-viewer-rtb_aside"}),er.createElement(Ih,{cardId:n,className:"cl-viewer-sidebar__controls"}),Boolean(d&&!i)&&er.createElement(uf,{className:"cl-viewer-sidebar__direct",cardId:n,advType:"search"}),er.createElement("div",{className:"cl-viewer-sidebar__comments"},er.createElement(Fd,null),er.createElement(Ph,{cardId:n})),er.createElement(uf,{className:"cl-viewer-sidebar__direct",cardId:n,advType:"context"}))});n("MAhU"),n("U/pB");var Ef,jf,Sf,wf,kf=Object(tr.a)((function(e,t){var n=Object(It.a)(e),r=n.stateKey,i=Zs(e,t.cardId,r);return{stateKey:r,leftId:i[0],rightId:i[1],isVoting:n.isVoting}}))((function(e){var t=e.leftId,n=e.rightId,r=e.stateKey,i=e.isVoting,a=e.dispatch,o=Object(bc.a)(),s=_c();return i||!t&&!n?null:er.createElement("div",{className:"cl-viewer-navigate"},t&&er.createElement("div",{className:"cl-viewer-navigate__item cl-viewer-navigate__item_left",onClick:function(){return a(Object(Rt.b)({stateKey:r,cardId:t,counter:se()({},o,{type:"arrow",dir:"prev"})}))}}),n&&er.createElement("div",{style:{right:s?s+"px":void 0},className:"cl-viewer-navigate__item cl-viewer-navigate__item_right",onClick:function(){return a(Object(Rt.b)({stateKey:r,cardId:n,counter:se()({},o,{type:"arrow",dir:"next"})}))}}))})),If=(n("k7Yw"),function(e){var t=e.cardId,n=Object(hc.a)(t),r=er.useState(!1),i=r[0],a=r[1];if(!n||!t)return null;var o=Boolean(uc(n)||Object(lc.a)(n)&&!dc(n));return er.createElement(Ai.a,{cardId:t},er.createElement("div",{className:Object(xs.a)("cl-viewer",{banned:o})},er.createElement(kf,{cardId:t}),er.createElement(Cc,null),er.createElement("div",{className:Object(xs.a)("cl-viewer__layout",{zoomed:i})},er.createElement("div",{className:"cl-viewer__ilayout"},!o&&er.createElement(Cf,{cardId:t}),er.createElement(ou,{cardId:t,onZoomChange:a}))),!o&&er.createElement(Mu,{cardId:t})),!o&&er.createElement(er.Fragment,null,er.createElement(fc.a,{schema:void 0}),er.createElement(fc.a,{schema:void 0})))});n("z+qP");var Tf,Rf,Lf=(Ef=Object(et.a)(),jf=Object(et.a)(),Sf=Object(et.a)(),wf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isHardHidden:!t.props.cardId,isSoftHidden:!t.props.cardId},t.queue=[],t.targetHidden=t.state.isHardHidden,t.loaded=new Set,t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.checkUpdate()},n.componentDidUpdate=function(e){var t=this.queue;if(this.queue=[],t.forEach((function(e){return e()})),e.cardId!==this.props.cardId){var n=Boolean(this.props.cardId);if(this.state.isHardHidden===n)n?this.show():this.hide();else if(!this.state.isHardHidden){var r=document.querySelector(".cl-viewer");r&&(r.scrollTop=0);var i=document.querySelector(".cl-viewer-sidebar");i&&(i.scrollTop=0)}}!0===this.props.close&&this.hide(),this.preloadUrl(this.props.leftUrl),this.preloadUrl(this.props.rightUrl),this.checkUpdate()},n.render=function(){var e=this.props,t=e.cardId,n=e.isVoting,r=this.state,i=r.isHardHidden;return r.isSoftHidden,i?null:er.createElement(Ai.a,{loc:"viewer"},er.createElement(If,{cardId:t}),er.createElement(sc.a,{keyCode:fe.x.ESCAPE,callback:this.close}),!n&&er.createElement(er.Fragment,null,er.createElement(sc.a,{keyCode:fe.x.LEFT,callback:this.prev}),er.createElement(sc.a,{keyCode:fe.x.RIGHT,callback:this.next})))},n.close=function(){return this.props.dispatch(Object(Tt.a)({})),!1},n.prev=function(){return this.open(this.props.leftId),!1},n.next=function(){return this.open(this.props.rightId),!1},n.show=function(){return de.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.a.awrap(this.updateAndWaitUpdate({isHardHidden:!1}));case 2:if(this.targetHidden){e.next=4;break}return e.abrupt("return");case 4:this.targetHidden=!1,this.props.dispatch(Object(wi.a)(!0)),Cr(document.body,"cl-viewer-body"),this.setState({isSoftHidden:!1});case 8:case"end":return e.stop()}}),null,this)},n.hide=function(){this.targetHidden||(this.targetHidden=!0,Er(document.body,"cl-viewer-body"),this.props.dispatch(Object(Tt.a)({unsetCard:!0,skipNavigate:!0,skipStack:!0})),this.setState({isSoftHidden:!0,isHardHidden:!0}),this.props.dispatch(Object(wi.a)(!1)))},n.open=function(e){e&&this.props.dispatch(Object(Rt.b)({cardId:e,stateKey:this.props.stateKey}))},n.updateAndWaitUpdate=function(e){var t=this;return new Promise((function(n){t.queue.push(n),t.setState(e)}))},n.preloadUrl=function(e){e&&!this.loaded.has(e)&&(this.loaded.add(e),Object(Ao.a)(e,{timeout:6e4}).catch((function(){})))},n.checkUpdate=function(){var e=this.props,t=e.rightId,n=e.isLoaded,r=e.stateKey,i=e.isVoting,a=e.dispatch;t||n||!r||a(i?Object(oc.a)({next:!0}):Object(ac.a)({storeKey:r}))},t}(er.Component),C()(wf.prototype,"close",[Ef],Object.getOwnPropertyDescriptor(wf.prototype,"close"),wf.prototype),C()(wf.prototype,"prev",[jf],Object.getOwnPropertyDescriptor(wf.prototype,"prev"),wf.prototype),C()(wf.prototype,"next",[Sf],Object.getOwnPropertyDescriptor(wf.prototype,"next"),wf.prototype),wf),xf=Object(tr.b)((function(e){var t=Object(It.a)(e),n=t.stateKey,r=Object(w.a)(Object(S.a)(e)),i=Zs(e,r,n),a=i[0],o=i[1];return{cardId:r,leftId:a,rightId:o,stateKey:t.stateKey,close:t.close,isVoting:t.isVoting,leftUrl:rc(e,a),rightUrl:rc(e,o),isLoaded:Object(Qs.a)(e,n)}}))(Lf),Df=n("8yzE"),Nf=function(e){var t=this,n=function(e){return[(t&&t.isRestored?zn.er:zn.e)("a","cl-layout__nav__arrow "+(e.href?"":"cl-layout__nav_hidden"),{href:e.href,title:e.title,"data-navigate":"false"},[])]},r=function(e){return[(t&&t.isRestored?zn.er:zn.e).d(Object(zn.j)(["cl-layout__nav__",e.type]),{"data-e2e":Object(zn.j)(["NavLink.",e.type])},[n.call(t,{href:e.href,title:e.title})])]};return(t&&t.isRestored?zn.fr:zn.f)([r.call(t,{href:e.leftCardUrl,type:"left",title:"Previous"})," ",r.call(t,{href:e.rightCardUrl,type:"right",title:"Next"})])},Af=n("u3Je"),Pf=n("GFr9"),Bf=(Tf=Object(j.a)(),Rf=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onRender=function(){var e=this;if(this.model.shouldShowNav()){var t={leading:!0,trailing:!1};Object(Df.c)(this,Df.a.LEFT,Object(Et.debounce)((function(t,n){return e.onLeft(n)}),100,t),{priority:10}),Object(Df.c)(this,Df.a.RIGHT,Object(Et.debounce)((function(t,n){return e.onRight(n)}),100,t),{priority:10}),this.checkNav()}var n=this.getEnv().getScrollWidth();this.ui.navRight.css({marginRight:n})},n.onCardChange=function(){var e=this;if(!this.isDestroyed){var t=this.model.getCard();t&&(this.model.getArrowCards().then((function(n){e.model.getCard()===t&&e.setArrows(n)})),this.checkNav())}},n.promise=function(){var e=this;if(this.model.hasPageableCards())return this.model.getArrowCards().then((function(t){return e.setArrows(t)}))},n.setArrows=function(e){var t=e.left,n=e.right;this.model.shouldShowNav()&&(this.leftCard=t,this.rightCard=n,this.prepareArrow(this.ui.arrowLeft,t),this.prepareArrow(this.ui.arrowRight,n))},n.prepareArrow=function(e,t){this.isIntact()&&(t?(Object(Ao.a)(t.getFirstImageURL({size:"s1200"}),{timeout:0}),e.removeClass("cl-layout__nav_hidden"),e.attr("href",this.model.getRouterState().getCardURL(t))):e.addClass("cl-layout__nav_hidden"))},n.checkNav=function(){this.model.shouldShowNav()&&this.$el.toggleClass("cl-layout__nav_hidden",!this.model.hasPageableCards())},n.onLeft=function(e){var t=this.getEnv().reduxState.getState();Object(Pf.a)(e)||this.model.isCardEdited()||Object(Af.a)(t)||(e&&e.preventDefault&&e.preventDefault(),this.model.previousCard())},n.onRight=function(e){var t=this.getEnv().reduxState.getState();Object(Pf.a)(e)||this.model.isCardEdited()||Object(Af.a)(t)||(e&&e.preventDefault&&e.preventDefault(),this.model.nextCard())},n.serializeData=function(){var e=this.model.getRouterState(),t=this.leftCard,n=this.rightCard;return{leftCardUrl:t&&e.getCardURL(t),rightCardUrl:n&&e.getCardURL(n),leftContent:t&&t.getImageContent(),rightContent:n&&n.getImageContent()}},t}(E.c),C()(Rf.prototype,"onCardChange",[Tf],Object.getOwnPropertyDescriptor(Rf.prototype,"onCardChange"),Rf.prototype),Rf);Object(v.a)({template:i,className:"cl-layout__nav",ui:{arrowLeft:".cl-layout__nav__left a",arrowRight:".cl-layout__nav__right a",navRight:".cl-layout__nav__right"},events:{"click @ui.arrowLeft":"onLeft","click @ui.arrowRight":"onRight"},modelEvents:{"change:cards":"checkNav","change:card":"onCardChange"}})(Bf);var Mf=n("SQy1"),Uf=n("spzH"),Ff=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this.cardState=this.view.options.model,Object(Df.c)(this.view,Df.a.ESCAPE,this.onCardPopupClose.bind(this),{priority:this.options.priority})},n.onCardPopupClose=function(){if(this.view.isIntact()){if(!this.view.model.isCardTouched())return this.onCardClose(),!1;this.showConfirmPopup()}if(this.options.stopPropogation)return!1},n.onCardSave=function(){var e=this;this.view.model.saveCard().then((function(){return e.onCardClose()}))},n.onCardClose=function(){this.options.closeMethod?this.view[this.options.closeMethod]():this.cardState.hasCard()&&this.view.model.closeCard()},n.showConfirmPopup=function(){var e=this.env;Mf.a.show({title:e.translate(Uf.title),buttons:[{label:e.translate(Uf.yes),model:this,method:"onCardSave",type:"action"},{label:e.translate(Uf.no),model:this,method:"onCardClose"}]})},t}(E.a);Object(v.a)({priority:10})(Ff);var Vf=function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t}(Kn.a);Object(v.a)({options:se()({},Kn.a.prototype.options,{method:"save",loadingClass:"button_load",preventDefault:!0,stopPropagation:!1})})(Vf);var Hf=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this.listenTo(this.cardPopupState,{"change:card":this.onCardChange,"open:card":this.onOpenCard})},n.onRender=function(){if(this.model.hasCard()){var e=this.env.getScrollWidth();this.$el.css({marginRight:e}),this.$el.toggleClass("cl-layout__close_offset",!0)}},n.onZoomChange=function(){},n.onClose=function(){this.triggerMethod("cardPopupClose")},n.onOut=function(e){var t=e.sqFactor;this.setOpacity(t)},n.onOutEnd=function(e){e||this.setOpacity("")},n.setOpacity=function(e){this.el&&(this.el.style.opacity=e)},n.onCardChange=function(e,t){t&&this.setOpacity("")},n.onOpenCard=function(){this.setOpacity("")},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([r(Vf,{title:"Close",model:this,method:"onClose",class:"button_layout-close",size:"L",icon:n("wzV+"),"icon-only":!0,type:"clear",stopPropagation:!0,"data-e2e":"CardPopupClose.button"},this)])},className:"cl-layout__close",modelEvents:{"change:cardZoomed":"onZoomChange"},behaviors:{ViewCardPopupClose:{behaviorClass:Ff}}})(Hf);var Wf=n("Hnsh"),zf=Object(nt.a)((function(e,t){var n=t.cardId;return Object(Nr.a)(e,{commentsCardId:n})})),Kf=(n("pDeR"),function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t.prototype.serializeData=function(){var e=this.options,t=e.cardState;return{advType:e.advType,cardId:t.getCard().id}},t}(E.c));Object(v.a)({template:function(e){return(this&&this.isRestored?zn.fr:zn.f)([Object(zr.react)(Object(zr.renderView)(cf,{mods:{layout:!0,theme:"clear",visible:"yes",new_layout:Xs(ye.d.COLLECTIONS_DESKTOP_NEW_ADV,{hash:{},data:{view:this}})},advType:e.advType,isAsideViewerAdv:!0,cardId:e.cardId,loc:this.options.loc,greyLink:Xs(ye.d.COLLECTIONS_DESKTOP_ADV_GREY_LINK,{hash:{},data:{view:this}})||Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV,{hash:{},data:{view:this}}),thinLink:Xs(ye.d.COLLECTIONS_DESKTOP_ADV_THIN_LINK,{hash:{},data:{view:this}})||Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV,{hash:{},data:{view:this}}),boldTitle:Xs(ye.d.COLLECTIONS_DESKTOP_ADV_BOLD_TITLE,{hash:{},data:{view:this}})||Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV,{hash:{},data:{view:this}})},this),this)])},className:"cl-layout__side-direct"})(Kf);var Yf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderCounter=0,t.previousState=!1,t}m()(t,e);var n=t.prototype;return n.ui=function(){return{linkExpand:this.options.expandButton,text:this.options.textContainer,textWrapper:this.options.textContainerWrapper,expandTextContainer:this.options.expandTextContainer}},n.toggleStateExpanded=function(){this._stateExpanded=!this._stateExpanded},n.onRender=function(){var e=this;if(this.renderCounter++,this.renderCounter>1){var t=this._stateExpanded;this.toggleComment(this.previousState),t&&this.expandLink()}this.view.deferToAttach((function(){e.toggleComment(e.isCommentLong())}))},n.toggleComment=function(e){this.previousState=e,e?(this.ui.linkExpand.removeClass("hidden"),this.ui.text.addClass(this.options.textShortClass),this.options.textContainerWrapper&&this.ui.textWrapper.addClass(this.options.textContainerWrapperShortClass),this._stateExpanded=!1):(this.ui.text.removeClass(this.options.textShortClass),this.options.textContainerWrapper&&this.ui.textWrapper.removeClass(this.options.textContainerWrapperShortClass))},n.onClickExpand=function(){this.isCommentLong()&&this.expandLink()},n.expandLink=function(){if(this.toggleStateExpanded(),this.ui.text.toggleClass(this.options.textShortClass,!this._stateExpanded),this.options.textContainerWrapper&&this.ui.textWrapper.toggleClass(this.options.textContainerWrapperShortClass,!this._stateExpanded),this.ui.expandTextContainer&&this.ui.expandTextContainer.size()){var e=this.view.getEnv(),t=this._stateExpanded?this.options.minimizeText:this.options.expandText;this.ui.expandTextContainer.text(e.translate(t))}},n.onMaybeExpand=function(){this.options.expandOnTextClick&&this.onClickExpand()},n.isCommentLong=function(){var e=this.view.options,t=e.dynamic,n=e.dynamicPadding,r=void 0===n?0:n,i=this.ui.text,a=0;if(t&&i[0]){var o=i.clone(),s=r+"px";o.removeClass(this.options.textShortClass),o.css({visibility:"hidden",position:"absolute",paddingLeft:s,paddingRight:s,wordBreak:"break-all"});var c=o[0];document.body.appendChild(c),a=c.clientHeight||c.offsetHeight,document.body.removeChild(c)}else a=i[0]&&i[0].scrollHeight;return a>(this.options.textMaxHeight||100)},t}(E.a);Object(v.a)({events:{"click @ui.linkExpand":"onClickExpand","click @ui.text":"onMaybeExpand"}})(Yf);var qf=n("o2E8"),Gf=n("pryo");function Xf(e){return t=e.get("date"),Object(vf.a)(t);var t}function Jf(e,t){if(!t)return e;for(var n=t.split("."),r=e;n.length>0&&r;){var i=n.shift();r=Object(he.isFunction)(r[i])?r[i]():Object(he.isFunction)(r.get)?r.get(i):r[i]}return r}var Zf=n("AnPS"),Qf=n("K7k/");function $f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Zf.a.apply(void 0,t),i=t.pop().data.view;if(i){var a=i.getEnv();Object(mn.a)(a)&&(r=Object(Qf.a)(r))}return r}var ep=n("hDul"),tp=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n.d("person__avatar",{},[e.static?[n("span","person__avatar__img",{style:Object(zn.j)(["background-image: url(",Object(ep.a)(e.user,{hash:{size:e.size,isCompany:e.isCompany}}),");"]),title:e.user.display_name},[])]:[n("a","",Object(zn.assign)({href:function(e){return Jf(e.user,"is_restricted")?[$f.call(e,"myProfile",{hash:{},data:{view:this}})]:[$f.call(e,"profile",e.routeParams,{hash:{login:Jf(e.user,"login")},data:{view:this}})]}.call(this,{user:e.user,routeParams:e.routeParams}),class:"person__avatar__img",style:Object(zn.j)(["background-image: url(",Object(ep.a)(e.user,{hash:{size:e.size,isCompany:e.isCompany}}),");"]),title:e.user.display_name},e.target?{target:e.target}:{},e.counter?{"data-c":e.counter}:{}),[])]," ",e.user.is_verified||e.user.attributes&&e.user.attributes.is_verified?[n("span",Object(zn.j)(["verified verified_size_",e.verifiedSize?e.verifiedSize:"M"]),{title:"Verified user"},[])]:[]])])},np=n("LYw3"),rp=n("SUYq"),ip=n("6Xmf"),ap=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n.d("person__user"+(e.inline?" person__user_inline":"")+(e.sep?" person__user_sep":""),{},[n(e.link?"a":"span","",Object(zn.assign)({class:"user-login"},e.link?e.is_restricted?{href:$f.call(e,"myProfile",{hash:{},data:{view:this}})}:{href:$f.call(e,"profile",{hash:{login:e.login},data:{view:this}})}:{},e.link&&e.target?{target:e.target}:{},e.loc?{"data-c":Object(ip.a)("clickUser",{hash:{userLogin:e.login,loc:e.loc}})}:{"data-c":Object(ip.a)("clickUser",{hash:{userLogin:e.login}})}),[e.display_name,e.showComma?[", "]:[]])])])},op=n("TOCp"),sp=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options.cardState;this.listenTo(e,"change:selectedSeriesContent",this.onSelectionChange)},n.onRender=function(){this.onSelectionChange()},n.onClick=function(){this.isLoading()||this.options.cardState.setSelectedSeriesContent(this.model)},n.onChangeImage=function(){this.thumb||this.safeRender()},n.onSelectionChange=function(){var e=this.options.cardState.getSelectedSeriesContent(),t=Boolean(e&&e.id===this.model.id);this.$el.toggleClass("cl-layout__series__item_cur",t)},n.serializeData=function(){return{description:this.options.card.getDescription(),thumbUrl:this.getThumb()}},n.isLoading=function(){return Boolean(!this.model.getContent()&&!this.model.getFallbackUrl())},n.getThumb=function(){return this.thumb?this.thumb:this.thumb=this.model.getThumbUrl()||this.model.getImageURL({size:"smart130"})||this.model.getSource().getUrl()},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([n.d("image image_layout-series",{},e.thumbUrl?[Object(op.a)({hash:{url:e.thumbUrl,alt:e.description,className:"image__wrap",imageClass:"image__image"},data:{view:this}})]:[n.d("image__spinner",{},[r(ki.a,{size:"M"},this)])])])},className:"cl-layout__series__item",modelEvents:{"sync change:content change:_fallbackUrl":"onChangeImage"},events:{click:"onClick"}})(sp);var cp=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.className=function(){return this.options.add?"cl-layout__series cl-layout__series_edit":"cl-layout__series"},n.initialize=function(){var e=this.options,t=e.card,n=e.cardState;this.collection=t.getContent(),this.listenTo(n,"change:selectedSeriesContent",this.onSelectionChange)},n.childViewOptions=function(){var e=this.options;return{card:e.card,cardState:e.cardState}},n.onRender=function(){this.updateShort(),this.options.open?this.toggleShort():this.toggleShort(this.isShort())},n.toggleShort=function(e){void 0===e&&(e=!1),this.$el.toggleClass("cl-layout__series_short",e)},n.isShort=function(){return this.collection.length>4},n.getShort=function(){return this.collection.length-4},n.updateShort=function(){this.isShort()&&this.ui.overlayText.text("+"+this.getShort())},n.onSelectionChange=function(){this.options.cardState.getSelectedSeriesContent()&&this.ui.itemAdd.removeClass("cl-layout__series__item_cur")},n.onExpand=function(){this.toggleShort()},n.onAdd=function(){this.options.cardState.setSelectedSeriesContent(null),this.ui.itemAdd.addClass("cl-layout__series__item_cur")},n.serializeData=function(){return{disableEdit:this.options.card.isSeriesDisabled()}},t}(n("P/0C").a);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n.d("cl-layout__series__trigger",{},[n("span","cl-layout__series__val",{},[])])," ",n.d("cl-layout__series__wrap",{},[]),this.options.add&&!e.disableEdit?[n("span","cl-layout__series__item cl-layout__series__item_add",{title:"Add image to gallery"},[])]:[]])},childView:sp,childViewContainer:".cl-layout__series__wrap",ui:{overlay:".cl-layout__series__trigger",overlayText:".cl-layout__series__val",itemAdd:".cl-layout__series__item_add"},triggers:{"click @ui.overlay":"expand","click @ui.itemAdd":"add"},collectionEvents:{"add remove reset":"updateShort"}})(cp);var up=n("Ahwa"),lp=function(e){var t,n=this&&this.isRestored,r=n?zn.er:zn.e;return(n?zn.fr:zn.f)([r("a","",Object(zn.assign)({href:e.href,"data-href":(t=e.href,Object(bn.b)(t))},e.target?{target:e.target}:{"data-navigate":"false"},{rel:"nofollow noopener","data-c":e.counter,class:e.class}),[up.a.call(e,{data:{view:this}})])])};function dp(e){var t=e.fn,n=e.hash,r=e.data.view,i=Object.assign({target:"_blank"},n,{content:t?t.call(r,this):""});return lp.call(r,i)}var hp=n("PExD"),fp=function(e){return(this&&this.isRestored?zn.fr:zn.f)([e.values])},pp=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n("br","",{},[])])},bp=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n("a","link",{href:e.url},[e.text])])},mp="link";function vp(e,t){var n=this;void 0===t&&(t={});var r=[],i=t.hash||{},a=!i.noLinks;e=Object(hp.b)(e);var o=function(e){return"≤P"+(r.push(e)-1)+"≥"};if(a&&(e=(e=(e=e.replace(/(^|[^&/a-zа-яё0-9_])(#[a-zа-яё0-9_]*[a-zа-яё][a-zа-яё0-9_]*)/gi,(function(e,r,i){var a=Zf.a.call(n,"search",{data:t.data,hash:{text:i}});return i.match(/^#x[a-f0-9]{2}$/)?e:r+o(bp({url:a,text:i}))}))).replace(/(^|\s)@([a-z0-9.@-]+)/g,(function(e,n,r){var i=Zf.a.call(this,"profile",{data:t.data,hash:{login:r}});return n+o(bp({url:i,text:"@"+r}))}))).replace(/https?:\/\/((?:[а-яё\w\.-]+)\.(?:[а-яёa-z]{2,6})\S*)/gi,(function(e,n){return o(dp.call(this,{data:t.data,fn:function(){return n},hash:{href:e,class:mp,counter:i.counter}}))}))),e=e.trim().replace(/<\/(div|p|span)>/gi,"\n").replace(/<(div|p|span)>/gi,"").replace(/\n\s*\n/g,(function(){return o(pp())+o(pp())})).replace(/\n/g,(function(){return o(pp())})),r.length){var s=e.match(/(≤([^≥]+)≥|([^≤≥]+))/g).map((function(e){return"≤P"===e.slice(0,2)?r[e.slice(2,-1)]:e}));return fp.call(t.data.view,{values:s})}return e}function gp(e,t){t||(t=e,e=void 0);var n=t.data.view,r=t.hash,i=r.fromNow,a=r.format;if(!n)throw new Error("Cannot find translate adapter");var o=n.getEnv();if(!o)throw new Error("Cannot find env");return function(e,t,n){void 0===n&&(n={});var r=new Uu.a(e);if(n.fromNow){var i=new Uu.a;return(i.diff(r)<0?i:r).fromNow(!0,{locale:t})}return r.format(n.format||"",{locale:t})}(e,o.language,{fromNow:i,format:a})}var Op,_p,yp=(Op=Object(j.a)(),_p=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.events=function(){return{"click @ui.share":"onUsersSharedList","click @ui.fav":"onUsersLikedList"}},n.safeRender=function(){this.isIntact()&&this.model.getCard()&&this.render()},n.onUsersSharedList=function(){var e=this.model.getCard();this.env.dispatch(pf({cardId:e.id,counter:{}}))},n.onUsersLikedList=function(){var e=this.model.getCard();this.env.dispatch(ff({cardId:e.id,counter:{}}))},n.serializeData=function(){return{stat:this.model.getCard().getStat()}},t}(E.c),C()(_p.prototype,"safeRender",[Op],Object.getOwnPropertyDescriptor(_p.prototype,"safeRender"),_p.prototype),_p);Object(v.a)({template:function(e){var t=this,n=t&&t.isRestored,r=n?zn.er:zn.e;return(n?zn.fr:zn.f)([r.d("stat stat_layout",{"data-e2e":"CardPopupInfoStat"},[[{mod:"check",count:e.stat.shares_count,title:Object(wa.sharedTitle)({count:e.stat.shares_count})},{mod:"fav",count:e.stat.likes_count,title:Object(wa.likedTitle)({count:e.stat.likes_count})}].map((function(e){var n=t&&t.isRestored?zn.er:zn.e;return n.d(Object(zn.j)(["stat__item stat__item_",e.mod]),{title:e.title},[n("span","stat__val"+(e.count?" stat__val_link":""),{},[e.count])])}))])])},className:"cl-layout__info__stat",ui:{share:".stat__item_check",fav:".stat__item_fav"},modelEvents:{"card:change:stat":"safeRender","change:card":"safeRender"}})(yp);var Cp,Ep,jp=n("Q1O+"),Sp=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([e.date?[n.d(Object(zn.j)(["contest contest_",e.mod]),{},[n("span","contest__icon",{},[])," ",n("h4","contest__title",{},[n("a","link",{href:"/collections/contest/photo-of-the-day/","data-c":Object(ip.a)("clickCardContestLink",{hash:{}})},["Photo of the day"])])," ",n.d("contest__desc",{},["Winner for ",e.date])])]:[]," ",jp.a.call(e,e.contests,{hash:{},data:{view:this},fn:function(t){var n=this&&this.isRestored?zn.er:zn.e;return[n.d(Object(zn.j)(["contest contest_",e.mod]),{},[n("span","contest__icon",{},[])," ",n("h4","contest__title",{},[n("a","link",{href:"/collections/contest/"+encodeURIComponent(t.slug)+"/","data-c":Object(ip.a)("clickCardContestLink",{hash:{}})},[t.title])])," ",n.d("contest__desc",{},t.place?["Contest participant, ",t.place," place"]:["Contest participant"])])]}})])},wp=(Cp=Object(j.a)(300),Ep=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onRender=function(){var e=this.model.getCard();e.isFilled()||e.isSeries()||e.getDescription()||this.getSourcePage()||this.$el.addClass("cl-layout__desc_empty")},n.safeRender=function(){!this.isDestroyed&&this.model.getCard()&&this.render()},n.onEdit=function(){var e=this.model.getCard();this.env.dispatch(Object(Gf.a)({cardId:e.id,type:"edit"}))},n.getSourcePage=function(){var e=this.model.getCard().getSourceMeta(),t=e.page_domain_decoded,n=e.page_url;if(n)return{url:n,domain:t}},n.serializeData=function(){var e=this.env,t=this.model.getCard(),n=t.getBoard(),r=Object(qf.a)(t),i=t.toViewJSON(),a=this.getSourcePage(),o=!0,s=e.currentUser.getLogin(),c=t.getOwner(),u=c?c.getLogin():"",l=c&&c.isCompany(),d=n.getOwner(),h=cl(e,i),f=t.getDescription(),p=se()({},this.cardPopupState&&this.cardPopupState.counterData,{description:f});r===X.a.LINK&&a&&a.url&&!Object(hl.a)(a.url)&&(o=!1);var b=Object(Ku.a)(i);return se()({},i,{card:t,sourceType:r,targetBoard:n,cardState:this.model,isLoadedByUser:t.isLoadedByUser(),commentsCount:t.getCommentsCount(),isPrivate:n.isPrivate(),isOwner:s&&s===u,isSeries:t.isSeries(),isWebSearchSource:t.isWebSearchSource(),webSearchLink:h.url,cardLinkLabel:h.label,isCardVirtual:t.isVirtual(),description:f,contests:t.getContests(),cardDate:Xf(t),boardOwner:d&&{login:d.getLogin()},isValidExternalLink:o,counter:Oe.c.clickLinkExternal(p),isProduct:b,isCompany:l})},t}(E.c),C()(Ep.prototype,"safeRender",[Cp],Object.getOwnPropertyDescriptor(Ep.prototype,"safeRender"),Ep.prototype),Ep);Object(v.a)({template:function(e){var t,n,r,i,a,o,s,c,u,l,d,h,f,p,b,m,v,g,O,_,y,C,E=this&&this.isRestored,j=E?zn.er:zn.e,S=E?zn.ar:zn.a;return(E?zn.fr:zn.f)(e.card?[Object(zr.react)(Object(zr.renderView)(Bd.a,{mod:"layout",size:"M",cardId:e.card.id,showSource:!1},this),this)," ",e.isCardVirtual?[]:[j.d("cl-layout__desc__head",{},[j.d("cl-layout__desc__head__info",{},[j.d("person person_href person_layout",{},[tp.call(this,{user:e.owner,isCompany:e.isCompany,size:"islands-retina-middle",verifiedSize:"M"})," ",j.d("person__i",{},[j.d("person__info",{},e.owner.is_restricted?[j("a","person__info__groups",{href:"/collections/favorites-"+encodeURIComponent(e.sourceType)+"/"},[np.a.call(e,e.sourceType,{hash:{},data:{view:this}})])]:e.boardOwner?[j("a","person__info__groups",{href:"/collections/user/"+encodeURIComponent(e.boardOwner.login)+"/"+encodeURIComponent(e.board.slug)+"/"},[(C=e.targetBoard,function(e){return e?String(e.getTitle()).trim():""}(C))])]:[])," ",(t=e.owner,n={hash:{inline:!0,type:"normal"},data:{view:this}},r=n.hash,i=r.inline,a=void 0!==i&&i,o=r.letter,s=void 0===o||o,c=r.link,u=void 0===c||c,l=r.type,d=void 0===l?"gray":l,h=r.size,f=void 0===h?"M":h,p=r.target,b=r.invert,m=r.shadow,v=r.wrapper,g=r.sep,O=r.loc,_=r.showComma,y=n.data.view,t instanceof rp.a&&(t={login:t.getLogin(),display_name:t.getDisplayName(),is_restricted:t.isRestricted()}),b&&(d="invert"),m&&(v=!0),ap.call(y,Object.assign({},t,{size:f,inline:a,letter:s,view:y,shadow:m,type:d,wrapper:v,link:u,sep:g,target:p,loc:O,showComma:_})))])])])," ",Object(zr.react)(Object(zr.renderView)(Bh.a,{cardId:e.card.id,className:"cl-kebab_top-right",disableBulk:!0},this),this)])]," ",j.d("cl-layout__desc__body"+(e.isSeries?" cl-layout__desc__body_series":""),{},[e.isSeries?[S(cp,{card:e.card,cardState:e.cardState},this)]:[],e.description&&!e.isProduct?[j.d("cl-layout__desc__text cl-layout__desc__text_short",{},[vp(e.description,{hash:{counter:e.counter},data:{view:this}})])," ",j.d("cl-layout__desc__expand hidden",{},[j("span","link link_layout-desc-expand",{"data-c":Object(ip.a)("clickCardExpandDescription",{hash:{cardId:e.card.id}})},["Expand"])])]:[],e.isCardVirtual&&!e.description?[]:[j("p","cl-layout__desc__date",{},e.isCardVirtual?[]:[e.isLoadedByUser?["Uploaded"," "]:[],e.service?[gp(e.service.updated_at,{hash:{fromNow:!0},data:{view:this}})]:[]])],j.d("cl-layout__info__i",{},[S(yp,{model:this.model},this)]),e.contests||e.cardDate?[Sp.call(this,{contests:e.contests,date:e.cardDate,mod:"layout"})]:[],e.isCardVirtual?[Object(zr.react)(Object(zr.renderView)(Bh.a,{cardId:e.card.id,className:"cl-kebab_top-right",disableBulk:!0},this),this)]:[]])]:[])},className:"cl-layout__desc",modelEvents:{update:"safeRender","change:card":"safeRender","card:change:content":"safeRender","card:change:complaint":"safeRender","card:change:description":"safeRender","card:change:meta":"safeRender","card:change:board":"safeRender"},behaviors:{TextCut:{behaviorClass:Yf,textShortClass:"cl-layout__desc__text_short",expandButton:".cl-layout__desc__expand",textContainer:".cl-layout__desc__text",textMaxHeight:102}}})(wp);var kp={},Ip=Object(tr.a)((function(e){var t=Object(S.a)(e),n=Object(Wd.a)(t)||{};return Object(w.a)(t),n.feedSessionId=Object(_u.a)(e,"feedCards"),{card:t,counterData:n,seoBreadcrumbs:void 0,seoCard:void 0}}))((function(e){var t=e.card,n=e.seoBreadcrumbs,r=e.seoCard,i=e.counterData;return t?er.createElement(Ai.a,se()({loc:"viewer"},i),er.createElement(Pd,{card:t}),er.createElement(fc.a,{schema:n||kp}),er.createElement(fc.a,{schema:r||kp})):null})),Tp=(n("fsSv"),function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options.cardState,t=e.getCard(),n=t&&t.getId();n&&this.env.dispatch(zf({cardId:n})),this.listenTo(e,{"update card:change:complaint change:card change:cardEdited":this.safeRender,"scroll:to":this.scrollTo})},n.className=function(){return Object(Yn.a)("cl-layout__side",{"new-comments":!0})},n.safeRender=function(){var e=this.options.cardState,t=e.getCard(),n=t&&t.getId();this.prevCardId!==n&&(this.prevCardId=n,this.env.dispatch(zf({cardId:n}))),!this.isDestroyed&&e.getCard()&&this.render()},n.onRender=function(){var e=this.options.cardState;if(e.getCard()){var t=e.isCardVisible();this.$el.toggleClass("hidden",!t)}},n.scrollTo=function(e,t){void 0===t&&(t={});var n=this.$el,r=e+n.scrollTop();t.animate?n.animate({scrollTop:r},500,"swing"):n.scrollTop(r)},n.isAdvAllowed=function(){return this.getEnv(),this.options.cardState.getCard().get("adv_on")},n.serializeData=function(){var e=this.options.cardState,t=e.getCard(),n=t.isBanned()&&!t.isVisible(),r=e.isCardEdited(),i=t?t.getBoardTitle():"",a=t?t.getDescription():"";return{isBanned:n,isCardEdited:r,isAdvAllowed:this.isAdvAllowed(),boardTitle:i,cardDescription:a,cardId:t&&t.id,stat:t.getStat(),rtbAsideBlockId:this.env.getFeature(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV)}},t}(E.c));Object(v.a)({template:function(e){var t=this,n=function(e){return[(this&&this.isRestored?zn.ar:zn.a)(Kf,{cardState:t.options.cardState,loc:"cardPopup",advType:e.advType},this)]},r=t&&t.isRestored,i=r?zn.ar:zn.a,a=r?zn.er:zn.e;return(r?zn.fr:zn.f)(e.isBanned?[]:[e.isAdvAllowed&&Xs(ye.d.DESKTOP_CARD_DIRECT_POSITION,2,{hash:{},data:{view:t}})&&(Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV,{hash:{},data:{view:t}})||Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_DIRECT_MOVE_TOP,{hash:{},data:{view:t}}))?[n.call(t,Object(zn.assign)(e,{advType:"search"}))]:[]," ",e.isAdvAllowed&&Xs(ye.d.DESKTOP_CARD_DIRECT_POSITION,1,{hash:{},data:{view:t}})?[n.call(t,Object(zn.assign)(e,{advType:"any"}))]:[]," ",i(wp,{model:t.options.cardState},t)," ",Object(zr.react)(Object(zr.renderView)(Ip,{},t),t)," ",Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV,{hash:{},data:{view:t}})?[Object(zr.react)(Object(zr.renderView)(Lc,{rtbData:null,cardId:e.cardId,rtbBlockId:e.rtbAsideBlockId,type:"aside",className:"cl-viewer-rtb_aside"},t),t)]:[]," ",Object(zr.react)(Object(zr.renderView)(Ih,{cardId:e.cardId},t),t)," ",e.isAdvAllowed&&Xs(ye.d.DESKTOP_CARD_DIRECT_POSITION,2,{hash:{},data:{view:t}})&&!Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ADV,{hash:{},data:{view:t}})&&!Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_DIRECT_MOVE_TOP,{hash:{},data:{view:t}})?[n.call(t,Object(zn.assign)(e,{advType:"search"}))]:[]," ",a.d("cl-layout__comments",{},[Object(zr.react)(Object(zr.renderView)(Fd,{},t),t)," ",Object(zr.react)(Object(zr.renderView)(Ph,{},t),t)," ",e.isAdvAllowed?[n.call(t,Object(zn.assign)(e,{advType:"context"}))]:[]])])},behaviors:{PreventParentScroll:{behaviorClass:Wf.a}}})(Tp);var Rp=n("DPpg"),Lp=n("XL0g"),xp=n("sLLO"),Dp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).retry=0,t}m()(t,e);var n=t.prototype;return n.className=function(){return Object(Yn.a)("image",{card:!1,cover:this.isCover(),layout:!0,load:!0})},n.isCover=function(){var e=this.model.getCard(),t=e&&e.toViewJSON(),n=Object(xn.a)(t),r=Object(Qu.a)(n);return Object(Zu.a)(r)},n.onRender=function(){var e=this;this.toggleSpinner(),this.ui.img.load((function(){e.onImageLoad()})),this.ui.img.error((function(){e.onImageError()}))},n.onImageLoad=function(){this.toggleSpinner()},n.onImageError=function(){var e=this;this.retry++,setTimeout((function(){if(e.isIntact()){var t=e.ui.img[0];if(t&&t.src){var n=t.src;t.src=null,n.indexOf("?retry=")>-1&&(n=n.replace(/\?retry=.+$/,"")),n+="?retry="+e.retry,t.src=n}}}),1e3*this.retry)},n.toggleSpinner=function(){var e=this.model.getCard();this.isIntact()&&e&&(this.$el.toggleClass("image_load",!this.isImageLoaded()),this.ui.wrapOuter.toggleClass("image__wrap_hidden",!this.isImageLoaded()))},n.isImageLoaded=function(){var e=this.model.getCard(),t=e&&e.getFirstContent(),n=this.imageEl;return!t||Boolean(n.complete&&n.naturalWidth)||t.isAnimated()&&Boolean(n.src)},n.isCardFromImageIndex=function(){var e=this.model.getCard(),t=e&&e.getFirstContent();return!(t&&t.getContent())},n.getImageSourceUrlThumb=function(){if(this.isCardFromImageIndex()){var e=this.model.getCard(),t=e&&e.getFirstContent();return t?Object(da.b)(t.toJSON(),{size:"s375"}):""}},n.serializeData=function(){var e=this.getEnv(),t=this.allowOrig,n=this.model.getCard(),r=n&&n.getFirstContent(),i=r&&r.getContent();if(r){var a=r.getBestSize({env:e,allowOrig:t}),o=n&&n.isSeries()?n.getContentSize()-1:0;return{price:this.env.hasFeature(ye.d.COLLECTIONS_PRODUCT_PRICE_LABEL)&&Object(gd.a)(n.toViewJSON()),isVideo:r.isVideo(),thumbUrl:this.getImageSourceUrlThumb(),url:Object(Lp.a)(r,{hash:{size:a}}),color:i&&i.avatars_meta,content:r,contentSize:a,description:n.getDescription().trim(),isCardFromImageIndex:this.isCardFromImageIndex(),isSeries:n.isSeries(),seriesCount:o&&xp.moreLabel({count:o})}}},st()(t,[{key:"imageEl",get:function(){return this.ui.img.get(0)}}]),t}(E.c);Object(v.a)({ui:{wrap:".image__wrap__i",wrapOuter:".image__wrap",img:".image__image",thumbImg:".image__thumb",priceLabel:".cl-teaser__label_type_price",moreLabel:".cl-teaser__label_type_more",labelWrap:".cl-teaser__label-wrap"},allowOrig:!0})(Dp);var Np=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).rum=Object(Vc.a)(Hc.a.IMAGE,[Hc.a.REQUEST_START,Hc.a.REQUEST_END]),t}m()(t,e);var n=t.prototype;return n.onRender=function(){var e=this;setTimeout((function(){e.measureContentForZoom(),e.toggleSpinner()})),this.onSelectedContentChange();var t=this.isRestored,n=this.ui.img;n.load((function(){e.onImageLoad(),t||e.rum(n.prop("src"),Hc.a.REQUEST_END)}))},n.onSelectedContentChange=function(){var e=this.model.getSelectedSeriesContent();if(e&&!this.isDestroyed){this.model.setCardZoomed(!1);var t=this.getEnv(),n=this.allowOrig,r=e.getImageURL({size:e.getBestSize({env:t,allowOrig:n})});this.updateImage(r,e)}this.cleanOrigImage()},n.setupOrigImage=function(e,t){var n=e.getImageURL({size:t}),r=new Image,i=new Promise((function(e,t){r.onload=function(){return e(n)},r.onerror=function(){return t(n)}}));return r.src=n,this._origImage=r,i},n.cleanOrigImage=function(){this._origImage=null},n.updateImage=function(e,t){var n=this,r=this.ui.img;this.toggleService&&(this.toggleService(),this.$el.removeClass("image_layout_screen"),this.measureContentForZoom(t)),clearTimeout(this.spinnerTimeout),this.isRestored||(this.rum(e,Hc.a.REQUEST_START),this.isRestored||(r.removeAttr("src"),t&&t.isAnimated()?(this.toggleSpinner(),this.spinnerTimeout=setTimeout((function(){n.updateSrc(r,e),n.spinnerTimeoutEnd(t)}),100)):(this.updateSrc(r,e),this.spinnerTimeout=setTimeout((function(){n.spinnerTimeoutEnd(t)}),500))))},n.updateSrc=function(e,t){var n=this.model.getCard();e.attr("src",t),n&&e.attr("alt",n.getDescription().trim())},n.spinnerTimeoutEnd=function(){this.toggleSpinner()},t}(Dp);function Ap(e,t){var n=t.data.view;if(e&&Object(he.isObject)(e)&&(e.login?e=e.login:e.getLogin&&(e=e.getLogin())),n)return n.getEnv().currentUser.getLogin()===e;throw new Error("Cannot find view context")}Object(v.a)({modelEvents:{"change:cardZoomed":"onCardZoomChange","change:selectedSeriesContent":"onSelectedContentChange"}})(Np);var Pp=n("/3Je"),Bp=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onRemove=function(){Pp.a.showImmediateRemoveCard({model:this.model})},n.serializeData=function(){return{ownerLogin:this.model.getOwnerLogin()}},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,r=t?zn.er:zn.e,i=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([r.d("cl-layout__service__wrap",{},[r.d("cl-layout__service__content",{},[r.d("cl-layout__service__text",{},[r("p","",{},["This card was recently reported",r("br","",{},[]),"so it cannot be viewed"])," ",r("p","",{},[r("a","link link_type_invert",{href:"https://yandex.ru/legal/collections_termsofuse/",target:"_blank"},["Details"])])])," ",this.model&&Ap(e.ownerLogin,{hash:{},data:{view:this}})?[r.d("cl-layout__service__ctrl",{},[i(Kn.a,{label:"Delete",class:"button_layout-service",size:"XL",type:"invert",icon:n("Qf0G"),model:this,method:"onRemove"},this)])]:[]])])])},className:"cl-layout__service"})(Bp);var Mp,Up,Fp,Vp,Hp=(Mp=Object(j.a)(100),Up=Object(j.a)(),Fp=Object(j.a)(),Vp=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this.listenTo(this.env.pageState,"resize",this.onResize)},n.onRender=function(){var t=this;e.prototype.onRender.call(this),this.model.isCurrentCardComplained()&&this.onComplainSuccess(),this.ui.thumbImg.on("load",(function(){t.ui.thumbImg.removeClass("image__thumb_hidden"),t.setImageSize()})),this.toggleService()},n.toggleSpinner=function(){e.prototype.toggleSpinner.call(this),this.isIntact()&&this.model.hasCard()&&this.zoomPosition()},n.onNext=function(){this.model.isCardEdited()||this.model.isVoting()||this.model.nextCard()},n.onResize=function(){this.measureContentForZoom(),this.zoomPosition(),this.setImageSize()},n.onSelectedContentChange=function(){if(this.isIntact()){e.prototype.onSelectedContentChange.call(this);var t=this.getImageSourceUrlThumb();t?(this.ui.thumbImg.attr("src",t),this.ui.thumbImg.css({width:"",height:""}),this.setImageSize()):this.ui.thumbImg&&this.ui.thumbImg.removeAttr&&(this.ui.thumbImg.removeAttr("src"),this.ui.thumbImg.addClass("image__thumb_hidden")),this.setImageSize()}},n.zoomPosition=function(){var e=this.ui.img,t=e&&e.position();if(this.isIntact()&&t){var n=Math.round(t.top),r=Math.round(this.ui.wrapOuter.width());this.ui.zoom.css({top:n,left:r/2}),this.imageTop=t.top,this.hoverAreaHeight=e.height()/2}},n.measureContentForZoom=function(e){var t=this.model.getCard();if(!this.isDestroyed&&t){var n=this.ui.wrap,r=n.width(),i=n.height(),a=e||t.getFirstContent(),o=!1;if(a){var s=a.getFitImageInfo(r,i),c=a.getOrigSize();s&&c&&c.width>s.width&&s.width<r&&(o=!0)}this.$el.toggleClass("image_layout_zoom",o),o||this.model.setCardZoomed(!1)}},n.onComplainSuccess=function(){this.toggleService({complained:!0})},n.toggleService=function(e){var t=void 0===e?{}:e,n=t.complained,r=t.banned,i=this.model.getCard(),a=n||this.model.isCurrentCardComplained(),o=r||this.model.isCurrentCardBanned();this.ui.wrapOuter.toggleClass("image__wrap_complain",a).toggleClass("image__wrap_banned",o).toggleClass("image__wrap_sq",o&&i&&!i.getContent().length),o?this.showInRegion(this.service,Bp,{model:this.model.getCard(),env:this.env}):this.service.empty()},n.onZoomToggle=function(){var e=this,t=this.model,n=!t.isCardZoomed();if(t.setCardZoomed(n),n&&!this._origImage){var r=this.model.getSelectedSeriesContent();this.setupOrigImage(r,fe.b.OPTIMIZE).then((function(t){e.isIntact()&&r===e.model.getSelectedSeriesContent()&&e.updateSrc(e.ui.img,t)}))}},n.onOverImage=function(e){if(this.isIntact()){var t=.5*(1-(e.clientY-this.imageTop)/this.hoverAreaHeight);this.ui.zoom.css("opacity",t>=0?t:0)}},n.onOutImage=function(){this.isIntact()&&this.ui.zoom.css("opacity",0)},n.onCardZoomChange=function(){var e=this.model;this.$el.toggleClass("image_layout_screen",e.isCardZoomed()),this.zoomPosition()},n.setImageSize=function(){var e=this.model.getCard().getFirstContent();if(e&&this.isCardFromImageIndex()){var t=e.getSource().toJSON(),n=t.big_thumb_width,r=t.big_thumb_height,i=[this.ui.wrap.get(0).clientWidth],a=[this.ui.wrap.get(0).clientHeight];n&&r&&(i.push(Number(n)),a.push(Number(r)));var o=Mc({width:+n,height:+r},{width:Math.min.apply(null,i),height:Math.min.apply(null,a)}),s=o.width,c=o.height;this.ui.thumbImg.css({width:s,height:c})}},t}(Np),C()(Vp.prototype,"onResize",[Mp],Object.getOwnPropertyDescriptor(Vp.prototype,"onResize"),Vp.prototype),C()(Vp.prototype,"onOverImage",[Up],Object.getOwnPropertyDescriptor(Vp.prototype,"onOverImage"),Vp.prototype),C()(Vp.prototype,"onOutImage",[Fp],Object.getOwnPropertyDescriptor(Vp.prototype,"onOutImage"),Vp.prototype),Vp);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([n.d("image__load",{},[n.d("image__load__wrap",{},[r(ki.a,{size:"L",gif:!1},this)])])," ",n.d("image__wrap image__wrap_hidden",{},[n.d("image__wrap__i",{},[n("span","image__zoom",{},[]),n("img","image__thumb image__thumb_hidden",{src:e.thumbUrl,alt:e.description},[]),n("img","image__image",{src:e.url,alt:e.description,"data-il":"image__wrap","data-e2e":"DesktopCardImageContent.img"},[])])])," ",Qn.a.call(e,"service",{hash:{},data:{view:this}})," ",Qn.a.call(e,"cardPopupNav",{hash:{async:!0},data:{view:this}})])},ui:se()({},Np.prototype.ui,{zoom:".image__zoom"}),events:{"mousemove @ui.img":"onOverImage","mouseout @ui.img":"onOutImage","click @ui.wrap":"onNext"},triggers:{"click @ui.zoom":"zoom:toggle"},modelEvents:se()({},Np.prototype.modelEvents,{"card:change:complaint":"onComplainSuccess"})})(Hp);var Wp,zp,Kp,Yp,qp,Gp=n("Hxdx"),Xp=function(e){var t,n,r,i,a,o=e.cardContent,s=e.info,c=e.size;return o&&(Object(tc.a)(o)&&(r="gif"),Object(Ec.a)(o)&&(r="video",s&&(i=Object(Dd.a)(o),a=Object(Nd.a)(o)))),r?er.createElement("div",{className:"image__type"},er.createElement("span",{className:Object(Yn.a)("image__type__format",se()((t={},t[r]=!0,t),c?{size:c}:{}))}),i&&er.createElement("span",{className:Object(Yn.a)("image__type__info",se()((n={},n[r]=!0,n),c?{size:c}:{}))},Object(Ld.a)(i),a&&er.createElement("b",null,"hd"))):null},Jp=n("auIy"),Zp=(n("Wm27"),function(e){var t=e.cardContent,n=e.imageSize,r=e.openVideo,i=e.onClick,a=Object(bn.b)(Object(Gp.a)(t));return er.createElement("div",{className:Object(xs.a)("cl-card-video-placeholder",{},"image__wrap"),onClick:i},er.createElement("div",{className:"image__wrap__i cl-card-video-placeholder__wrap"},er.createElement(Xp,{cardContent:t,info:!0,size:"L"}),er.createElement(Jp.a,null,r&&er.createElement(er.Fragment,null,er.createElement("a",{target:"_blank",className:"cl-card-video-placeholder__link",href:a}),er.createElement("div",{className:"cl-teaser-video-play__icon cl-teaser-video-play__icon_size_L"})),er.createElement(Wc.a,{content:t,size:n,maxWidth:!1,noFormat:!0}))))}),Qp=["inited","started","ended","paused","error","resumed","rewound","adShown"],$p=new(Wp=Object(et.a)(),zp=Object(et.a)(),Kp=function(){function e(){this.interval=0,this.ticks=0,this.laps=0}var t=e.prototype;return t.bindPlayerEvents=function(e){this.eventListenerAdded||(window.addEventListener("message",this.onSandboxMessage),window.addEventListener("unload",this.onWindowClose),this.eventListenerAdded=!0),this.params=e},t.unbindPlayerEvents=function(){this.eventListenerAdded&&(window.removeEventListener("message",this.onSandboxMessage),window.removeEventListener("unload",this.onWindowClose),this.eventListenerAdded=!1),this.params={}},t.onWindowClose=function(){this.sendCounter("card.window-close")},t.onSandboxMessage=function(e){var t,n=e.data||{};"string"==typeof n&&-1!==n.indexOf("sandbox:")&&(n=this.parseData(n)),n.event&&(t=n.event.split(":")[1],this.onPlayerEvent(t,n))},t.parseData=function(e){try{return JSON.parse(e)}catch(e){return{}}},t.getPlayerEventsParams=function(e,t){var n=t||{},r=n.time,i=n.code;return se()({},this.params,{event_name:e,client_timestamp:Date.now(),playing_duration:this.ticks||0},i?{code:i}:{},{},r?{time:r}:{})},t.onPlayerEvent=function(e,t){if(-1!==Qp.indexOf(e))switch(this.sendCounter("player-events."+e,t),e){case"started":case"resumed":return this.start();case"paused":case"ended":return this.stopTimer()}},t.sendCounter=function(e,t){Oe.d.playingCardHeartbeat(this.getPlayerEventsParams(e,t))},t.start=function(){var e=this.getRepeatParam();if(e){var t=e.interval,n=e.stop;t&&"number"==typeof t&&(this.interval=t,"number"==typeof n&&n>t&&(this.stopAfter=n)),this.interval&&this.stopAfter&&this.startTimer()}},t.startTimer=function(){var e=this;this.stopTimer();var t,n=Date.now(),r=0,i=function(){r++,t=Date.now()-n-1e3*r,e.intervalId=setTimeout(i,1e3-t),e.tick()};this.intervalId=setTimeout(i,1e3)},t.getRepeatParam=function(){var e=this.params.duration;if(e){var t=Math.floor(Math.max(.1*e,30)),n=Math.floor(1*e);return n>=t?{interval:t,stop:n}:void 0}},t.tick=function(){if(this.ticks++,this.isExceededDuration(this.ticks))return this.sendCounter("heartbeat.end"),void this.clear();this.stopAfter&&this.stopAfter<=this.ticks||(this.laps=this.laps||0,this.laps++,this.laps===this.interval&&(this.laps=0,this.sendCounter("heartbeat.tick")))},t.stopTimer=function(){this.intervalId&&clearTimeout(this.intervalId),this.intervalId=null},t.clear=function(){this.stopTimer(),this.ticks=0,this.interval=null,this.laps=0},t.reset=function(){this.unbindPlayerEvents(),this.clear()},t.isExceededDuration=function(e){var t=this.params.duration;return!!t&&e>t},e}(),C()(Kp.prototype,"onWindowClose",[Wp],Object.getOwnPropertyDescriptor(Kp.prototype,"onWindowClose"),Kp.prototype),C()(Kp.prototype,"onSandboxMessage",[zp],Object.getOwnPropertyDescriptor(Kp.prototype,"onSandboxMessage"),Kp.prototype),Kp),eb=(n("Ek58"),Yp=Object(et.a)(),qp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={iframeError:!1},t}m()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setCounters(this.props.player)},n.componentWillReceiveProps=function(e){this.setCounters(e.player)},n.componentWillUnmount=function(){$p.sendCounter("card.unmount"),$p.reset()},n.onIframeError=function(){this.setState({iframeError:!0})},n.render=function(){var e=this.props,t=e.cardContent,n=e.imageSize,r=e.player,i=r.name,a=r.html;return this.state.iframeError||!a?er.createElement("div",{className:"image image_card cl-card-video__placeholder"},er.createElement(Zp,{openVideo:!0,cardContent:t,imageSize:n})):er.createElement("iframe",{className:"sandbox sandbox_player-id",src:a,name:i,scrolling:"no",frameBorder:"0",width:"100%",height:"100%",onError:this.onIframeError,allow:"autoplay; fullscreen"})},n.setCounters=function(e){var t=e.cardId,n=e.name,r={cardId:t,url:e.url,name:n,duration:e.duration};Oe.d.showCardVideoPlayer(r),$p.bindPlayerEvents(r)},t}(er.PureComponent),C()(qp.prototype,"onIframeError",[Yp],Object.getOwnPropertyDescriptor(qp.prototype,"onIframeError"),qp.prototype),qp),tb=n("82Jb"),nb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.className=function(){return this.options.type===fe.S?"card__video":"cl-layout__video"},n.initialize=function(){this.listenTo(this.options.cardState,"card:change:complaint card:change:is_banned",this.safeRender)},n.getViewOptions=function(){return this.options.cardState.getCard(),{events:{click:"onSingleTap"}}},n.events=function(){return this.getViewOptions().events},n.behaviors=function(){return this.getViewOptions().behaviors},n.onSingleTap=function(){this.isShowPlaceholder()||this.options.showPreview&&(this.options.showPreview=!1,this.safeRender())},n.isShowPlaceholder=function(){var e=this.model.getContent();return Boolean(e&&e.derived_from===tb.a.TEXT)},n.serializeData=function(){var e,t,n=this.getEnv(),r=this.model,i=r.getBestSize({env:n}),a=this.model.getSource(),o=a.getEmbedURL(),s=this.options.type===fe.S?fe.S:fe.T,c=this.cardPopupState,u=c.isAutoplay(),l=!c.isCardVisible();if(o&&c&&!c.isCardEdited()&&u&&(o+="?autoplay=1"),!o){var d=a.getPlayerId(),h=a.getPlayerHTML(),f=a.getId(),p=a.getUrl(),b=a.getDuration();t=h,Boolean(t&&t.indexOf('src="https://frontend.vh.yandex.ru/player')>0&&-1===t.indexOf("<script"))?o=function(e,t,n,r){if(e){var i=/(https:\/\/frontend.vh.yandex.ru\/player\S+)"/.exec(e);if(i&&i[1]){var a=["no_ad=true","from=collections","mute=1","autoplay="+(t?1:0),"tv=0"];return i[1]+(-1!==i[1].indexOf("?")?"&":"?")+a.join("&")}}return""}(h,u):(e=function(e){var t=e.playerId,n=e.playerHTML;if(n)return{name:t?"sandbox-"+t:"sandbox",html:$c(t,n,e.isAutoPlay,e.isControls)}}({playerId:d,playerHTML:h,isAutoPlay:u,isControls:!0}),e=se()({},e,{url:p,cardId:f,duration:b}))}var m=c.getCard(),v=r.toJSON();return{card:m,content:r,contentJSON:v,embed:o,layoutPrefix:s,contentSize:i,player:e,isBanned:l,isVideoPlaceholder:this.isShowPlaceholder()}},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)(this.options.showPreview||e.isVideoPlaceholder?[n.d("image image_card",{},[this.env.isLegacy?[]:[n.d("image__like",{},[])]," ",Object(zr.react)(Object(zr.renderView)(Zp,{openVideo:e.isVideoPlaceholder,cardContent:e.contentJSON,imageSize:e.contentSize},this),this)])]:[n.d(Object(zn.j)([e.layoutPrefix,"__video__wrap"]),{},e.isBanned?[r(Bp,{model:e.card},this)]:e.player?[Object(zr.react)(Object(zr.renderView)(eb,{imageSize:e.contentSize,cardContent:e.contentJSON,player:e.player},this),this)]:e.embed?[n("iframe","",{src:e.embed,frameborder:"0",allowfullscreen:"",allow:"autoplay; fullscreen"},[])]:[])])}})(nb);var rb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onRender=function(){this.onSelectedContentChange()},n.onSelectedContentChange=function(){var t=this.model.getSelectedSeriesContent();return t&&t.isVideo()&&this.showInRegion(this.video,nb,{model:t,cardState:this.model,className:"cl-layout__video cl-layout__video_edit"}),e.prototype.onSelectedContentChange.call(this)},t}(Hp);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.ar:zn.a,r=t?zn.er:zn.e;return(t?zn.fr:zn.f)(e.isVideo?[n(nb,{regionName:"video",model:e.content,cardState:this.model,className:"cl-layout__video cl-layout__video_edit"},this)]:[r("img","dash__layout__i",{src:Object(Lp.a)(e.content,{hash:{size:"preview"}}),alt:e.description},[])])},className:"dash__layout__wrap",ui:{link:".image__image",img:"img"},events:{},triggers:{},modelEvents:{"change:selectedSeriesContent":"onSelectedContentChange"},initialize:he.noop,onNext:he.noop,onCardsUpdate:he.noop,toggleSpinner:he.noop,measureContentForZoom:he.noop,zoomPosition:he.noop,onComplainSuccess:he.noop,onResize:he.noop,isImageLoaded:he.noop,toggleService:he.noop,onZoomToggle:he.noop,onOverImage:he.noop,onOutImage:he.noop})(rb);var ib=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.removeFromSeries=function(){var e=this;Pp.a.showRemoveFromSeries({model:this.model,customPromise:function(){return e.model.editSeriesRemove()},complete:function(){return e.model.selectFirstContentInSeries()}})},n.serializeData=function(){var e=this.model.getCard(),t=e&&e.getContent(),n=this.model.getSelectedSeriesContent();if(n)return{isMain:t&&t.first().id===n.id}},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.ar:zn.a;return(t?zn.fr:zn.f)(e.isMain?[]:[n(Kn.a,{model:this,method:"removeFromSeries",label:"Remove from gallery",size:"S",type:"invert",class:"button_layout-dash-delete"},this)])},className:"dash__layout__ctrl",modelEvents:{"change:selectedSeriesContent":"safeRender"}})(ib);var ab=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.onClick=function(){var e=this,t=this.options.cardState.toggleCardContentToSeries(this.model);this.$el.toggleClass("dash__view_pinned",t),t.promise.then((function(t){e.$el.toggleClass("dash__view_pinned",t)}))},n.onRender=function(){var e=this;setTimeout((function(){return e.showElement()}))},n.showElement=function(){this.$el.removeClass("dash__view_hide").addClass("dash__view_show")},n.serializeData=function(){var e=this.model.getFirstContent(),t=e&&e.getSource(),n="";return e&&e.isVideo()?n=this.model.getThumbUrl():t&&(n=t.getUrl()),{description:this.model.getDescription(),image_meta:this.model.getImageMeta(),image:n}},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e;return(t?zn.fr:zn.f)([n.d("dash__view__i",{},[n.d("dash__view__wrap",{},[n.d("dash__view__img",{},[n.d("dash__view__pin",{},[])," ",Object(op.a)({hash:{url:e.image,alt:e.description,className:"dash__view__img__wrap",imageClass:"dash__view__img__i"},data:{view:this}})])," ",n.d("dash__view__footer",{},[n("p","dash__view__title",{},[e.description])," ",e.image_meta&&e.image_meta.naturalWidth?[n("p","dash__view__size",{},[e.image_meta.naturalWidth," × ",e.image_meta.naturalHeight])]:[]])])])])},className:"dash__view dash__view_hide",triggers:{click:"click"}})(ab);var ob=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.childViewOptions=function(){return{cardState:this.options.cardState}},n.promise=function(){var e=this,t=this.options.cardState;if(t.hasCard()){var n=t.getCard().getSourceMetaPageUrl();return t.fetchCardsFromQuery(n).then((function(){e.collection=t.getInternetCards()}))}},t}(E.b);Object(v.a)({className:"dash__views__list",childView:ab})(ob);var sb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options.cardState;this._selectionPresent=e.isSelectedContentPresent(),this.listenTo(e,"change:selectedSeriesContent",this.onSelectedContentChange)},n.onSelectedContentChange=function(){var e=this.options.cardState,t=e.isSelectedContentPresent();this._selectionPresent!==t&&(this._selectionPresent=t,e.isCardEdited()&&this.render())},n.onFileChange=function(e){var t=this.options.cardState,n=Object(Rp.a)(e.target.files);t.fetchContentsFromFiles(n)},n.serializeData=function(){var e=this.options.cardState,t=e.isSelectedContentPresent(),n=e.getCard();return{cardState:e,selectionPresent:t,isSeries:n&&n.isSeries()}},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)([n.d("dash__wrap",{},e.selectionPresent?[n.d("dash__layout",{},[r(rb,{model:this.options.cardState},this)," ",r(ib,{model:this.options.cardState},this)])]:[n.d("dash__views",{},[n.d("dash__views__wrap",{},[n.d("dash__views__title",{},["Add image to gallery"])," ",n.d("dash__view dash__view_add dash__view_show",{},[n.d("dash__view__i",{},[n.d("dash__view__wrap",{},[n.d("dash__view__add",{},[n("input","",{type:"file",accept:"image/*"},[])," ",n.d("dash__view__add__label",{},[n("em","",{},["Select a file"])," or drag and drop it here"])])])])])," ",r(ob,{cardState:this.options.cardState,async:!0,regionType:"spinner",type:"transparent"},this)])])])])},className:"dash dash_layout",ui:{input:"input"},events:{"change @ui.input":"onFileChange"}})(sb);var cb,ub,lb,db=0,hb=(cb=function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){var e=n.value;return lb=lb||"__rjctntlfnshd"+db++,Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:function(){var t=this;if(this[lb])return this[lb];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this[lb]=Promise.resolve(e.call.apply(e,[this].concat(r))).then((function(e){return t[lb]=void 0,e}),(function(e){throw t[lb]=void 0,e})),this[lb]}}),this[t]}}},ub=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.saveVote=function(e){var t=this;return this.model.getCard().saveVote(e).catch((function(e){e&&409===e.status||(be.a.showSaveBallotVoteFailedMessage(),console.error(e)),e&&e.responseJSON&&"closed"===e.responseJSON.code&&t.model.closeCard()})),this.model.nextCard().then((function(e){e||t.model.closeCard()}),(function(e){console.error(e)}))},n.isVisible=function(){return t.isVoting(this.model)},n.safeRender=function(){this.model.hasCard()&&e.prototype.safeRender.call(this)},n.onLike=function(){this.saveVote(!0)},n.onDislike=function(){this.saveVote(!1)},n.serializeData=function(){return{visible:this.isVisible()}},n.onRender=function(){this.$el.toggleClass("cl-buttons-contest-vote_hidden",!this.isVisible())},t.isVoting=function(e){var t=e.isVoting(),n=e.getCard();return t&&n&&Boolean(n.getBallot())},t}(E.c),C()(ub.prototype,"saveVote",[cb],Object.getOwnPropertyDescriptor(ub.prototype,"saveVote"),ub.prototype),ub);Object(v.a)({template:function(e){var t=this,n=function(e){return[(this&&this.isRestored?zn.ar:zn.a)(Kn.a,Object(zn.assign)(e,{model:t,inverse:null,ei:!0,size:"L",shape:"round",shadow:!0,class:"cl-buttons-contest-vote__button"}),this)]};return(t&&t.isRestored?zn.fr:zn.f)(e.visible?[n.call(t,{value:!0,method:"onLike",icon:!0,label:"Like",type:"action","data-c":Object(ip.a)("clickContestLike",{hash:{}})})," ",n.call(t,{value:!1,method:"onDislike",icon:!1,type:"white",label:"Dislike","data-c":Object(ip.a)("clickContestDislike",{hash:{}})})]:[])},className:"cl-buttons-contest-vote",modelEvents:{"change:card":"safeRender"}})(hb);var fb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.safeRender=function(){this.model.getCard()&&this.render()},n.onRender=function(){this.toggleComplained()},n.toggleComplained=function(){this.$el.toggleClass("hidden",this.model.isCurrentCardComplained())},n.serializeData=function(){var e=this.model.getCard();return{cardId:e.id,isHidden:e.isBanned()||e.hasRestrictedOwner(),isVoting:hb.isVoting(this.model),rtbRowBlockId:this.env.getFeature(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ROW_ADV)}},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.ar:zn.a;return(t?zn.fr:zn.f)(e.isHidden?[]:[Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER_RTB_ROW_ADV,{hash:{},data:{view:this}})?[Object(zr.react)(Object(zr.renderView)(Lc,{rtbData:null,cardId:e.cardId,rtbBlockId:e.rtbRowBlockId,type:"footer",className:"cl-viewer-rtb_footer"},this),this)]:[]," ",e.isVoting?[n(hb,{model:this.model},this)]:[]])},className:"cl-layout__info",modelEvents:{"card:change:complaint":"toggleComplained","change:card":"safeRender"}})(fb);var pb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options.cardState;this.listenTo(e,"card:change:complaint",this.onChangeComplain),this.listenTo(e,"change:cardEdited",this.onCardEditChange),this.listenTo(e,"change:selectedSeriesContent",this.onChangeContent)},n.onRender=function(){this.refreshContentType(),this.onChangeComplain()},n.onCardEditChange=function(){this.options.cardState.getCard()&&this.safeRender()},n.onChangeContent=function(){var e=this.options.cardState,t=this.getContent();this.refreshContentType(),e.isCardEdited()||(this.isContentVideo()?(this.showInRegion(this.video,nb,{model:t,cardState:e}),this.image.empty()):this.image.hasView()||(this.showInRegion(this.image,Hp,{model:e}),this.video.empty()))},n.onChangeComplain=function(){this.options.cardState.isCurrentCardComplained()&&(this.video.empty(),this.$el.removeClass("cl-layout__content_video"))},n.refreshContentType=function(){var e=this.isContentVideo();this.$el.toggleClass("cl-layout__content_image",!e).toggleClass("cl-layout__content_video",e)},n.serializeData=function(){var e=this.options.cardState,t=e.getCard(),n=t&&t.isSeries(),r=e.isCardEdited(),i=t.getFirstContent(),a=this.isContentVideo(i);return{disableEdit:t.isSeriesDisabled(),isCardEdited:r,isSeries:n,isVideo:a,content:i}},n.getContent=function(){return this.options.cardState.getSelectedSeriesContent()},n.isContentVideo=function(e){return void 0===e&&(e=this.getContent()),!this.options.cardState.isCurrentCardComplained()&&e&&e.isVideo()||this.isCardVideoSource()},n.isCardVideoSource=function(){var e=this.options.cardState.getCard();return Boolean(e&&Object(su.a)(e.toJSON()))},t}(E.c);Object(v.a)({template:function(e){var t=this&&this.isRestored,n=t?zn.ar:zn.a,r=t?zn.er:zn.e;return(t?zn.fr:zn.f)(e.isCardEdited&&!e.disableEdit?[n(sb,{cardState:this.options.cardState},this)]:[r.d("cl-layout__image",{"data-e2e":"DesktopCardLayoutContent.image"},[n(Hp,{regionName:"image",model:this.options.cardState},this)])," ",e.content&&e.isVideo?[n(nb,{regionName:"video",model:e.content,cardState:this.options.cardState},this)]:[Qn.a.call(e,"video",{hash:{},data:{view:this}})]," ",n(fb,{model:this.options.cardState,baseState:this.options.baseState,rtbData:null},this)])},className:"cl-layout__content"})(pb);var bb,mb,vb,gb=function(e){var t=this&&this.isRestored,n=t?zn.er:zn.e,r=t?zn.ar:zn.a;return(t?zn.fr:zn.f)(e.card&&e.card.id?[n("script","",{type:"application/ld+json"},[]),n("script","",{type:"application/ld+json"},[]),r(Hf,{model:e.cardState,env:this.options.env},this)," ",Qn.a.call(e,"cardPopupNav",{hash:{async:!0},data:{view:this}})," ",n.d("cl-layout__wrap cl-layout__wrap_up-12",{},[n.d("cl-layout__wrap__i",{"data-e2e":"DesktopCardPopupSection"},[r(Tp,{cardState:e.cardState,baseState:e.baseState,env:this.options.env},this)," ",r(pb,{cardState:e.cardState,baseState:e.baseState,hintState:e.hintState},this)])])," ",Qn.a.call(e,"cardSimilar",{hash:{},data:{view:this}})," ",Object(zr.react)(Object(zr.renderView)(gu,{invert:!0},this),this)]:[])},Ob=n("ggah"),_b=function(e){return(this&&this.isRestored?zn.fr:zn.f)([Object(zr.react)(Object(zr.renderView)(Bu,{cardId:this.options.cardId,scrollElement:this.options.scrollElement},this),this)])},yb=Object(v.a)({template:o,className:"cl-layout__category cl-layout__category_views cl-layout__category_up-12"})(bb=Object(Ob.a)()(bb=function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t}(E.c))||bb)||bb,Cb=n("R7Pn"),Eb=n("VWIr"),jb=n("LRwV"),Sb=n("H0vb"),wb=[g.a.SEARCH,g.a.SEARCH_BOARDS],kb=xt.b.radio.channel("resize").vent,Ib=(mb=Object(et.a)(),vb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options.cardState;this.listenTo(e,{update:this.render,"card:change:complaint":this.onComplainSuccess,"cards:update":this.onCardsUpdate,"change:card":this.onCardChanged,"change:cardEdited":this.onCardEditChange,"change:cardZoomed":this.onCardZoomChange})},n.onRender=function(){var e=this.options.cardState,t=e.getCard(),n=e.getCards(),r=t&&t.isBanned()&&!t.isVisible(),i=e.isCurrentCardComplained();this.hasCardAtRender=Boolean(t),this.$el.toggleClass("cl-layout_hide",!t).toggleClass("cl-layout_complain",i).toggleClass("cl-layout_banned",r),this.ui.wrap.toggleClass("cl-layout__wrap_side",!r&&!i),t?(this.scheduleRenderSimilar(),this.showUnauthModal()):this.unsubscribe(),n&&n.length&&this.onCardsUpdate(),this.onCardEditChange(),this.onCardZoomChange(),this.onUpdateFocus()},n.showUnauthModal=function(){var e=this,t=this.env.getState(),n=Object(vn.a)(t).unauthModalEntityWasOpened,r=this.env.getFeature(ye.d.COLLECTIONS_UNAUTH_CARD),i=Object(jb.a)(t),a=Object(Sb.a)(t),o=this.env.getFeature(ye.d.COLLECTIONS_AUTH_SEARCH),s=a&&o&&wb.includes(a);if(!n&&(r&&i||s)){var c=Number(r)||5;this.timeoutId=setTimeout((function(){e.isIntact()&&(e.env.dispatch(Object(Cb.a)({unauthModalEntityWasOpened:!0})),e.env.dispatch(Object(Eb.a)({modalType:rr.c.UNAUTH_CARD})))}),1e3*c)}},n.unsubscribe=function(){clearTimeout(this.timeoutId)},n.scheduleRender=function(e,t,n){var r=this,i=this.options.cardState,a=i.getCard();e&&e.currentView&&e.empty(),setTimeout((function(){i.getCard()===a&&n.call(r)}),t)},n.scheduleRenderSimilar=function(){this.options.cardState.isCurrentCardBanned()||this.scheduleRender(this.cardSimilar,100,this.renderSimilar)},n.renderSimilar=function(){var e=this.options.cardState;if(!e.isCurrentCardComplained()&&!e.isCurrentCardBanned()){var t=e.getCard().id;this.getEnv().dispatch(uu({cardId:t})),this.showInRegion(this.cardSimilar,yb,{scrollElement:this.el})}},n.onCardsUpdate=function(){if(!this.isDestroyed){var e=this.cardPopupNav,t=this.options,n=t.baseState,r=t.cardState,i=r.getCard(),a=r.getCards(),o=this.getEnv();a&&a.length&&!r.isVoting()&&(i&&this.showInRegion(e,Bf,{env:o,model:r,baseState:n}),this.$el.toggleClass("cl-layout__image_single-card",1===a.length))}},n.onCardChanged=function(){var e=this.options.cardState,t=e.getCard();if(!t)return this.el.scrollTop=0,this.render();var n=t&&t.isBanned()&&!t.isVisible(),r=e.isCurrentCardComplained();this.$el.toggleClass("cl-layout_complain",r).toggleClass("cl-layout_banned",n),this.ui.wrap.toggleClass("cl-layout__wrap_side",!n&&!r),this.el.scrollTop=0,this.hasCardAtRender?(this.scheduleRenderSimilar(),this.onUpdateFocus()):this.render()},n.onCardEditChange=function(){var e=this.options.cardState;this.$el.toggleClass("cl-layout_edit",e.isCardEdited()),kb.trigger("resize")},n.onCardZoomChange=function(){if(!this.isDestroyed){var e=this.options.cardState;this.ui.wrap.toggleClass("cl-layout__wrap_screen",e.isCardZoomed())}},n.onComplainSuccess=function(){this.$el.addClass("cl-layout_complain"),this.ui.wrap.removeClass("cl-layout__wrap_side")},n.onUpdateFocus=function(){var e=this;setTimeout((function(){e.$el.focus()}))},n.serializeData=function(){var e=this.options,t=e.cardState,n=e.baseState,r=e.hintState,i=t.getCard();return{cardState:t,baseState:n,hintState:r,card:i,env:this.getEnv()}},t}(E.c),C()(vb.prototype,"unsubscribe",[mb],Object.getOwnPropertyDescriptor(vb.prototype,"unsubscribe"),vb.prototype),vb);Object(v.a)({template:a,className:"cl-layout cl-layout_show-suggest",ui:{wrap:".cl-layout__wrap"},attributes:{tabindex:-1}})(Ib);var Tb,Rb,Lb,xb=function(e){var t=this,r=t&&t.isRestored,i=r?zn.er:zn.e,a=r?zn.ar:zn.a,o=r?zn.yr:zn.y,s=r?zn.cr:zn.c;return(r?zn.fr:zn.f)([i.d("wrap__inner",{},[Object(zr.react)(Object(zr.renderView)(Ms,{},t),t)," ",e.showExt?o(Object(zn.all)([Object(zn.retryPromise)((function(){return n.e(14).then(n.bind(null,"v28M"))}),1/0,3e3),t.getEnv().di({env:"env",model:"ExtBannerState"})],(function(e){return a(e[0].ExtBanner,Object(zn.assign)({fixed:!0,close:!0,loc:"popup"},e[1]),t)})),t):s()," ",Qn.a.call(e,"section",{hash:{},data:{view:t}})," ",Object(zr.react)(Object(zr.renderView)(Gs,{},t),t)])," ",Xs(ye.d.COLLECTIONS_DESKTOP_VIEWER,{hash:{},data:{view:t}})?[Object(zr.react)(Object(zr.renderView)(xf,{},t),t)]:[a(Ib,{cardState:t.options.cardPopupState,baseState:t.options.baseState,sidebarState:t.options.sidebarState,hintState:t.options.hintState},t)]," ",Object(zr.react)(Object(zr.renderView)(gu,{},t),t)," ",Qn.a.call(e,"popup",{hash:{className:"hidden"},data:{view:t}})," ",Qn.a.call(e,"sidebar",{hash:{className:"hidden"},data:{view:t}})," ",Qn.a.call(e,"pageLoading",{hash:{className:"hidden"},data:{view:t}})])},Db=xt.b.radio.channel("resize").vent,Nb=(Tb=function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:Object(he.once)(n.value)}),this[t]}}},Rb=Object(j.a)(),Lb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.options,t=e.baseState,n=e.sidebarState,r=e.cardPopupState;t&&this.listenTo(t,{"change:invertFooter":this.toggleInvert,"change:categoryLayout":this.onLayoutChange,"loading:start":this.onLoadingStart,"loading:end":this.onLoadingEnd,"loading:cancel":this.onLoadingCancel,"change:isWhitePage":this.refreshWhitePage}),n&&(this.listenTo(n,"change:isImageDragged",this.onRefreshOverflow),this.listenTo(n,"change:type",this.onSidebarChangeState)),r&&this.listenTo(r,"change:card",this.onRefreshOverflow),this.overflowRefreshChain=new Promise((function(e){return setTimeout(e)}))},n.onRender=function(){this.onRefreshOverflow(),this.onLayoutChange(),this.refreshWhitePage()},n.renderPageLoading=function(){this.showInRegion(this.pageLoading,Ti,{baseState:this.options.baseState})},n.onLoadingStart=function(){this.renderPageLoading(),this._loadingAnimationTimeout&&(clearTimeout(this._loadingAnimationTimeout),this.onLoadingFinished()),this.$el.addClass("wrap_page-loading"),this.toggleOverflow(!0)},n.onLoadingEnd=function(){var e=this;this.$el.addClass("wrap_page-load"),this.forceRefreshOverflow(),this._loadingAnimationTimeout=setTimeout((function(){e.onLoadingFinished(),e.options.hintState.showHintUserSubscriptions()}),2e3)},n.onLoadingCancel=function(){this.forceRefreshOverflow(),this.onLoadingFinished()},n.onLoadingFinished=function(){this.$el.removeClass("wrap_page-loading wrap_page-load")},n.onReady=function(){if(this.isIntact()){var e=this.options.cardPopupState;e&&(e.onReady(),this.forceRefreshOverflow()),this.refreshWhitePage()}},n.refreshWhitePage=function(){if(this.isIntact()){var e=this.options.baseState.isWhitePage();this.ui.inner.toggleClass("wrap__inner_white",e)}},n.toggleInvert=function(){if(this.isIntact()){var e=this.options.baseState.isInvertFooter();this.ui.inner.toggleClass("wrap__inner_black",e).toggleClass("wrap__inner_category_black",e)}},n.onRefreshOverflow=function(){var e=this;if(this.isIntact()){var t=this.options,n=t.cardPopupState,r=t.sidebarState,i=n.hasCard(),a=r.isImageDragged(),o=Boolean(i||a);o&&void 0===this.scrollTop&&(this.scrollTop=document.body.scrollTop||document.documentElement.scrollTop),void 0!==this.scrollTop&&(this.overflowRefreshChain=this.overflowRefreshChain.then((function(){e.isDestroyed||(e.toggleOverflow(o),o||(document.body.scrollTop=document.documentElement.scrollTop=e.scrollTop||0,e.scrollTop=void 0,Db.trigger("resize")))}))),this.ui.inner.toggleClass("wrap__inner_layout",i)}},n.forceRefreshOverflow=function(){if(this.isIntact()){var e=this.options,t=e.cardPopupState,n=e.sidebarState,r=Boolean(t.getCard()),i=n.isImageDragged(),a=Boolean(r||i);this.toggleOverflow(a)}},n.onSidebarChangeState=function(){if(this.isIntact()){var e=!this.options.sidebarState.isClosed();this.ui.inner.toggleClass("wrap__inner_sidebar",e),Object(Mr.a)(document.body,"body-overlay",e)}},n.onLayoutChange=function(){this.isIntact()&&this.ui.inner.toggleClass("wrap__inner_category",this.options.baseState.isCategoryLayout())},n.toggleOverflow=function(e){var t=this;this.isIntact()&&(e&&this.env.dispatch(Object(wi.a)(e)),this.ui.inner.toggleClass("wrap__inner_overflow",e),e||setTimeout((function(){t.env.dispatch(Object(wi.a)(e))})),this.options.baseState.setOverflow(e))},n.serializeData=function(){return{showExt:Object(Si.a)(this.env.getState())}},t}(E.c),C()(Lb.prototype,"renderPageLoading",[Tb],Object.getOwnPropertyDescriptor(Lb.prototype,"renderPageLoading"),Lb.prototype),C()(Lb.prototype,"onReady",[Rb],Object.getOwnPropertyDescriptor(Lb.prototype,"onReady"),Lb.prototype),Lb);Object(v.a)({template:s,className:"wrap",ui:{inner:".wrap__inner"}})(Nb);var Ab=function(e){function t(){return e.apply(this,arguments)||this}return m()(t,e),t}(Nb),Pb=n("bP1J"),Bb=n("TKgN"),Mb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){e.prototype.initialize.call(this),this.pageState=this.env.pageState},n.onShow=function(){e.prototype.onShow.call(this),Object(Df.c)(this,Df.a.ESCAPE,this.onEscape,{priority:50}),this.listenTo(this.model,"change:imageDragged",this.onImageDragged)},n.onEscape=function(){if(!this.model.isClosed())return this.onClickOut(),!1},n.onImageDragged=function(){if(this.model.isClosed()){var e=this.model.isImageDragged();this._toggle(e)}},n.onClickOut=function(e,t){var n=!this.model.isClosed(),r=this.model.isTypeCardAddSuccess(),i=this.model.hasCardContent();Object(vn.a)(this.env.reduxState.getState()).modal||(n&&Date.now()-this.openTime>100&&i&&!r?(t&&(t.preventDefault(),t.stopPropagation()),this.beforeClosePanel()):this.onClose())},n.beforeClosePanel=function(){var e=this.env;Mf.a.show({title:e.translate(Bb.closeTitle,{escape:!0}),stopPropagation:!0,buttons:[{label:e.translate(Bb.apply),model:this,method:"onClose"},{label:e.translate(Bb.cancel),type:"action",stopPropagation:!0}]})},n.onArrow=function(e){e.preventDefault(),this.model.isClosed()?this.pageState.scrollTo(0,0,{duration:200}):this.onClose()},t}(Pb.a);Object(v.a)({options:{showArrow:!0},behaviors:se()({},Pb.a.prototype.behaviors,{ClickOut:{behaviorClass:Hn.a,ignoreDetachedNodes:!0}})})(Mb);var Ub=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.getSidebarState=function(){return this.get("sidebarState")},n.setSidebarState=function(e){this.getSidebarState()!==e&&(this.stopListeningPanel(),e.setShowExtOnFinish(!this.shouldShowBanner()),this.set("sidebarState",e),this.listenTo(e,"change:type",this.onSideChange))},n.isCard=function(){return this.get("isCard")},n.setIsCard=function(e){this.set("isCard",e)},n.shouldShowBanner=function(){var e=this.getEnv().currentUser;return!!e.isAuthorized()&&!this.isCard()&&Object(Si.a)(this.getEnv().getState())&&e.getPreferences()&&!e.getPreferences().isShownPlugin()},n.onSideChange=function(){if(this.shouldShowBanner()){var e=this.getSidebarState().getType();e===fe.i.ADD_CARD_BOARD_SUCCESS?this._createdInProgress=!0:e===fe.i.NONE&&this._createdInProgress?(this.trigger("show:banner"),this.stopListeningPanel()):this._createdInProgress=!1}else this.stopListeningPanel()},n.stopListeningPanel=function(){var e=this.getSidebarState();e&&(e.setShowExtOnFinish(!0),this.stopListening(e))},n.updateDependencies=function(e){var t=e.event,n=e.env,r=e.sidebarState;this.setIsCard("card"===t.name),this.setEnv(n),this.setSidebarState(r)},n.destroy=function(){},t}(O.a);Object(v.a)({defaults:{isCard:!1}})(Ub);var Fb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this._feedCardCount=0,this._feedShownCount=0},n.setEvent=function(e){this.set("event",e)},n.getEvent=function(){return this.get("event")},n.setAction=function(e){this.set("action",e)},n.getAction=function(){return this.get("action")},n.setIdentifier=function(e){this.set("identifier",e)},n.getIdentifier=function(){return this.get("identifier")},n.setActionAndIdentifier=function(e,t){this.set({action:e,identifier:t})},n.setRouterState=function(e){this.set("routerState",e)},n.getRouterState=function(){return this.get("routerState")},n.showHintUserSubscriptions=function(){this.setActionAndIdentifier(fe.u.userSubscriptions,fe.t.followingsChannels)},n.shouldShowActionHint=function(e,t){var n=this.getEnv().currentUser,r=this.getAction(),i=this.getIdentifier();return n&&n.isAuthorized()&&r===t&&i===e},n.cleanURL=function(){var e=this.getRouterState(),t=this.getEvent();if(t&&t.query&&t.query.hintAction||t.query.hintTarget){var n,r=((n={}).hintAction=null,n.hintTarget=null,n);e.replaceQuery(r,{trigger:!1,replace:!0})}},n.clean=function(){this.setActionAndIdentifier(null,null)},n.handleEvent=function(e){var t=e.query;t&&t.hintAction&&t.hintTarget&&(this.setAction(t.hintAction),this.setIdentifier(t.hintTarget))},n.updateDependencies=function(e){var t=e.event,n=e.env,r=e.routerState;this.setEnv(n),this.setEvent(t),this.setRouterState(r),this.handleEvent(t),this.cleanURL()},t}(O.a);Object(v.a)({defaults:{action:null,id:null}})(Fb);var Vb=n("1XFv"),Hb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){this.on("change:query",this.onQueryChange)},n.setUrl=function(e,t){this.setQuery(e,t)},n.getQuery=function(){return this.get("query")},n.getNewBoardTitle=function(){var e=this.getQuery();return Object(al.a)(e)?"":e},n.setQuery=function(e,t){void 0===t&&(t={}),this.set("query",e,t)},n.setLoading=function(e){this.set("loading",e)},n.getLoading=function(){return this.get("loading")},n.setCards=function(e){this.set("cards",e)},n.getCards=function(){return this.get("cards")},n.isEmpty=function(){return this.getCards().isEmpty()},n.getImages=function(){return this.get("internetImages")},n.setImages=function(e){this.set("internetImages",e)},n.getFetchError=function(){return this.get("fetchError")},n.setFetchError=function(e){return this.set("fetchError",e)},n.loadingStart=function(){this.trigger("loading:start")},n.loadingEnd=function(){this._fetchPromise=void 0,this.trigger("loading:end")},n.onSuggestSubmit=function(){return this.loadingStart(),this.fetchImages()},n.fetchImages=function(){var e=this,t=this.getQuery()||"",n=String(t).trim();if(this.setFetchError(null),!n.length)return this.loadingEnd(),Promise.resolve(new Vb.a);if(this._fetchPromise)return this._fetchPromise;this.setLoading(this.getLoading()+1);var r=setTimeout((function(){e.loadingEnd(),e.setFetchError({status:0})}),7e3);return this._fetchPromise=this.getEnv().invokeStrategy(_e.a.CardsFetchFromQueryStrategy,{state:this,query:n}).then((function(t){return clearTimeout(r),e.loadingEnd(),t})).catch((function(t){throw clearTimeout(r),e.loadingEnd(),e.setFetchError(t),t})),this._fetchPromise},n.onQueryChange=function(e,t){this._fetchPromise=void 0,t||this.internetCollectionsClean()},n.internetCollectionsClean=function(){var e=this.getCards(),t=this.getImages();t&&t.cleanImages(),e&&e.reset()},n.updateCards=function(){var e=this.getCards();this.getImages().asyncToCards(2,e)},n.updateDependencies=function(e){var t=e.request,n=e.cards;this.setRequestAdapter(t),this.setCards(n)},t}(O.a);Object(v.a)({defaults:{url:"",loading:0}})(Hb);var Wb,zb,Kb=n("NVra"),Yb={identity:function(e){return e},floatButton:function(e,t){return"float_"+(t?"collapsed":"expanded")},popup:function(){return"card_fullview"},wideTeaser:function(){return"card_teaser"},boardsList:function(){return"boards_list"},boardFooter:function(){return"board_footer"}},qb=(Wb=Object(j.a)(500),zb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e,t=this,n=Object(Kb.a)({env:this.getEnv()});this.metrika=n,window.metrika=n,this.metrika.onLoad((function(e){t.setCounter(e),t.listenToAddToHomeEvents()})),this.listenTo(be.a,((e={"board:create":this.boardAdd,"board:subscribe":this.boardSubscribe,"sidebar:board:add":this.sidebarBoardAdd,"card:like":this.cardLiked,"card:share:complete":this.cardShareCompleted,"card:create":this.cardCreateCompleted})[fe.d]=this.onCardsSeen,e["plugin:store"]=this.pluginStore,e["user:auth"]=this.userAuth,e["user:subscribe"]=this.userSubscribe,e["channel:subscribe"]=this.onChannelSubscribe,e["show:share:modal"]=this.onShowShareModal,e["share:submit"]=this.onShareSubmit,e))},n.listenToAddToHomeEvents=function(){var e=this;window.addEventListener("beforeinstallprompt",(function(t){e.addToHomeShown(),t.userChoice.then((function(t){"dismissed"!==t.outcome&&e.addToHomeAccepted()}))}))},n.setCounter=function(e){this.set("counter",e)},n.getCounter=function(){return this.get("counter")},n.execute=function(e){var t=this;this.metrika&&this.metrika.onLoad((function(){return e(t.getCounter())}))},n.boardAdd=function(){this.metrika&&this.metrika.reachGoal(this.isEmbed()?"plugin_collection_added":"collection_added")},n.getSubscribeGoalParams=function(e){void 0===e&&(e={});var t={},n=e,r=n.loc,i=n.collapsed,a=Yb[r]||Yb.identity;return r&&a&&(t.context=a(r,i)),t},n.boardSubscribe=function(e,t){this.metrika&&this.metrika.reachGoal("subs_c",this.getSubscribeGoalParams(t))},n.sidebarBoardAdd=function(){this.metrika&&this.metrika.reachGoal("to_new_collection")},n.cardLiked=function(){this.metrika&&this.metrika.reachGoal("like")},n.cardShareCompleted=function(){this.metrika&&this.metrika.reachGoal("card_added")},n.cardCreateCompleted=function(e){e.card;var t=e.loc,n={};t&&(n.loc=t),this.metrika&&this.metrika.reachGoal(this.isEmbed()?"plugin_card_added":"card_added",n)},n.addToHomeShown=function(){this.metrika&&this.metrika.reachGoal("add_to_home_shown")},n.addToHomeAccepted=function(){this.metrika&&this.metrika.reachGoal("add_to_home_accepted")},n.pluginStore=function(e){this.metrika&&(this.metrika.reachGoal("plugin_store"),this.metrika.extLink(e))},n.userAuth=function(e){this.metrika&&this.metrika.reachGoal("auth",e)},n.userSubscribe=function(e,t){this.metrika&&this.metrika.reachGoal("subs_u",this.getSubscribeGoalParams(t))},n.onChannelSubscribe=function(e,t){this.metrika&&this.metrika.reachGoal("subs_ch",this.getSubscribeGoalParams(t))},n.onCardsSeen=function(e){var t=e.count,n=e.total;this.metrika&&this.metrika.reachGoal("scroll",{items_count:t,items_total:n,finish:t===n})},n.onShowShareModal=function(e){this.metrika&&this.metrika.reachGoal("share_open",this.getSubscribeGoalParams(e))},n.onShareSubmit=function(e){var t=e.name,n=e.loc;this.metrika&&this.metrika.reachGoal("share_submit",{channel:t,loc:n})},n.setCurrentUser=function(e){this.set("currentUser",e)},n.getCurrentUser=function(){return this.get("currentUser")},n.isEmbed=function(){return this.getEnv().isEmbed},n.setEnv=function(e){this.set("env",e)},n.getEnv=function(){return this.get("env")},n.setRequestAdapter=function(e){this.set("request",e)},n.getRequestAdapter=function(){return this.get("request")},n.setMetricsParams=function(){var e=this.getCurrentUser(),t=e&&e.isAuthorized(),n=this.getEnv().flags;this.execute((function(e){e&&e.params(Object.assign({z:t},n))}))},n.setUserParams=function(e){void 0===e&&(e={});var t={};Object(he.keys)(e).forEach((function(n){var r=fe.H[n],i=e[n],a=r&&r[i];a&&(t[a.key]=a.value)})),Object(he.isEmpty)(t)||this.execute((function(e){e.userParams(t)}))},n.setRedactorUserParams=function(){this.execute((function(e){e.userParams(fe.P)}))},n.updateDependencies=function(e){var t=e.request,n=e.currentUser,r=e.env,i=e.event.query;this.setRequestAdapter(t),this.setCurrentUser(n),this.setEnv(r),this.setMetricsParams(),this.setUserParams(i),n&&n.isRedactor()&&this.setRedactorUserParams()},t.factory=function(e){return this.instance||(this.instance=new t(e)),this.instance},t}(Ct.a),C()(zb.prototype,"onCardsSeen",[Wb],Object.getOwnPropertyDescriptor(zb.prototype,"onCardsSeen"),zb.prototype),zb),Gb=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.initialize=function(){var e=this;this.hasSupport()&&(this.setVisibility(!document[this._property]),document.addEventListener(this._eventName,(function(){return e.onVisibilityChange()})))},n.setVisibility=function(e){this.set("visible",e)},n.isVisible=function(){return this.get("visible")},n.hasSupport=function(){var e,t;return void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),this._property=e,this._eventName=t,Boolean(this._property&&this._eventName)},n.onVisibilityChange=function(){var e=!document[this._property];this.setVisibility(e),this.trigger("visibility",e)},t.factory=function(){return this.instance||(this.instance=new this),this.instance},t}(O.a);Object(v.a)({defaults:{visible:!0}})(Gb);var Xb=function(){function e(e,t){this.type="",this.planner=e,this.callbacks=[],t&&(this.task=t)}var t=e.prototype;return t.setType=function(e){return this.type=e,this},t.run=function(t){var n=this,r=function(){n._invoked||(n._invoked=!0,n.callbacks.forEach(e.invoke),t&&e.invoke(t))},i=e.invoke(this.task.bind(this,r));return i instanceof Promise?i.catch((function(e){return console.error(e)})).then(r):0===this.task.length&&r(),this},t.then=function(e){return this._invoked?e():this.callbacks.push(e),this},t.promise=function(){var e=this;return this._promise||(this._promise=new Promise((function(t){e.task((function(){return t()}))}))),this._promise},e.invoke=function(e){try{return e&&e()}catch(e){console.error(e)}},e}(),Jb=function(){function e(e,t){this.planner=e,this.callback=t,this.children=[],this.syncTasks=[]}var t=e.prototype;return t.execute=function(e){var t=this;return this.syncTasks.forEach((function(e){return e()})),new Promise((function(n){return function(e){var n=function(){t.callback?t.callback().then(r):r()},r=function(){var n=t.children.map((function(e){return e.execute.bind(e)}));Qb.all(n,e)};t.dependency?t.dependency.execute(n):n()}((function(){e&&e(),n()}))}))},t.then=function(t,n){var r=this,i=new e(this.planner,(function(){return r.planner.task(n,t)}));return this.children.push(i),i},t.modifyDom=function(e){return this.then("modifyDom",e)},t.readDom=function(e){return this.then("readDom",e)},t.animation=function(e){return this.then("animation",e)},t.addClass=function(e,t){return this.modifyDom((function(){e&&t.split(" ").forEach((function(t){t&&e.classList.add(t)}))}))},t.removeClass=function(e,t){return this.modifyDom((function(){e&&t.split(" ").forEach((function(t){t&&e.classList.remove(t)}))}))},t.addClassAnimation=function(e,t,n){return this.toggleClassAnimation(e,t,!0,n)},t.removeClassAnimation=function(e,t,n){return this.toggleClassAnimation(e,t,!1,n)},t.toggleClassAnimation=function(e,t,n,r){var i=(void 0===r?{}:r).timeout,a=void 0===i?500:i;return this.animation((function(r){if(e){var i=setTimeout(r,a),o=function(t){t.target===e&&(e.removeEventListener("transitionend",o,!1),clearTimeout(i),r())};e.addEventListener("transitionend",o,!1),n?e.classList.add(t):e.classList.remove(t)}else r()}))},t.bulk=function(e){var t=this.planner.workflow(e),n=this.planner.workflow((function(e){e.dependency=t}));return this.children.push(n),n},t.sync=function(e){return this.syncTasks.push(e),this},e}(),Zb=function(){function e(e){this.isRunIn=!1,this.isRunOut=!1,this.in=new Jb(e),this.out=new Jb(e),this.runningIn=Promise.resolve()}var t=e.prototype;return t.runIn=function(){var e=this;return this.isRunIn=!0,this.runningIn=this.in.execute().catch((function(t){throw e.runningIn=Promise.resolve(),t})),this.runningIn},t.runOut=function(){var e=this;return this.isRunOut=!0,this.runningIn.then((function(){return e.out.execute()}))},e}(),Qb=function(){function e(){this.taskQueue=[]}var t=e.prototype;return t.task=function(e,t){return this.addTask(this.createTask(e,t))},t.addTask=function(e){return this.taskQueue.push(e),this._planRun(),e},t.createTask=function(e,t){var n=new Xb(this,e);return n.setType(t),n},t.workflow=function(e){var t=new Jb(this);return e(t),t},t.createInOutAnimation=function(){return new Zb(this)},t._planRun=function(){var e=this;!this.timeout&&this.taskQueue.length&&(this.timeout=setTimeout((function(){return e._run()}),1))},t._run=function(){var t=this,n=this.taskQueue[0],r=[];if(!this.taskQueue.length)return this._stop();this.taskQueue=this.taskQueue.filter((function(e){return e.type!==n.type||(r.push(e.run.bind(e)),!1)})),e.all(r,(function(){t._stop(),t._planRun()}))},t._stop=function(){clearTimeout(this.timeout),this.timeout=null},e.all=function(e,t){var n=e.length,r=!1;if(n){var i=function(){--n<=0&&!r&&(r=!0,t())};e.forEach((function(e){return e(i)}))}else t()},e.factory=function(){return this.planner||(this.planner=new e),this.planner},e}();function $b(e){if(e)return e.replace(/^pdb-/,"").replace(/(\-\w)/g,(function(e){return e[1].toUpperCase()}))}var em,tm=function(e){function t(t){var n=e.call(this)||this;return Object.assign(ut()(n),t),n.busVersion=t&&Number(t.event.query.bus)||1,n}m()(t,e);var n=t.prototype;return n.run=function(){var e=this;this.read(Re.e.ADD_MEDIA,(function(t){return e.onMedia(t)})),this.send({type:Re.e.EMBED_READY,isMobile:!1})},n.onMedia=function(e){var t=e.items,n=e.meta;this.trigger("media",t,n||{pageUrl:""})},n.close=function(e){this.send(se()({type:Re.e.CLOSE},e))},n.notification=function(e){this.send(se()({},e,{type:Re.e.NOTIFICATION}))},n.ready=function(){this.send({type:Re.e.READY})},n.listen=function(e){this.read(this.eventName,e)},n.addMedia=function(e){this.send({type:Re.e.ADD_MEDIA,images:e})},n.show=function(){var e=Re.e.SINGLE_COLUMN;this.send({type:e})},n.send=function(e){if(this.dstWindow){if(2===this.busVersion){var t=e,n=t.type,r=Yl()(t,["type"]);e=JSON.stringify({methodCall:$b(n),params:r})}this.dstWindow.postMessage(e,"*")}},n.read=function(e,t){var n=this;this.srcWindow&&this.srcWindow.addEventListener("message",(function(r){var i=r.data;if(i)if(2===n.busVersion){if("string"!=typeof i||"{"!==i[0])return;try{i=JSON.parse(i)}catch(e){return}i.methodCall===e&&t(i.params[0])}else i.type===e&&t(i)}))},t.factory=function(e){return this._factory(e,window,window.top)},t.factoryModal=function(e){return this._factory(e,window,window.opener||window.parent)},t._factory=function(e,t,n){return new this(se()({},e,{srcWindow:t,dstWindow:n}))},t}(Ct.a),nm=function(){function e(){}return e.factory=function(e){return e.reduxState.store},e}(),rm=n("urtd"),im=((em={})[fe.e.NORMAL]="_getNormalCardQuery",em[fe.e.SEARCH]="_getSearchCardQuery",em[fe.e.VIRTUAL]="_getNormalCardQuery",em),am=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.setRouter=function(e){this.set("router",e)},n.getRouter=function(){return this.get("router")},n.setEvent=function(e){void 0===e&&(e={}),this.set("event",e)},n.getEvent=function(){return this.get("event")},n.setEventName=function(e){this.set("eventName",e)},n.getEventName=function(){var e=this.get("event");return e&&e.name},n.isSearchPage=function(){var e=this.getEventName();return"search"===e||"searchBoards"===e},n.navigateToBoard=function(e,t){void 0===t&&(t={});var n=e.getOwner(),r=e.getSlug();if(n&&r){var i={login:n.getLogin(),slug:r,commentId:null};return this.navigate("board",i,t)}},n.navigateToFeed=function(e){return this.navigate("feed",{},e)},n.navigateToCard=function(e,t){return e?this.navigate("card",{id:e.id},t):this.replaceQuery({cardId:null,commentId:null,suggested:null,similar:null},t)},n.navigateToCardOrigin=function(e,t){var n=this.getCardBoardURL(e,t);return this.getRouter().navigate(n)},n.replaceQuery=function(e,t){return this.getRouter().replaceQuery(e,t)},n.navigate=function(e,t,n){return this.getRouter().navigateToReverse(e,t,Object.assign({trigger:!0},n))},n.getCardURL=function(e){var t=this.getRouter(),n=this.getCardRouteQuery(e);return e.hasRestrictedOwner()?"#":n?t.reverse(n.name,n.query):""},n.getCardRouteQuery=function(e){if(e){var t=e.getType(),n=im[t];if(this[n])return this[n](e)}},n._getSearchCardQuery=function(e){var t=this.getEvent().query;return{name:"search",query:Object.assign({},t,{cardUrl:e.getFirstSourceImageURL()})}},n._getNormalCardQuery=function(e){return{name:"card",query:{id:e.getId()}}},n.getBoardURL=function(e){return this.getRouter().reverse("board",{login:e.getOwnerLogin(),slug:e.getSlug()})},n.getCardBoardURL=function(e,t){if(!e)return"#";var n=this.getEnv(),r=e.getBoard();if(n&&e.isVirtual())return this.getRouter().reverse("home",t);if(e.hasRestrictedOwner()){var i=e.getFirstContent(),a=i&&i.getSourceType();return this.getRouter().reverse(g.a.FAVORITES_TYPE,{type:a||X.a.IMAGE})}return this.getRouter().reverse("board",{login:r.getOwnerLogin(),slug:r.getSlug(),commentId:null},t)},n.getChannelURL=function(e){return this.getRouter().reverse("channel",{id:e.getSlug()})},n.getProfileURL=function(e){return this.getRouter().reverse("profile",{login:e.getLogin()})},n.updateDependencies=function(e){var t=e.router,n=e.event,r=e.env;this.setRouter(t),this.setEvent(n),this.setEnv(r),this.setEventName(n.name)},n.triggerMethod=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.trigger.apply(this,[e].concat(n))},t.restore=function(e){return new t(e)},st()(t,[{key:"returnUrl",get:function(){return this.get("return_url")}}]),t}(O.a);Object(v.a)({defaults:{}})(am);var om=n("vWga"),sm=function(e){function t(){return e.apply(this,arguments)||this}m()(t,e);var n=t.prototype;return n.setImageDragged=function(e){this.set("imageDragged",e)},n.isImageDragged=function(){return this.get("imageDragged")},n.contentToCards=function(){var e=this.getCardContent(),t=Vb.a.factory({});return e.map((function(e){var n=ae.a.dataFactory({content:e},{parse:!0});t.add(n)})),t.setFullyLoaded(),t},n.editCard=function(e){if(!this.hasCardContent()){var t,n=e.clone();this.setCard(n),t=this.contentToCards(),this._originalCard=e,this.setCards(t),this.showCardEdit()}},n.updateOriginalCard=function(){var e=this,t=this.getCard();(t.hasContests()&&t.getContent().length>1?Object(Le.a)(this.getEnv(),this._originalCard):Promise.resolve(!0)).then((function(n){if(n){e.showLoading();var r={card:e._originalCard,source:t};e.getEnv().invokeStrategy(_e.a.CardEditStrategy,r).then((function(){be.a.showCardUpdateMessage(),e.closePanel()})).catch((function(t){e.showPreviousIfNotClosed(),console.error(t)}))}}))},n.showCardEdit=function(){this.setType(fe.i.CARD_EDIT)},n.fetchCardsFromHtml=function(e){var t=this;this.showLoading(),this.getEnv().invokeStrategy(_e.a.CardsFetchFromHtmlStrategy,{state:this,nodes:e}).catch((function(e){throw e&&"dimensions"===e.type?be.a.showImageError(e):be.a.showUnknownErrorMessage(),t.showPreviousIfNotClosed(),e}))},t}(om.a);Object(v.a)({defaults:se()({},om.a.prototype.defaults,{imageDragged:!1,dragAllowed:!0})})(sm);var cm=function(){function e(){this.language="en"}return e.prototype.translate=function(e,t){return"function"==typeof e?e(t):""},e}(),um=function(){function e(){}return e.prototype.filterBy=function(e){return(e=String(e).trim()).length<=1?[]:po("https://yandex.ru/suggest-images/suggest-ya.cgi",{part:e,v:4,srv:"collections_desktop_ru"}).then((function(e){var t=[];if(Array.isArray(e)){var n=e?e[1]:[];t=n=n.filter(Et.isString),n.length&&t[0]!==e[0]&&e[1]&&t.unshift(e[0])}return t}))},e}(),lm=0;function dm(e){var t,n=!1;function r(){var e=document.createEvent("CustomEvent");e.initCustomEvent("async:bundle",!1,!1,null),e.failed=lm,window.dispatchEvent(e)}function i(){var t=e();return t.then((function(){n&&(n=!1,lm--),r()})),t.catch((function(){n||(n=!0,lm++),r()})),t}return function(e){return(t||(t=Object(p.a)(i))).then((function(t){return t[e]}))}}var hm,fm={LegacyBoardSection:0,DesktopShareLayout:1,DesktopShareSidebar:1,ShareSidebarState:1,LegacyFavoritesSection:2,AddFlowLayout:3,ReduxBus:3,DesktopLegacyFeedSection:4,LegacyMainSection:5,LegacyChannelSection:6,ContestBallotsCards:7,DesktopLegacyContestSection:7,LegacyContestsSection:7,LegacyProfileSection:8,DesktopLegacySearchSection:9,LegacySearchCardsSection:9,DesktopLegacyPluginSuccessSection:10,DesktopEmbedSidebar:11,EmbedImages:11,EmbedLayout:11,EmbedSidebarState:11,BaseRetpath:12,BoardSimilarSection:13,LegacyEditorsChoiceSection:14,CardAddContentStrategy:15,CardChangeBoardStrategy:15,CardCreateContentStrategy:15,CardCreateGuestStrategy:15,CardCreateStrategy:15,CardCreateToBoardStrategy:15,CardEditStrategy:15,CardReceiveShareBusCardStrategy:15,CardShareStrategy:15,CardsFetchFromFilesStrategy:15,CardsFetchFromHtmlStrategy:15,CardsFetchFromQueryStrategy:15,CommonImageInfoStrategy:15,BoardSaveStrategy:16,BoardSuggestNameStrategy:16,BoardsRefetchStrategy:16,HintSidebarStrategy:17,BoardToReduxStrategy:18,CardRemoveFromContestReduxStrategy:18,CardRemoveFromFeedToReduxStrategy:18,CardRemoveStrategy:18,CardSetCurrentCardToReduxStrategy:18,CardToReduxStrategy:18,ClientResponse:19,LegacyNotFoundSection:19,BaseState:20,BaseTitle:20,Boards:20,Card:20,CardPopupState:20,Cards:20,ClientAppHost:20,ClientApplication:20,ClientEnv:20,ClientLogger:20,ClientLoggerWriter:20,ClientRequest:20,ClientRouter:20,CountersCenter:20,CurrentUserState:20,DesktopBasePage:20,DesktopLayout:20,DesktopPluginLayout:20,DesktopSidebar:20,ExtBannerState:20,HintState:20,InternetCards:20,InternetImagesState:20,Metrika:20,NotificationCenter:20,PageVisibilityState:20,Planner:20,PluginMessageBus:20,Redux:20,ReduxState:20,RouterState:20,SidebarState:20,Translate:20,User:20,YandexImagesSuggestSource:20},pm=[dm((function(){return Promise.all([n.e(0),n.e(36)]).then(n.bind(null,"bGR5"))})),dm((function(){return n.e(50).then(n.bind(null,"j1UD"))})),dm((function(){return Promise.all([n.e(0),n.e(43)]).then(n.bind(null,"hddm"))})),dm((function(){return n.e(8).then(n.bind(null,"oQeS"))})),dm((function(){return n.e(44).then(n.bind(null,"Ph/6"))})),dm((function(){return n.e(45).then(n.bind(null,"RtFt"))})),dm((function(){return Promise.all([n.e(0),n.e(38)]).then(n.bind(null,"pALq"))})),dm((function(){return Promise.all([n.e(0),n.e(39)]).then(n.bind(null,"wTtz"))})),dm((function(){return Promise.all([n.e(0),n.e(47)]).then(n.bind(null,"PFXr"))})),dm((function(){return n.e(49).then(n.bind(null,"Lvao"))})),dm((function(){return n.e(46).then(n.bind(null,"5TQO"))})),dm((function(){return n.e(41).then(n.bind(null,"01sk"))})),dm((function(){return n.e(48).then(n.bind(null,"ekxv"))})),dm((function(){return Promise.all([n.e(0),n.e(37)]).then(n.bind(null,"CKSn"))})),dm((function(){return Promise.all([n.e(0),n.e(40)]).then(n.bind(null,"+awZ"))})),dm((function(){return n.e(10).then(n.bind(null,"C2AN"))})),dm((function(){return n.e(7).then(n.bind(null,"iK/v"))})),dm((function(){return n.e(15).then(n.bind(null,"fS+N"))})),dm((function(){return n.e(31).then(n.bind(null,"udd0"))})),dm((function(){return n.e(42).then(n.bind(null,"znOM"))})),function(e){return c[e]}],bm=[function(e){var t=pm[fm[e]];if(t)return t(e)}],mm={"/collections/":"main","/collections/feed/":"feed","/collections/user/":"myProfile","/collections/user/:login/":"profile","/collections/user/:login/statistics/":"statistics","/collections/user/:login/_feed/":"profileFeed","/collections/user/:login/_cards/":"cards","/collections/user/:login/_followings/":"followingsUsers","/collections/user/:login/_followings/boards/":"followingsBoards","/collections/user/:login/_followings/channels/":"followingsChannels","/collections/user/:login/_followers/":"followers","/collections/user/:login/_companies/":"companies","/collections/user/:login/:slug/":"board","/collections/user/:login/:slug/coauthors/":"boardCoauthors","/collections/user/:login/:slug/_followers/":"boardFollowers","/collections/user/:login/:slug/similar/":"boardSimilar","/collections/card/:id/":"card","/collections/card/:id/likes/":"cardLikes","/collections/card/:id/shares/":"cardShares","/collections/card/:id/comments/":"comments","/gorsel/pad/":"gorselPad","/images/pad/":"imagesPad","/gorsel/smart/":"gorselSmart","/images/smart/":"imagesSmart","/gorsel/touch/":"gorselTouch","/images/touch/":"imagesTouch","/gorsel/":"gorselDesktop","/images/":"imagesDesktop","/collections/search/":"search","/collections/search/boards/":"searchBoards","/collections/channel/:id/":"channel","/collections/favorites-:type/":"favoritesType","/collections/underside/":"underside","/collections/contests/":"contests","/collections/contest/photo-of-the-day/":"dailyPhoto","/collections/contest/:id/":"contest","/collections/plugin/":"plugin","/collections/plugin/success/":"pluginSuccess","/collections/embed/":"embed","/collections/embed/add/":"plugin","/collections(/:slug)/editors-choice/":"editorsChoice","/collections/share/":"share","/collections/retpath/":"retpath","/collections/add(/)":"addFlow","/collections/app/add(/)":"addFlowApp","/collections/bro/":"broMain","/collections/bro/add(/)":"addFlowBro","/collections/verification-by-number/":"verificationByNumber","/collections/:slug/":"verticalFeed","/offline/":"offline","/collections/_/offline/":"publicOffline","/any/":"errorNotFound","*path":"errorNotFound"},vm={home:"main",profileFeed:"feed",imagesTouch:"feed",imagesDesktop:"feed",imagesPad:"feed",imagesSmart:"feed",gorselTouch:"feed",gorselDesktop:"feed",gorselPad:"feed",gorselSmart:"feed",addFlowApp:"addFlow",publicOffline:"offline",boardCoauthors:"board",cardLikes:"card",cardShares:"card",comments:"card",appFeed:"feed",broMain:"main",plugin:"embed"},gm={main:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyMainSection",sidebar:"DesktopSidebar"}]}],feed:["Page",{title:"BaseTitle",content:["Layout",{section:"ReactFeedSection",sidebar:"DesktopSidebar"}]}],myProfile:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],profile:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],cards:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],followingsUsers:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],followingsBoards:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],followingsChannels:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],followers:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],companies:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyProfileSection",sidebar:"DesktopSidebar"}]}],board:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyBoardSection",sidebar:"DesktopBoardSidebar"}]}],boardFollowers:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyBoardSection",sidebar:"DesktopBoardSidebar"}]}],boardSimilar:["Page",{title:"BaseTitle",content:["Layout",{section:"BoardSimilarSection",sidebar:"DesktopBoardSidebar"}]}],card:["Page",{title:"BaseTitle",content:["Layout",{sidebar:"DesktopSidebar"}]}],search:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacySearchCardsSection",sidebar:"DesktopSidebar"}]}],searchBoards:["Page",{title:"BaseTitle",content:["Layout",{section:"DesktopLegacySearchSection",sidebar:"DesktopSidebar"}]}],channel:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyChannelSection",sidebar:"DesktopSidebar"}]}],favoritesType:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyFavoritesSection",sidebar:"DesktopSidebar"}]}],contests:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyContestsSection",sidebar:"DesktopSidebar"}]}],dailyPhoto:["Page",{title:"BaseTitle",content:["Layout",{section:"DesktopLegacyContestSection",sidebar:"DesktopSidebar"}]}],contest:["Page",{title:"BaseTitle",content:["Layout",{section:"DesktopLegacyContestSection",sidebar:"DesktopSidebar"}]}],pluginSuccess:["Page",{title:"BaseTitle",content:["LayoutPlugin",{section:"DesktopLegacyPluginSuccessSection",sidebar:"DesktopSidebar"}]}],embed:["Page",{title:"BaseTitle",content:["EmbedLayout",{sidebar:"DesktopEmbedSidebar"}]}],editorsChoice:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyEditorsChoiceSection",sidebar:"DesktopSidebar"}]}],share:["SharePage",{title:"BaseTitle",content:["ShareLayout",{sidebar:"DesktopShareSidebar"}]}],retpath:["Page",{content:"BaseRetpath"}],addFlow:["Page",{title:"BaseTitle",content:"AddFlowLayout"}],addFlowBro:["Page",{title:"BaseTitle",content:"AddFlowLayout"}],verticalFeed:["Page",{title:"BaseTitle",content:["Layout",{section:"ReactFeedSection",sidebar:"DesktopSidebar"}]}],offline:["Page",{title:"BaseTitle",content:["Layout",{}]}],errorNotFound:["Page",{title:"BaseTitle",content:["Layout",{section:"LegacyNotFoundSection",sidebar:"DesktopSidebar"}]}]},Om=["statistics","geoBoard","geoChannel","appRecent","broFeed","broBookmarks","verificationByNumber","underside"],_m={Page:["DesktopBasePage",{baseState:"BaseState",router:"router",translate:"translate",env:"env",notificationCenter:"NotificationCenter",currentUserState:"CurrentUserState",metrika:"Metrika",countersCenter:"CountersCenter",pageVisibilityState:"PageVisibilityState",redux:"redux"}],BaseState:{env:"env",currentUser:"currentUser",routerState:"RouterState",cardPopupState:"CardPopupState"},env:"Env",translate:"Translate",Planner:"Planner",Env:["ClientEnv",{translateAdapter:"translate",planner:"Planner"}],currentUser:"User.auth#updateAuth",request:["ClientRequest",{logger:"networkLogger",env:"env"}],networkLogger:"ClientLogger.networkFactory",ClientLoggerWriter:"ClientLoggerWriter",ClientLogger:{env:"env",writer:"ClientLoggerWriter"},User:{request:"request",env:"env"},RouterState:{router:"router",env:"env"},router:["ClientRouter",{env:"env"}],CardPopupState:{request:"request",card:"currentCard",cards:"currentCards",routerState:"RouterState",internetImagesState:"SeriesInternetImagesState",env:"env",pluginMessageBus:"pluginMessageBus",similarCards:"CardPopupState/similarCards",sidebarState:"SidebarState"},currentCard:["Card#updateCurrentCard",{env:"env"}],Card:{request:"request"},currentCards:["Cards#updateCurrentCards",{env:"env",currentCard:"currentCard"}],Cards:{request:"request"},SeriesInternetImagesState:["internetImagesState",{cards:"SeriesInternetCards"}],SeriesInternetCards:["InternetCards",{request:"request",env:"env"}],internetImagesState:["InternetImagesState",{request:"request",env:"env"}],pluginMessageBus:"PluginMessageBus","CardPopupState/similarCards":["Cards#updateDependenciesSimilarCards",{request:"request",card:"currentCard"}],SidebarState:{userBoards:"sidebarUserBoards",internetImagesState:"SidebarInternetImagesState",pluginMessageBus:"pluginMessageBus",routerState:"RouterState",request:"request",env:"env"},sidebarUserBoards:"lazyCurrentUserBoards",lazyCurrentUserBoards:["Boards",{currentUser:"currentUser",env:"env",request:"request"}],Boards:{request:"request"},SidebarInternetImagesState:["internetImagesState",{cards:"SidebarInternetCards"}],SidebarInternetCards:["InternetCards",{request:"request",env:"env"}],NotificationCenter:{env:"env",routerState:"RouterState",currentUser:"currentUser"},CurrentUserState:{currentUser:"currentUser"},Metrika:{request:"request",env:"env",currentUser:"currentUser"},CountersCenter:{env:"env"},PageVisibilityState:"PageVisibilityState",redux:["Redux",{reduxState:"ReduxState"}],ReduxState:{env:"env",apphost:"apphost"},apphost:"AppHost",AppHost:["ClientAppHost",{request:"request"}],BaseTitle:{cardPopupState:"CardPopupState",notificationCenter:"NotificationCenter",env:"env",redux:"redux"},Layout:["DesktopLayout",{currentUser:"currentUser",hintState:"HintState",baseState:"BaseState",cardPopupState:"CardPopupState",sidebarState:"SidebarState",env:"env"}],HintState:{env:"env",routerState:"RouterState"},LegacyMainSection:{redux:"redux"},DesktopSidebar:{model:"SidebarState",env:"env"},ReactFeedSection:["DesktopLegacyFeedSection",{redux:"redux"}],LegacyProfileSection:{env:"env",redux:"redux"},LegacyBoardSection:{redux:"redux",baseState:"BaseState",env:"env"},DesktopBoardSidebar:"DesktopSidebar",BoardSimilarSection:{redux:"redux"},LegacySearchCardsSection:{redux:"redux"},DesktopLegacySearchSection:{redux:"redux"},LegacyChannelSection:{redux:"redux",env:"env"},LegacyFavoritesSection:{redux:"redux",env:"env"},LegacyContestsSection:{env:"env",redux:"redux"},DesktopLegacyContestSection:{redux:"redux"},LayoutPlugin:["DesktopPluginLayout",{currentUser:"currentUser",hintState:"HintState",baseState:"BaseState",cardPopupState:"CardPopupState",sidebarState:"SidebarState",env:"env",notificationCenter:"NotificationCenter"}],DesktopLegacyPluginSuccessSection:{env:"env",redux:"redux"},EmbedLayout:{sidebarState:"EmbedSidebarState",internetImagesState:"SidebarInternetImagesState",env:"env"},EmbedSidebarState:{userBoards:"sidebarUserBoards",pluginMessageBus:"pluginMessageBus",internetImagesState:"SidebarInternetImagesState",embedImages:"embedImages",routerState:"RouterState",request:"request",env:"env",loggerWriter:"ClientLoggerWriter"},embedImages:["EmbedImages",{pluginMessageBus:"pluginMessageBus"}],DesktopEmbedSidebar:{model:"EmbedSidebarState",pageVisibilityState:"PageVisibilityState",env:"env"},LegacyEditorsChoiceSection:{redux:"redux"},SharePage:["!Page",{static:{share:!0}}],ShareLayout:["DesktopShareLayout",{sidebarState:"ShareSidebarState",env:"env"}],ShareSidebarState:{userBoards:"sidebarUserBoards",internetImagesState:"ShareSidebarInternetImagesState",pluginMessageBus:"pluginMessageBus",routerState:"RouterState",request:"request",env:"env"},ShareSidebarInternetImagesState:"SidebarInternetImagesState",DesktopShareSidebar:{model:"ShareSidebarState",env:"env",static:{isShareLayout:!0}},BaseRetpath:{routerState:"RouterState",env:"env"},AddFlowLayout:{redux:"redux",reduxBus:"reduxBus"},reduxBus:["ReduxBus",{bus:["PluginMessageBus.factoryModal",{static:{eventName:"pdb-add-card"}}],redux:"redux"}],"reduxBus/bus":["PluginMessageBus.factoryModal",{static:{eventName:"pdb-add-card"}}],LegacyNotFoundSection:{response:"response",redux:"redux"},response:["ClientResponse",{router:"router"}],application:"ClientApplication",errorLogger:"ClientLogger.errorFactory",ContestBallotsCards:{request:"request"},CardCreateStrategy:{env:"env"},CardCreateGuestStrategy:{env:"env",request:"request",cardCreate:"CardCreateStrategy"},CardShareStrategy:{cardCreate:"CardCreateStrategy",cardCreateToBoard:"CardCreateToBoardStrategy"},CardCreateToBoardStrategy:{request:"request",cardCreate:"CardCreateStrategy"},CardReceiveShareBusCardStrategy:{env:"env",request:"request",currentUser:"currentUser",bus:"CardReceiveShareBusCardStrategy/bus",contentStrategy:"CardCreateContentStrategy",imageStrategy:"CommonImageInfoStrategy"},"CardReceiveShareBusCardStrategy/bus":["PluginMessageBus.factoryModal",{static:{eventName:"pdb-add-card"}}],CardCreateContentStrategy:{request:"request"},CommonImageInfoStrategy:{},CardChangeBoardStrategy:{request:"request",cardPopupState:"CardPopupState"},CardEditStrategy:{env:"env",cardCreate:"CardCreateStrategy"},CardsFetchFromFilesStrategy:{env:"env",cardContent:"CardCreateContentStrategy"},CardsFetchFromQueryStrategy:{request:"request"},CardsFetchFromHtmlStrategy:{},CardAddContentStrategy:{notificationCenter:"NotificationCenter"},BoardSaveStrategy:{},BoardSuggestNameStrategy:{request:"request"},BoardsRefetchStrategy:{userBoards:"sidebarUserBoards"},HintSidebarStrategy:{},BoardToReduxStrategy:{},CardToReduxStrategy:{},CardSetCurrentCardToReduxStrategy:{},CardRemoveStrategy:{},CardRemoveFromFeedToReduxStrategy:{},CardRemoveFromContestReduxStrategy:{},yandexImagesSuggestSource:["YandexImagesSuggestSource",{request:"request"}],ExtBannerState:{env:"env",sidebarState:"SidebarState"}};hm=u,new Promise((function(e,t){document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){var n,r=function(e){var t=document.querySelector("#restoreData"),n=t?Object(d.a)(t.textContent):null;return n&&(Object.assign(e.dependencies,n.dependencies),Object.assign(e,{restoreData:n})),e}(hm);r.factories=[(n=r.restoreData.di,function(e,t){var r=e.id,i=e.Module,a=e.reuse;if(f){var o=n[r];if(!o&&a&&(o=n[a]),o){if(!i.restore)throw new Error("Cannot restore "+r);return i.restore(o,t)}}}),Object(l.d)(),Object(l.c)()];var i=Object(l.b)(r),a=!1,o=!1,s=r.restoreData.rebaseUrl;return 0===s.indexOf("/offline/")?(a=!0,Object(h.a)("client-offline-bootstrap")):0===s.indexOf("/any/")?o=!0:0===s.indexOf("/images/")||0===s.indexOf("/gorsel/")||s.match(/\/collections\/(app|bro\/)?add\//)||-1!==location.href.indexOf(s)||history.replaceState(void 0,"",s),function(e,t){return Promise.resolve(e("application",Object.assign({di:e},t))).then((function(e){return e.start()}))}(i,{config:r,isOffline:a,isNotFound:o}).catch((function(e){console.error(e)})).then((function(){f=!1})).then(e,t)}))}))}))},MAhU:function(e,t,n){},MBmZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("RvyH"),o=Object(r.a)(a.a,Object(i.a)("overflow",!1))},MMez:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r,i=n("PExD"),a=n("lc+m"),o=n("7z6F"),s=n("RoKP"),c=n("om3R"),u=n("WiFc"),l=n("oBAa"),d=n("i1uP"),h=n("rT8E"),f=n("lpMR"),p=n("izju"),b=n("LYkV"),m=((r={})[p.a.FILM]=b.film(),r[p.a.IMAGE]=b.image(),r[p.a.LINK]=b.link(),r[p.a.SERIES]=b.series(),r[p.a.VIDEO]=b.video(),r),v=Object(d.a)(a.a,(function(e){if(e){var t=Object(l.a)(e),n=Object(c.a)(e),r=Object(h.a)(n),a=Object(f.a)(n),d=r===p.a.LINK,b=Object(o.a)(e),v=Object(u.a)(e),g=b;return a?g=v||b:d?g=t?b||v:v||b:e.recipe?g=e.recipe.name:e.object_answer?g=e.object_answer.title:e.market?g=Object(s.a)(e.market):e.organization&&(g=e.organization.name),Object(i.b)(g)||r&&m[r]||""}}))},MMsl:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c}));var r=function(e,t){return e[e[t="DEFAULT"]="default"]=t,e[e[t="DARK"]="dark"]=t,e[e[t="GREY"]="grey"]=t,e}({}),i=function(e,t){return e[e[t="SMALL"]="s"]=t,e[e[t="MEDIUM"]="m"]=t,e[e[t="LARGE"]="l"]=t,e[e[t="EXTRA_LARGE"]="xl"]=t,e}({}),a=function(e,t){return e[e[t="LEFT"]="left"]=t,e[e[t="CENTER"]="center"]=t,e}({}),o=function(e,t){return e[e[t="BOTTOM_LEFT"]="bottom-left"]=t,e[e[t="BOTTOM_RIGHT"]="bottom-right"]=t,e[e[t="TOP_LEFT"]="top-left"]=t,e[e[t="TOP_RIGHT"]="top-right"]=t,e[e[t="LEFT_CENTER"]="left-center"]=t,e}({}),s=function(e,t){return e[e[t="BOTTOM_LEFT"]="bottom-left"]=t,e[e[t="BOTTOM_CENTER"]="bottom-center"]=t,e[e[t="BOTTOM_RIGHT"]="bottom-right"]=t,e[e[t="TOP_LEFT"]="top-left"]=t,e[e[t="TOP_CENTER"]="top-center"]=t,e[e[t="TOP_RIGHT"]="top-right"]=t,e[e[t="RIGHT_TOP"]="right-top"]=t,e[e[t="RIGHT_CENTER"]="right-center"]=t,e[e[t="RIGHT_BOTTOM"]="right-bottom"]=t,e[e[t="LEFT_TOP"]="left-top"]=t,e[e[t="LEFT_CENTER"]="left-center"]=t,e[e[t="LEFT_BOTTOM"]="left-bottom"]=t,e}({}),c=function(e,t){return e[e[t="ANCHOR"]="anchor"]=t,e[e[t="POSITION"]="position"]=t,e[e[t="INLINE"]="inline"]=t,e}({})},MTjZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("NuA5"),i=n("IWXk"),a=Object(r.a)("user",i.a);function o(e){return a(e)||e&&e.user}},MXHp:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("om3R"),i=n("rT8E"),a=n("Hxdx"),o=n("izju"),s=[o.a.LINK,o.a.NEWS];function c(e){if(e){var t=Object(r.a)(e);if(t){var n=Object(i.a)(t);return n&&s.includes(n)?Object(a.a)(t):void 0}}}},"Ml+Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("W+cT"),i=n("POJF");function a(e,t){if(Object(i.a)(e,t)){var n=Object(r.a)(e,t);return!(n&&n.length)}return!1}},MlGB:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("QodL"),o=n("BKHA"),s=n("ukm6"),c=n("4RqY"),u=Object(c.a)((function(e,t){var n,r,a;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.di,o.next=3,i.a.awrap(n("router"));case 3:return r=o.sent,a=r.getPopHandler(),o.abrupt("return",a.closeByUser(e));case 6:case"end":return o.stop()}}))})),l=n("1WnH");n.d(t,"a",(function(){return d}));var d=Object(c.a)((function(e,t){var n,r,c,d,h;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.getState,c=r(),d=Object(o.a)(c),h=Object(s.a)(c).modal,!(d.cards&&d.cards.length>0)){e.next=6;break}return e.abrupt("return",n(Object(l.a)({id:"modal_bulk",type:a.c.BULK,animationType:a.a.NONE,spinnerType:a.a.MODAL,preventOverlay:!0,options:{back:!0}})));case 6:if(!(h&&h.key&&h.type)){e.next=13;break}return e.next=9,i.a.awrap(n(u({id:h.key,prefix:h.type})));case 9:e.sent&&n(Object(l.a)(null)),e.next=14;break;case 13:return e.abrupt("return",n(Object(l.a)(null)));case 14:case"end":return e.stop()}}))}))},MmrI:function(e,t,n){},Mp5Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=[["#7e1796","#24ccaa"],["#ef6a68","#4f3ea8"],["#feda40","#d12b67"],["#dcde68","#e12423"],["#b90f4d","#e19725"],["#686060","#000000"],["#22bfa0","#791291"],["#cabf46","#0084b8"],["#e6b377","#c61e1d"],["#e26462","#5540c2"],["#41c8e7","#7f2dd6"],["#d9cc13","#c3181f"],["#e2c234","#c5225c"],["#bdc81e","#e86e20"],["#12cfcf","#2e3192"],["#dc972c","#b3114c"],["#ccce25","#088543"],["#45145a","#ff5300"],["#009e00","#d7d775"],["#a3a1ff","#3a3897"],["#29abe2","#4f00bc"],["#3aa17e","#00537e"],["#d0d042","#00a8c5"],["#ed1e79","#662d8c"],["#852d91","#312a6c"]],i=[].concat(r,r.map((function(e){var t=e[0];return[e[1],t]}))),a=[0,50,100];function o(e){var t=0,n=e.length,r=0;if(n>0)for(;r<n;)t=(t<<5)-t+e.charCodeAt(r++)|0;return Math.abs(t)}function s(e){e||(e="");var t=Math.ceil(e.length/2),n=o(e)%i.length,r=o(e.slice(0,t))%a.length,s=o(e.slice(e.length-t,e.length))%a.length,c=i[n];return"radial-gradient(circle at "+a[s]+"% "+a[r]+"%, "+c[0]+", "+c[1]+")"}},MyJ8:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({link:"Перейти",coauthorsWrapWithOwner:[function(e){return" и "+i(e.count)+" соавтор"},function(e){return" и "+i(e.count)+" соавтора"},function(e){return" и "+i(e.count)+" соавторов"}]})},Mycy:function(e,t,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),a=n("Ot8I"),o=n("YFOV"),s=n("3xGx");function c(e,t){if(void 0===t&&(t="16x9"),e&&e.teaser_data){var n=e.teaser_data[t];return n&&0!==n.parts_count?n:void 0}}var u=n("0MRR");n.d(t,"a",(function(){return l}));var l=Object(i.a)((function(e,t){var n=t.id,r=t.stateKey,i=t.format,a=Object(o.a)(r)(e,n);return a?{preview:c(a,i),partsCount:Object(s.a)(a,i)}:{}}))((function(e){var t=e.srcSize,n=void 0===t?"orig":t,i=e.srcSetSize,o=e.count,s=e.preview,c=e.partsCount,l=o?Math.max(0,o-3):0,d=function(e){if(s&&e)return Object(a.b)(s,{size:e,serverTeaser:!0})};return s?r.createElement(r.Fragment,null,r.createElement(u.a,{mod:"teaser-single-grid",src:d(n),srcSet:d(i)}),Boolean(c&&c>=3&&l>0)&&r.createElement("div",{className:"cl-teaser__picture-stat"},r.createElement("span",{className:"cl-teaser__picture-count"},l))):null}))},N4H6:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("bmsa"),o=n("A2YD"),s=n("cJ2g"),c=n("mdRN"),u=n("c+Ap"),l=function(e,t){return e[e[t="EXPANDED"]="EXPANDED"]=t,e[e[t="COLLAPSED"]="COLLAPSED"]=t,e[e[t="HIDDEN"]="HIDDEN"]=t,e[e[t="CHANGING"]="CHANGING"]=t,e[e[t="GOING_TO_COLLAPSE"]="GOING_TO_COLLAPSE"]=t,e[e[t="GOING_TO_EXPAND"]="GOING_TO_EXPAND"]=t,e[e[t="GOING_TO_HIDE"]="GOING_TO_HIDE"]=t,e}({}),d=n("Fe8d"),h=n("Oaat"),f=n("zIxK");n.d(t,"a",(function(){return b}));var p={"max-age":31536e3,expires:new Date(Date.now()+31536e3).toUTCString()},b=(l.EXPANDED,l.COLLAPSED,l.HIDDEN,function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.initialize=function(e){var t=e.env;this.env=t;var n=!o.a||{passive:!0};window.addEventListener("scroll",this.onScroll.bind(this),n),window.addEventListener("resize",this.onResize.bind(this),n),this.set({width:Number(t.getCookie("cpw")),height:Number(t.getCookie("cph")),scrollWidth:Number(t.getCookie("csw"))}),this.on("change:width",this.saveWidth),this.on("change:height",this.saveHeight),this.on("change:scrollWidth",this.saveScroll),this.set({scrollWidth:Object(f.a)(),scrollTop:this.getForceScrollTop()}),this.savePixelRatio(),this.onResize()},n.onScroll=function(){this.set("scrollTop",this.getForceScrollTop()),this.onChangeScrollTop()},n.onResize=function(){this.set({width:this.getForceWindowWidth(),height:this.getForceWindowHeight()}),this.trigger("resize")},n.getWindowWidth=function(){return this.get("width")},n.getWindowHeight=function(){return this.get("height")},n.getScrollWidth=function(){return this.get("scrollWidth")},n.getScrollTop=function(){return this.get("scrollTop")},n.getPixelRatio=function(){return window.devicePixelRatio},n.scrollTo=function(e,t,n){if(n){var r=document,i=r.body,a=r.documentElement,o=i.scrollTop,s=i.scrollLeft,c=a.scrollTop,u=a.scrollLeft;Object(d.a)({step:function(n){i.scrollTop=t+(o-t)*(1-n),i.scrollLeft=e+(s-e)*(1-n),a.scrollTop=t+(c-t)*(1-n),a.scrollLeft=e+(u-e)*(1-n)}}).then((function(){return n.complete&&n.complete(),Object(h.a)(100)}))}else window.scrollTo(e,t)},n.scrollToTop=function(){this.scrollTo(0,0)},n.isScrolling=function(){return this.get("isScrolling")},n.getForceScrollTop=function(){return document.body.scrollTop||document.documentElement.scrollTop},n.getForceWindowHeight=function(){return document.body.clientHeight},n.getForceWindowWidth=function(){var e=u.K;return Math.max(e,window.innerWidth)},n.saveWidth=function(){this.env.setCookie("cpw",this.getWindowWidth(),p)},n.saveHeight=function(){this.env.setCookie("cph",this.getWindowHeight(),p)},n.saveScroll=function(){this.env.setCookie("csw",this.getScrollWidth(),p)},n.savePixelRatio=function(){this.env.setCookie("cpr",this.getPixelRatio(),p)},t.factory=function(e){if(!this.instance){if(!e)throw new Error("State is not ready");this.instance=new t(e)}return this.instance},t}(a.a));Object(c.a)(s.a)(b)},N6Jk:function(e,t){e.exports=function(){"use strict";function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),e.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,i,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(i=e[t],n[i.type](i));if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,n){n=void 0!==n?n:{};var r,i={},a={AnySeq:0},o=0,s=[function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=t.length;"string"==typeof e[n]&&r>0&&"string"==typeof t[r-1]?t[r-1]+=e[n]:t.push(e[n])}return t}((t=e,Array.prototype.concat.apply([],t)));var t},function(e){return e},"```",m("```",!1),{type:"any"},function(e){return e},function(){return b()},"http",m("http",!1),"s",m("s",!1),"://",m("://",!1),".",m(".",!1),function(e){return E("Link",{value:b(),text:e})},"@",m("@",!1),function(e){return E("UserMentionTag",{value:e.join("")})},"#",m("#",!1),function(){var e=b();return e.match(/^#x[a-f0-9]{2}$/)?e:E("HashTag",{value:b()})},g("HashTagSpecialChar"),"_",m("_",!1),g("UserMentionSpecialChar"),/^[.@\-]/,v([".","@","-"],!1,!1),g("LinkSpecialChar"),/^[_\-]/,v(["_","-"],!1,!1),g("Char"),g("CharEn"),/^[a-zA-Z]/,v([["a","z"],["A","Z"]],!1,!1),g("CharRu"),/^[\u0430-\u044F\u0451\u0410-\u042F\u0401]/,v([["а","я"],"ё",["А","Я"],"Ё"],!1,!1),g("Number"),/^[0-9]/,v([["0","9"]],!1,!1),g("NoneWhitespace"),/^[^ \t\n\r]/,v([" ","\t","\n","\r"],!0,!1),g("Whitespace"),/^[ \t\n\r]/,v([" ","\t","\n","\r"],!1,!1)],c=[C("%$;!0#*;!&/' 8!: !! )"),C('%;0/,#;"/#$+")("\'#&\'#.5 &%;".# &;$/\' 8!:!!! )'),C(";'./ &;&.) &;%.# &;#"),C('%2"""6"7#/¨#%$%%<2"""6"7#=.##&&!&\'#/1#1""5!7$/#$+")("\'#&\'#/P#0M*%%<2"""6"7#=.##&&!&\'#/1#1""5!7$/#$+")("\'#&\'#&&&#/"!&,)/7$2"""6"7#/($8#:%#!!)(#\'#("\'#&\'#'),C('%$%%<%;0/,#;"/#$+")("\'#&\'#=.##&&!&\'#/1#1""5!7$/#$+")("\'#&\'#/]#0Z*%%<%;0/,#;"/#$+")("\'#&\'#=.##&&!&\'#/1#1""5!7$/#$+")("\'#&\'#&&&#/& 8!:&! )'),C('%2\'""6\'7(/¿#2)""6)7*." &"/«$2+""6+7,/$%%$;+.) &;..# &;*/2#0/*;+.) &;..# &;*&&&#/X#2-""6-7./I$$;+/&#0#*;+&&&#/3$$;/0#*;/&/#$+$)($\'#(#\'#("\'#&\'#/"!&,)/($8$:/$! )($\'#(#\'#("\'#&\'#'),C('%20""6071/V#$;,.) &;..# &;)/2#0/*;,.) &;..# &;)&&&#/($8":2"! )("\'#&\'#'),C("%23\"\"6374/X#;+/O$$;+.) &;..# &;(0/*;+.) &;..# &;(&/'$8#:5# )(#'#(\"'#&'#"),C('<27""6778=." 76'),C('<4:""5!7;=." 79'),C('<4=""5!7>=." 7<'),C('<;,.# &;-=." 7?'),C('<4A""5!7B=." 7@'),C('<4D""5!7E=." 7C'),C('<4G""5!7H=." 7F'),C('<4J""5!7K=." 7I'),C('<4M""5!7N=." 7L')],u=0,l=0,d=[{line:1,column:1}],h=0,f=[],p=0;if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=a[n.startRule]}function b(){return t.substring(l,u)}function m(e,t){return{type:"literal",text:e,ignoreCase:t}}function v(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function g(e){return{type:"other",description:e}}function O(e){var n,r=d[e];if(r)return r;for(n=e-1;!d[n];)n--;for(r={line:(r=d[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return d[e]=r,r}function _(e,t){var n=O(e),r=O(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function y(e){u<h||(u>h&&(h=u,f=[]),f.push(e))}function C(e){var t,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=e.charCodeAt(t)-32;return n}function E(e,t){return{type:e,props:t}}if((r=function e(n){for(var r,a,o=c[n],d=0,h=[],f=o.length,b=[],m=[];;){for(;d<f;)switch(o[d]){case 0:m.push(s[o[d+1]]),d+=2;break;case 1:m.push(void 0),d++;break;case 2:m.push(null),d++;break;case 3:m.push(i),d++;break;case 4:m.push([]),d++;break;case 5:m.push(u),d++;break;case 6:m.pop(),d++;break;case 7:u=m.pop(),d++;break;case 8:m.length-=o[d+1],d+=2;break;case 9:m.splice(-2,1),d++;break;case 10:m[m.length-2].push(m.pop()),d++;break;case 11:m.push(m.splice(m.length-o[d+1],o[d+1])),d+=2;break;case 12:m.push(t.substring(m.pop(),u)),d++;break;case 13:b.push(f),h.push(d+3+o[d+1]+o[d+2]),m[m.length-1]?(f=d+3+o[d+1],d+=3):(f=d+3+o[d+1]+o[d+2],d+=3+o[d+1]);break;case 14:b.push(f),h.push(d+3+o[d+1]+o[d+2]),m[m.length-1]===i?(f=d+3+o[d+1],d+=3):(f=d+3+o[d+1]+o[d+2],d+=3+o[d+1]);break;case 15:b.push(f),h.push(d+3+o[d+1]+o[d+2]),m[m.length-1]!==i?(f=d+3+o[d+1],d+=3):(f=d+3+o[d+1]+o[d+2],d+=3+o[d+1]);break;case 16:m[m.length-1]!==i?(b.push(f),h.push(d),f=d+2+o[d+1],d+=2):d+=2+o[d+1];break;case 17:b.push(f),h.push(d+3+o[d+1]+o[d+2]),t.length>u?(f=d+3+o[d+1],d+=3):(f=d+3+o[d+1]+o[d+2],d+=3+o[d+1]);break;case 18:b.push(f),h.push(d+4+o[d+2]+o[d+3]),t.substr(u,s[o[d+1]].length)===s[o[d+1]]?(f=d+4+o[d+2],d+=4):(f=d+4+o[d+2]+o[d+3],d+=4+o[d+2]);break;case 19:b.push(f),h.push(d+4+o[d+2]+o[d+3]),t.substr(u,s[o[d+1]].length).toLowerCase()===s[o[d+1]]?(f=d+4+o[d+2],d+=4):(f=d+4+o[d+2]+o[d+3],d+=4+o[d+2]);break;case 20:b.push(f),h.push(d+4+o[d+2]+o[d+3]),s[o[d+1]].test(t.charAt(u))?(f=d+4+o[d+2],d+=4):(f=d+4+o[d+2]+o[d+3],d+=4+o[d+2]);break;case 21:m.push(t.substr(u,o[d+1])),u+=o[d+1],d+=2;break;case 22:m.push(s[o[d+1]]),u+=s[o[d+1]].length,d+=2;break;case 23:m.push(i),0===p&&y(s[o[d+1]]),d+=2;break;case 24:l=m[m.length-1-o[d+1]],d+=2;break;case 25:l=u,d++;break;case 26:for(r=o.slice(d+4,d+4+o[d+3]),a=0;a<o[d+3];a++)r[a]=m[m.length-1-r[a]];m.splice(m.length-o[d+2],o[d+2],s[o[d+1]].apply(null,r)),d+=4+o[d+3];break;case 27:m.push(e(o[d+1])),d+=2;break;case 28:p++,d++;break;case 29:p--,d++;break;default:throw new Error("Invalid opcode: "+o[d]+".")}if(!(b.length>0))break;f=b.pop(),d=h.pop()}return m[0]}(o))!==i&&u===t.length)return r;throw r!==i&&u<t.length&&y({type:"end"}),function(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}(f,h<t.length?t.charAt(h):null,h<t.length?_(h,h+1):_(h,h))}}}()},"N7+n":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("Ot8I"),c=n("stuq"),u=n("6ga4"),l=n("EgTM"),d=n("yRgj"),h=n("c+Ap"),f=n("o0o1"),p=n.n(f),b=n("73/6"),m=n("dohL"),v=n("4RqY"),g=n("nAK0"),O="/collections/api/recommender/hidden_list/",_=Object(v.a)((function(e,t){var n,r,a,o,s,c,u,d,h,f;return p.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return n=e.channelId,r=e.counter,a=t.dispatch,o=t.getState,s=t.di,v.next=4,p.a.awrap(s("request"));case 4:if(c=v.sent,u=Object(l.a)(o(),n)){v.next=8;break}throw new Error("Cannot find channel with id "+n);case 8:return d=Boolean(u.hide_recommedation),h=i()({channelSlug:u.slug,recId:u.recommendations_id},r),g.d.clickChannelHide(h),a(Object(b.a)({id:n,value:{hide_recommedation:!d}})),f={"channel.slug":u.slug},v.prev=13,v.next=16,p.a.awrap(d?c.del(O,f):c.post(O,f));case 16:d||g.d.finishChannelHide(h),v.next=24;break;case 19:throw v.prev=19,v.t0=v.catch(13),a(Object(b.a)({id:n,value:{hide_recommedation:d}})),a(Object(m.a)({error:v.t0})),v.t0;case 24:case"end":return v.stop()}}),null,null,[[13,19]])})),y=n("H0hN"),C=n("5/dx"),E=n("0MRR"),j=n("bpve"),S=n("EvZm"),w=n("SAMx"),k=n("45c2"),I=n("Toh8");n("AW/l");var T=function(e){var t=e.fixed,n=e.mini,r=e.incut;return n&&(t=!1),a.createElement(I.a,i()({className:Object(u.a)("cl-channel-teaser-placeholder",{fixed:t,mini:n,incut:r}),picture:!0,title:!0,desc:!n},e))};n.d(t,"a",(function(){return R}));var R=Object(o.a)((function(e,t){var n=t.channelId;if(!n)return{};var r=Object(l.a)(e,n);return{channel:r,hidden:Boolean(r&&r.hide_recommedation)}}))((function(e){var t=e.fixed,n=e.mini,r=e.statical,o=e.showComplain,l=e.showStat,f=e.itemRef,p=e.channel,b=e.hidden,m=e.dispatch,v=e.counter;if(n&&(t=!1),!p)return a.createElement(T,{fixed:t,mini:n,itemRef:f});p.stat&&p.stat.subscribers_count>=h.g&&(l=!0);var g=Object(d.a)(p),O=!r&&a.createElement(j.a,{shadow:t,ei:!0,size:"M",shape:"round",subValue:p.stat.subscribers_count,id:p.id,storeKey:"channels"}),I=o&&a.createElement("div",{className:"cl-teaser__action"},a.createElement(S.a,{type:"clear",size:"M",iconOnly:!0,mods:{"action-close":[!0,"invert"]},icon:!0,onClick:function(){m(_({channelId:p.id,counter:v}))}}));return a.createElement(C.a,{mod:"channel",mods:{fixed:t,mini:n,hidden:b},picture:a.createElement(E.a,{mod:"teaser",src:Object(s.b)(p.images.size1x2,{size:n?"240x180":"360x270",forceProd:r})}),footer:a.createElement(w.a,{mod:"channel-teaser",mods:{fixed:t,mini:n,stat:l}},!n&&p.verticals&&a.createElement("ul",{className:Object(u.a)("dot-list",{size:"S",teaser:!0,fixed:!0})},a.createElement("li",{className:"dot-list__item"},a.createElement("span",{className:"dot-list__text"},g))),a.createElement("h3",{className:"cl-teaser-info__title"},p.title),!n&&l&&a.createElement("p",{className:"cl-teaser-info__desc"},k.followers({count:Object(c.a)(p.stat.subscribers_count)}))),ctrl:!n&&!r&&O,itemRef:f,linkFactory:function(e){return a.createElement(y.a,i()({channelId:p.id},e))}},I)}))},N98e:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r,i=n("SQy1"),a=n("y/M8"),o=n("bmsa"),s=n("t0kG");function c(e,t){return n={title:e.translate(a["title"+t]),text:e.translate(a["description"+t]),cancelLabel:e.translate(a.cancel),acceptLabel:e.translate(a["submit"+t])},s=n.title,c=n.text,u=n.cancelLabel,l=n.acceptLabel,r||(r=new o.a),d=r,new Promise((function(e){d.accept=function(){return e(!0)},d.cancel=function(){return e(!1)},i.a.show({title:s,text:c,buttons:[{model:d,method:"cancel",label:u,size:"L",max:!0},{model:d,method:"accept",label:l,size:"L",type:"action"}]})})).then((function(e){return d.cancel=d.accept=void 0,e}));var n,s,c,u,l,d}var u=function(e,t){return function(n){return n&&e.invokeStrategy(s.a.CardRemoveFromContestReduxStrategy,{card:t}).catch((function(e){return console.log(e)})),n}};function l(e,t){return c(e,"MoveToPrivate").then(u(e,t))}function d(e,t){return c(e,"EditImages").then(u(e,t))}},NDfO:function(e,t,n){"use strict";function r(e,t,n){var r=[e];return t.forEach((function(t){n[t]&&("string"==typeof n[t]?r.push(e+"_"+t+"_"+n[t]):n[t]&&r.push(e+"_"+t))}),this),n.class&&r.push(n.class),r.join(" ")}n.d(t,"a",(function(){return r}))},NFNH:function(e,t,n){"use strict";n("4DsO");var r=n("2apU");t.a=r.a.applyDecls()},NP2b:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var r,i=n("VbXa"),a=n.n(i),o=n("+4IB"),s=n("0hep"),c=n("PSoe"),u=n("iROX");!function(e){e[e.FORMAT=0]="FORMAT",e[e.SIZE=1]="SIZE"}(r||(r={}));var l=function(e){function t(t,n,r){var i;return void 0===r&&(r={}),(i=e.call(this,t)||this).type=n,i.params=r,i}return a()(t,e),t}(u.a);function d(e){if(Object(o.a)(e.src))throw new l("Incorrect format",r.FORMAT);var t=e.naturalWidth,n=e.naturalHeight,i=Object(s.a)(e.src),a=c.c.WIDTH,u=c.c.HEIGHT;if(i&&(a=c.b.WIDTH,u=c.b.HEIGHT),t<a||n<u)throw new l("Incorrect size",r.SIZE,{width:a,height:u});return!0}},NVra:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("x9gI"),c=n("G7p/"),u=n("c+Ap"),l=n("ICaW"),d={},h={};function f(e,t){var n=window,r=t&&t.id||u.Z,a=d[r];function f(e){a.then((function(t){return e(t)}))}return a||(a=new Promise((function(a){var u=Object(s.a)(e,l.a.METRIKA_WEBVISOR);function d(){var e={id:r},s=t||{},c=s.idOnly,l=o()(s,["idOnly"]);c||(e=i()({},e,{clickmap:u,trackLinks:!0,accurateTrackBounce:!0,webvisor:u,trackHash:!0,tns:{account:"yandex_ru",tmsec:"yandex_collections"}},l));var d=new n.Ya.Metrika(e);a(d)}n.Ya&&n.Ya.Metrika?Object(c.b)((function(){return d()})):document.addEventListener("yaMetrikaScriptLoaded",d)})),d[r]=a),{onLoad:f,hitAccess:function(){f((function(e){e.hit(location.href)}))},reachGoal:function(e,t){void 0===t&&(t={}),h[r]||(h[r]={}),h[r][e]=(h[r][e]||a).then((function(){return new Promise((function(n){f((function(r){r.reachGoal(e,t),setTimeout(n,1100)}))}))}))},extLink:function(e,t){void 0===t&&(t={});var n={title:document.title,params:t};f((function(t){return t.extLink(e,n)}))}}}},NasR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("+wBA"),i=n("u3Je"),a=n("fjc+").a.CHAT_SETTING_INFO_TOOLTIP,o="DesktopChatSettingInfo";function s(e){return!Object(i.a)(e)&&Object(r.a)(e,a,0)}function c(e){return!Object(i.a)(e)&&!Object(r.a)(e,a,-1)}},Niun:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18 13.5c.6 0 1 .5 1 1v3c0 .8-.7 1.5-1.5 1.5h-11c-.8 0-1.5-.7-1.5-1.5v-11C5 5.7 5.7 5 6.5 5h3a1 1 0 0 1 0 2H7v10h10v-2.5c0-.5.4-1 1-1zm-1.7-6.7v-.3l-1.1.3-1.7.2a1 1 0 0 1-1-1c0-.6.4-1 1-1H18c.6 0 1 .4 1 1v4.5c0 .6-.4 1-1 1a1 1 0 0 1-1-1c0-.6 0-1.1.2-1.7l.3-1.1h-.3l-1 1.4-1 1.1-3.5 3.5a1 1 0 1 1-1.4-1.4l3.5-3.5 1-1 1.5-1z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},Nm8f:function(e,t,n){"use strict";n("IAoT");var r=n("gFRy");t.a=r.a.applyDecls()},NpBQ:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("EVdn"),c=n("Y+Td"),u=n("NDfO"),l=n("mdRN"),d=n("G7lA"),h=n("smvh"),f=n("U60d"),p=n("9TW5"),b=n("Ahwa"),m=n("8yzE"),v=n("c+Ap"),g=n("RQkB"),O=n("nAK0"),_=n("UJ4k");n.d(t,"a",(function(){return S}));var y=0,C=h.c.channel("global.modal").commands,E=h.c.channel("global.modal.embed").commands,j=h.c.channel("global.modal"),S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleBack=!0,t}o()(t,e);var n=t.prototype;return n.initialize=function(){var e=this.getOption("channel");this.options=Object.assign({},{showEvent:"show",hideEvent:"hide",toggleEvent:"toggle",hideScroll:!1},this.options),this.getOption("hideScroll")&&(this.$body=s("body")),!1!==e&&this._mapEvents({showEvent:"toggle:show",hideEvent:"toggle:hide",toggleEvent:"toggle"}),Object(m.c)(this,v.x.ESCAPE,this.onEscape,{priority:100}),this.handleBack=this.options.handleBack},n.className=function(){return Object(u.a)("modal modal_state_hidden",["overlay"],this.options)},n.attributes=function(){return this.options.id||(this.options.id="modal_"+Number(++y).toString(36)),{id:String(this.options.id)}},n._mapEvents=function(e){var t=this;Object(c.forEach)(e,(function(e,n){t._mapEvent(n,e)}))},n._mapEvent=function(e,t){var n=this.getOption(e),r=this.getOption("channel")||j.vent;n&&r&&this.listenTo(r,n,this.proxyEvent(t))},n.getId=function(){return this.getOption("id")},n.show=function(){var e=document.activeElement;e&&e.blur(),this.triggerMethod("toggle:show")},n.hide=function(e){this.triggerMethod("toggle:hide",e),e&&this.options.counterParams&&this.isIntact()&&g.a.sendCounter(O.a.clickModalClose,i()({},this.options.counterParams,{},e)),this.options.destroyOnHide&&this.destroy()},n.toggle=function(){this.triggerMethod("toggle")},n.close=function(e){var t=this;this.hide(e),setTimeout((function(){return t.destroy()}),300)},n.onShow=function(){this.env.reduxState&&this.env.dispatch(Object(_.a)({hidePopup:!0})),this.handleBack&&this.listenTo(this.env.router,"change:pop:back",this.onChangePopId)},n.onChangePopId=function(e){e===this.openId&&this.close({method:"back"})},n.onToggleRefresh=function(e){var t=this;clearTimeout(this.timeout),e?this.$el.removeClass("modal_state_hidden").addClass("modal_state_visible"):(this.$el.removeClass("modal_state_visible").addClass("modal_action_close"),this.timeout=setTimeout((function(){t.$el.removeClass("modal_action_close").addClass("modal_state_hidden")}),200)),this.getOption("hideScroll")&&this.$body.toggleClass("body-overlay",e)},n.onToggleShow=function(){var e=this.env?this.env.router:void 0;if(e){var t=e.getPopHandler();this.openId=t.openModal("modal")}},n.onToggleHide=function(){this.onCloseByUser(),this.openId="",this.stopListening(this.env.router,"change:pop:back")},n.onCloseByUser=function(){this.env.router.getPopHandler().closeByUser({id:this.openId,prefix:"modal"})},n.onModalClick=function(e){var t=s(e.target);(t.is(this.ui.container)||t.is(this.$el))&&this.hide({method:"overlay"})},n.onCloseClick=function(){this.hide({method:"button"})},n.onEscape=function(){if(!this.isDestroyed)return this.close({method:"esc"}),!1},n.proxyEvent=function(e){return function(t){t?this.getOption("id")===t&&this.triggerMethod(e):this.triggerMethod(e)}},n.serializeData=function(){return i()({},this.options)},t.show=function(e){var t=new this(e);return C.execute("show",t),setTimeout((function(){return t.show()})),t},t.showEmbed=function(e){var t=new this(e);return E.execute("show",t),setTimeout((function(){return t.show()})),t},t}(f.a);Object(l.a)({template:function(e){var t=this&&this.isRestored,n=t?p.er:p.e;return(t?p.fr:p.f)([n.d("modal__wrap",{},[n.d("modal__backdrop",{},[n.d("modal__i",{},[b.a.call(e,{data:{view:this}})])])])])},name:"modal",options:{hideScroll:!0},ui:{container:".modal__backdrop",content:".modal__i",closeModal:".button_close"},modelEvents:{destroy:"hide"},triggers:{"click @ui.closeModal":{event:"closeClick",stopPropagation:!1},"click @ui.content":{event:"content:click",preventDefault:!1,stopPropagation:!1},"touchmove @ui.container":{event:"container:touchmove",stopPropagation:!1}},events:{click:"onModalClick"},behaviors:{Toggle:{behaviorClass:d.a}}})(S)},Nqn1:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("o0o1"),i=n.n(r),a=n("3lXt"),o=n("y1pN"),s=n("WLYw"),c=n("+wVo"),u=n("gLBg"),l=n("8KwP"),d=n("4RqY"),h=n("3tUY"),f=Object(d.a)((function(e,t){var n,r,d,f,p,b,m,v;return i.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(n=e.boardId,r=t.getState,d=t.dispatch,f=r(),p=Object(a.a)(f,n),b=Object(s.a)(p),(m=Object(o.a)(f,n))&&b){g.next=8;break}return g.abrupt("return");case 8:if(v=Object(u.f)(m.login,b),!Object(c.a)(f,"boardNavigate")){g.next=14;break}return g.next=12,i.a.awrap(d(Object(h.a)({url:v,replace:!0})));case 12:g.next=15;break;case 14:d(Object(l.a)(void 0));case 15:case"end":return g.stop()}}))}))},NsAD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("EVdn"),i=n("/MON"),a=n("A01R"),o=n("a8Gd"),s=n("n7L5"),c=0;function u(e,t,n){var u=i.a,l=n.view;e||(e="_region"+(c++).toString(36));var d=Boolean("spinner"===n.regionType);n.async&&(u=d?o.a:a.a);var h=l.regionManager.addRegion(e,new u({el:t,parent:l.$el,hash:n.hash}));return(l.isRestored||n.currentView)&&(t&&t.nodeType===Node.COMMENT_NODE||(h.$placeholder=r(Object(s.a)()))),n.currentView?h.quickShow(n.currentView,l,n):t}},NuA5:function(e,t,n){"use strict";function r(e,t){return function(n){if(n){var r=n[e];return r?t(n,r.id):void 0}}}n.d(t,"a",(function(){return r}))},"O/ol":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YFOV"),i=Object(r.a)("contests")},O0q1:function(e,t,n){"use strict";n.r(t);var r=n("56Ik"),i=n("785c"),a=n("hFHJ"),o=n("HVa/"),s=n("vdFK"),c=n("XrQz"),u=n("7Jbl"),l=n("DyDS"),d=r.a.point(i.c.CARD_IMAGE_FILE);o.b.link(s.l,s.c,a.h),o.b.link(s.l,d,s.o),o.b.link(s.l,s.h,s.p),o.b.link(s.l,s.g,s.u),o.b.link(s.l,s.i,s.q,c.a),o.b.link(d,s.g,s.u),o.b.link(d,s.l,a.b),o.b.link(d,s.j,s.v),o.b.link(d,o.a,a.g,u.a),o.b.link(d,o.a,a.e,u.a),o.b.link(s.j,d,a.b,s.w,{loading:!1}),o.b.link(s.g,o.a,a.g,u.a),o.b.link(s.g,s.l,a.b,void 0,{loading:!1}),o.b.link(s.g,d,s.t),o.b.link(s.b,s.k,a.b,l.a),o.b.link(s.f,s.b,a.b),o.b.link(s.c,s.l,a.b),o.b.link(s.c,o.a,a.g,u.a),o.b.link(s.e,s.a,a.b),o.b.link(s.h,o.a,a.g,u.a),o.b.link(s.h,s.l,a.b),o.b.link(s.a,s.h,a.b,s.w,{loading:!1}),o.b.link(s.d,s.a,a.b)},O0ux:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MTjZ"),i=n("We6+"),a=Object(i.a)(r.a)},ODs8:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("x9gI"),c=n("4MLz"),u=";",l="=";function d(e,t){void 0===t&&(t="");var n=t.split(u).map((function(e){return e.split(l)[0]})),r=Object.keys(e).filter((function(t){return Boolean(e[t]&&!n.some((function(e){return e===t})))})).map((function(t){return t+l+e[t]})).join(u);return t?r+u+t:r}var h=n("hV2r"),f=n("CHZ4"),p=n("ICaW"),b=n("BpHA"),m=n("gLBg"),v=n("4RqY"),g=n("S7YN"),O=Object(v.a)((function(e,t){var n,r,a,o,s;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=e.type,r=t.getState,a=t.dispatch,o=r(),s=Object(h.a)(o),a(Object(g.a)({storeKey:"editorsChoice",url:"/collections/api/boards/editors_choice/"+encodeURIComponent(n),reset:{results:[]},query:{previews_count:1,page_size:4,seed:s.seed||Object(c.a)()}}));case 5:case"end":return i.stop()}}))})),_=n("oXfe"),y=n("mbbi");n.d(t,"a",(function(){return C}));var C=Object(v.a)((function(e,t){var n,r,a,u,l,v,C,E,j;return i.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(n=e.value,r=e.onboarding,a=t.getState,u=t.dispatch,l=a(),!Object(f.a)(l,m.a.MAIN)){S.next=10;break}return v=Object(h.a)(l),C=n&&b.a[n]||"general",E=d({user_interface:"desktop"},v.rec_flags),j=Object(s.a)(l,p.d.COLLECTIONS_FEATURED),S.next=10,i.a.awrap(Promise.all([u(Object(g.a)({storeKey:"feedCards",url:"/collections/api/user/feed",reset:{results:[]},query:{rec_flags:E,type:C,onboarding:r,page_size:24,seed:v.seed||Object(c.a)()}}))].concat(j?[u(O({type:C})),u(Object(y.a)({clear:!0}))]:[],[u(Object(_.a)({scrollToTop:!1,payload:o()({},v,{feed:n})}))])));case 10:case"end":return S.stop()}}))}))},OWM9:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("3lXt"),c=n("WLYw"),u=n("k0aB"),l=n("Wopx"),d=n("MTjZ"),h=n("84fb"),f=n("gLBg"),p=n("/bNA"),b=n("WXND"),m=n("gQdx"),v=n("rreP"),g=n("4RqY"),O=n("SDCS"),_=n("nAK0"),y=n("riXN"),C=n("n73F"),E=n("82un"),j=Object(g.a)((function(e,t){var n,r,a,g,j,S,w,k,I,T,R;return i.a.async((function(L){for(;;)switch(L.prev=L.next){case 0:if(n=e.id,r=e.counter,a=t.di,g=t.dispatch,j=t.getState,!Object(h.a)(j())){L.next=8;break}return S=Object(l.a)(j()),w=Object(c.a)(j(),n),k=Object(d.a)(j()),g(Object(O.a)({place:"unlock_board",retpath:y.a.getRetpathUrl(S,Object(f.f)(k.login,w))})),L.abrupt("return");case 8:if(_.d.finishBoardUnlock(o()({},r,{boardId:n})),I=Object(s.a)(j(),n)){L.next=14;break}return L.next=13,i.a.awrap(g(Object(b.a)({boardId:n})));case 13:I=Object(s.a)(j(),n);case 14:if(I){L.next=16;break}throw new Error("Board not found with id "+n);case 16:if(I.is_private){L.next=18;break}throw new Error("Board is already unlocked with id "+n);case 18:return g(Object(m.a)({id:n,value:{is_private:!1}})),L.next=21,i.a.awrap(a("request"));case 21:return T=L.sent,L.prev=22,L.next=25,i.a.awrap(T.patch("/collections/api/boards/"+encodeURIComponent(n),{is_private:!1}));case 25:L.next=32;break;case 27:throw L.prev=27,L.t0=L.catch(22),g(Object(m.a)({id:n,value:{is_private:!0}})),p.a.showXHRMessage(L.t0),L.t0;case 32:R=Object(u.a)(j(),n),C.a.dataFactory(R,{parse:!0}).set({is_private:!1}),g(Object(v.a)({message:E.successUnlock()}));case 35:case"end":return L.stop()}}),null,null,[[22,27]])}))},OYDH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("contextNonce"))},OZAH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=2;function i(e,t){return e.length===r?function(n,r){return t(e(n,r))}:function(n){return t(e(n))}}},Oaat:function(e,t,n){"use strict";function r(e){return void 0===e&&(e=0),new Promise((function(t){setTimeout(t,e)}))}n.d(t,"a",(function(){return r}))},Od09:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("o0o1"),i=n.n(r),a=n("TuN5"),o=n("MTjZ"),s=n("nt9X"),c=n("eD6j"),u=n("4RqY"),l=n("QEzC"),d=Object(u.a)((function(e,t){var n,r,u;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getState,r=Object(o.a)(n()),u=Object(s.a)(r),l.a.removeItem(Object(a.a)(u,c.a));case 4:case"end":return e.stop()}}))}))},Oi3d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("/MKj");function i(e,t){return Object(r.useSelector)((function(n){return e(n,t)}))}},Oj6z:function(e,t,n){},Opci:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a="#FFFFFF",o=n("WNXv");n.d(t,"a",(function(){return c}));var s="color_wiz_back";function c(e,t){var n=Object(o.a)(e);return function(e,t){var n=i()({defaultColor:a,correction:!1},t);return!e&&n.defaultColor&&(e=n.defaultColor),n.correction&&e&&e.match(/#(F[FE]){3}/)&&(e=a),e||a}(n?n[t&&t.name||s]:void 0,t)}},Ot8I:function(e,t,n){"use strict";var r=n("ysEd"),i=n("TPdT"),a=n("1Wr5"),o=n("c+Ap"),s=n("7BjU"),c=n("izju");n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var u="_imgsw=c";function l(e,t){if(void 0===t&&(t={}),!e)return"";var n=e&&"content"in e?e.content:e;if(!n)return"";var u,l=t.size,d=void 0===l?"orig":l;(function(e){return 1345964===e.group_id&&"008d5fa9-3c80-432b-a582-7be8447c90a1"===e.avatars_key})(n)&&(d="orig");var h=Object(a.a)(function(e){return Boolean(e.content)}(e)?e:{content:e},{size:d});if(n.source&&n.source.thumb_id){var f=s.b[d];f||(f=s.b.s600),u="https://im0-tub-ru.yandex.net/i?id="+encodeURIComponent(n.source.thumb_id)+"&n="+encodeURIComponent(f)}else if(n.source&&n.source.thumb_link)u=n.source.thumb_link;else if(n.source&&n.source.preview)u=n.source.preview;else{if(!n.source||!n.source.url||n.source_type===c.a.LINK)return n.group_id&&n.avatars_key?Object(i.a)(n.group_id+"/"+n.avatars_key,t,h):"";u=n.source.url}return o.w?Object(r.a)(u,h):u}},OyHf:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return f}));var r="0/0-0",i="islands-200",a="med",o="yapic",s="altay";function c(e,t){return"https://yapic.yandex.ru/get/"+encodeURIComponent(e)+"/"+t}function u(e,t,n){return"https://avatars.mds.yandex.net/get-"+n+"/"+e+"/"+t}function l(){return u(r,i,o)}var d={"islands-200":a,"islands-retina-middle":"micro"};function h(e,t){return e?d[t]?d[t]:a:t}function f(e,t){var n=t&&t.isCompany,a=t&&t.size||i,d=h(n,a),f=n?s:o;if(!e)return l();var p=e.login,b=e.default_avatar_id;return b===r&&n?u(b,a,o):b?u(b,d,f):p&&!n?c(p,d):u(r,d,o)}},"P+hV":function(e,t,n){},P0oa:function(e,t,n){"use strict";n("JSWB"),n("rkHX");var r=n("9xV8");t.a=r.a.applyDecls()},P2hP:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){return e&&e.meta&&e.meta.type}))},P34R:function(e,t,n){"use strict";function r(e){return Boolean(e&&e.isMultiMordaApp)}n.d(t,"a",(function(){return r}))},P4ez:function(e,t,n){"use strict";function r(e){return!1}n.d(t,"a",(function(){return r}))},PDNp:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({marketTeaserPrice:function(e){return"Buy for "+u(e.price)},marketTeaserPriceRouble:{v:'Buy for <span class="rur">RUB</span> __price__',r:function(e){return i.createElement(i.Fragment,null,"Buy for ",i.createElement("span",{className:"rur"},"RUB")," ",e.price)},h:function(e){return(this.isRestored?c:s)(["Buy for ",(this.isRestored?o:a)("span","",{class:"rur"},["RUB"],{view:this})," ",e.price])}},marketTeaserPriceRoubleShort:{v:'<span class="rur">RUB</span> __price__',r:function(e){return i.createElement(i.Fragment,null,i.createElement("span",{className:"rur"},"RUB")," ",e.price)},h:function(e){return(this.isRestored?c:s)([(this.isRestored?o:a)("span","",{class:"rur"},["RUB"],{view:this})," ",e.price])}},marketNotPrecise:{v:"Find on <i>Yandex.</i>Market",r:function(e){return i.createElement(i.Fragment,null,"Find on ",i.createElement("i",{},"Yandex."),"Market")},h:function(e){return(this.isRestored?c:s)(["Find on ",(this.isRestored?o:a)("i","",{},["Yandex."],{view:this}),"Market"])}},marketNotPreciseShort:"On Yandex.Market",marketNoPriceFull:{v:"Buy on <i>Yandex.</i>Market",r:function(e){return i.createElement(i.Fragment,null,"Buy on ",i.createElement("i",{},"Yandex."),"Market")},h:function(e){return(this.isRestored?c:s)(["Buy on ",(this.isRestored?o:a)("i","",{},["Yandex."],{view:this}),"Market"])}}})},PExD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("9EtG"),i=/^[a-z](?:[-a-z0-9\+\.])*:(?:\/\/)|\.(?:jpg|png|jpeg|gif)$/i;function a(e){return e.find((function(e){var t=String(e).trim();return Boolean(e&&t&&!i.test(t))}))||""}function o(e){return e?Object(r.a)(e).replace(/&nbsp;/g," ").replace(/<\/?br\s*\/*?\s*>/g,"\n"):""}},PGgI:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({showMore:"Show more"})},PN4Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("WVyS");function i(e,t){var n=[];return t.forEach((function(t){var i=e.find((function(e){return e.id===t}));i&&n.push(Object(r.a)(i))})),n}},POJF:function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];return Boolean(n&&!n.next&&!n._loading)}n.d(t,"a",(function(){return r}))},PQ62:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=Object(a.a)((function(e,t){var n=t.cardId;return i()({},e,{card:n?{id:n}:void 0})}))},PSoe:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l}));var r={ADD_MEDIA:"pdb-add-media",ADD_CARD:"pdb-add-card",CRAWLER_SEARCH_MEDIA:"pdb-crawler-search-media",CRAWLER_INSPECT_IMAGE:"pdb-crawler-inspect-image",CRAWLER_SEARCH_LINK:"pdb-search-link",EMBED_READY:"pdb-ready",ERROR:"pdb-error",CLOSE:"pdb-close",CARD_SAVED:"pdb-card-saved",READY:"pdb-ready",SINGLE_COLUMN:"singleColumn",FULLSCREEN:"fullscreen",POSITION:"topEdge",GET_SETTINGS:"get-settings",SEND_TO_TOP:"send-top-window",SHARE_IMAGE:"pdb-share-image",SHARE_PAGE:"pdb-share-page",NOTIFICATION:"notification"},i={BOARD_CREATE:"board-create"},a={WIDTH:100,HEIGHT:100},o={WIDTH:200,HEIGHT:200},s=/^https?:\/\/([^:\/\?]+)[:\/].+\.gif($|(?:#|\?)*)/,c=/^https?:\/\/([^:\/\?]+)[:\/].+\.svg($|(?:#|\?)*)/,u=/^data:image\/svg\+xml/,l="pdb-ext-installed"},PWnn:function(e,t,n){"use strict";var r=n("+r4z"),i=n("MTjZ"),a=n("i1uP"),o=n("IWXk"),s=Object(a.a)(o.a,(function(e){return Boolean(e&&e.yt_alias)})),c=n("gLBg");function u(e,t,n){var a=Object(r.a)(e);return Boolean(t&&n&&s(Object(i.a)(e))&&(a===c.a.FEED||a===c.a.MAIN))}n.d(t,"a",(function(){return u}))},PchP:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"default",(function(){return d}));var i=n("VbXa"),a=n.n(i),o=n("smvh"),s=n("mdRN"),c=n("U60d"),u=n("rktC"),l=n("9TW5"),d=function(e){return(this&&this.isRestored?l.fr:l.f)([u.a.call(e,"modal",{hash:{},data:{view:this}})])};n.d(t,"a",(function(){return p}));var h=o.c.channel("global.modal").commands,f=o.c.channel("global.modal.embed").commands,p=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.onRender=function(){var e=this,t=this.options.embed?f:h;t.setHandler("show",(function(t){e.modal.show(t)})),t.setHandler("hide",(function(){if(e.modal){var t=e.modal.currentView;t&&t.hide(),e.modal.empty()}}))},t}(c.a);Object(s.a)({template:r})(p)},PdxS:function(e,t,n){"use strict";n("Nn3Z"),n("yO7b"),n("EF4d"),n("vrpW");var r=n("A4mO");t.a=r.a.applyDecls()},Pi2t:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("4RqY"),c=n("XOpk"),u=n("lhXF"),l=n("nAK0"),d=Object(s.a)((function(e,t){var n,r,a,s,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return n=e.counter,r=e.key,a=e.step,s=void 0===a?0:a,d=t.dispatch,l.d.clickTooltipAction(o()({},n,{step:s,actionType:"close"})),h=function(){return s},"number"!=typeof s&&(h=function(e){return void 0===e&&(e={}),o()({},e,{},s)}),d(Object(c.a)({})),f.next=8,i.a.awrap(d(Object(u.a)({key:r,mutation:h})));case 8:case"end":return f.stop()}}))}))},"Pm/t":function(e,t,n){"use strict";n("IAoT"),n("gFRy");var r=n("BPL4");t.a=r.a.applyDecls()},Pm7h:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("NuA5"),a=Object(i.a)("card",r.a)},Pxkf:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("nAK0");function a(){return Object(r.useContext)(i.b)}},Q0CO:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({boardCannotUnlock:function(e){return'The collection "'+i(e.board_title)+"\" can't be made public"}})},"Q1O+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("SiKM");function i(e,t){var n=t.fn,i=t.inverse,a=t.data.view,o=!1;return e&&"object"==typeof e&&!Object(r.isArray)(e)&&(e=Object(r.map)(e,(function(e,t){return{value:e,key:t}})),o=!0),e&&e.length?e.map((function(e,t){return o?n.call(a,e.value,{key:e.key}):n.call(a,e,{index:t})})):i?i.call(a,{}):void 0}},Q63f:function(e,t,n){},Q6yW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Y6N5"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("page_url"))},Q7H8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("fjc+"),i=n("Zoo8"),a=n("MTjZ"),o=n("2WP6"),s=r.a.SIMILAR_VIEWER_TOOLTIP,c="DesktopSimilarViewer";function u(e){var t=Object(a.a)(e),n=(Object(o.a)(t)||{})[s]||0;return!Boolean(n+i.h/i.e>Math.round(Date.now()/i.e))}},QA0l:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("U+yc"),o=n.n(a),s=n("cDcd"),c=n("JxqJ"),u=n("LH8O"),l=n("6ga4"),d=n("U9Ap"),h=n("+wVo"),f=["black","white"];function p(e){if(!e)return"black";var t=f.indexOf(Object(h.a)(e,"theme"));return f[-1!==t?t:0]}var b,m,v=n("BKHA"),g=n("o0o1"),O=n.n(g),_=n("rreP"),y=n("4RqY"),C=n("9NTW"),E=n("IN3w"),j=Object(y.a)((function(e,t){var n,r,i,a;return O.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.getState,r=t.dispatch,i=Object(v.a)(n()),a=[],!i.cards){o.next=15;break}if(!(i.cards.indexOf(e)>=0)){o.next=9;break}a=i.cards.filter((function(t){return t!==e})),o.next=13;break;case 9:if(!(i.cards.length>=100)){o.next=12;break}return r(Object(_.a)({message:E.limit()})),o.abrupt("return");case 12:a=i.cards.concat(e);case 13:o.next=16;break;case 15:a.push(e);case 16:r(Object(C.a)({value:{reachedLimit:!1,cards:a}}));case 17:case"end":return o.stop()}}))})),S=n("1Zoe"),w=n.n(S);n("9Q9K"),n.d(t,"a",(function(){return I})),n("XfJF");var k=(b=Object(u.a)(),m=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.onClick=function(){var e=this.props,t=e.dispatch,n=e.cardId;t(j(n))},n.render=function(){var e,t,n=this.props,r=n.mod,i=n.children,a=n.checked,o=n.yandexApp,c=n.yandexAppDarkTheme,u=n.broBookmarks,d=n.isBookmarkView;return t=d?(o||u)&&(c||u)?"whitegrey":"grey":"white",n.isBulkEnabled?s.createElement("div",{className:Object(l.a)("bulk-view",(e={},e[r]=Boolean(r),e)),onClick:this.onClick},s.createElement("div",{className:Object(l.a)("bulk-view__ctrl",{checked:a,border:t,size:d?"s":"m"})},a&&s.createElement(w.a,{className:"bulk-view__ctrl-icon"})),s.createElement("div",{className:"bulk-view__wrap"},i)):i},t}(s.Component),o()(m.prototype,"onClick",[b],Object.getOwnPropertyDescriptor(m.prototype,"onClick"),m.prototype),m),I=Object(c.a)((function(e,t){var n,r=t.mod,i=t.yandexApp,a=Object(v.a)(e),o=a.cards,s=a.visible,c=a.removeInProgress,u=a.moveInProgress,l=Boolean(c||u);return o&&(n=o.indexOf(t.cardId)>=0),{checked:Boolean(n),isBulkEnabled:Boolean(s)&&Object(d.a)(e,t.cardId)&&!l,isBookmarkView:"bookmark"===r,yandexApp:i,yandexAppDarkTheme:Boolean(i&&"black"===p(e))}}))(k)},QCEX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("YU6D").Utils.escapeExpression;function o(e,t){var n=t.data.view,r=n.getEnv().translateAdapter,o=t.hash;return!0===o.escape&&(o=Object.keys(o).reduce((function(e,t){var n=o[t],r=typeof n;return e[t]="string"===r||"object"===r?a(n):n,e}),{})),"function"==typeof e?e(i()({hvalanka:n},o)):r.translate(e,i()({hvalanka:n},o))}},QEzC:function(e,t,n){"use strict";var r=n("W8MJ"),i=n.n(r),a=function(){function e(){this._storage=window.localStorage}var t=e.prototype;return t.getItem=function(e){try{return this._storage.getItem("c"+e)}catch(e){return console.error(e),null}},t.setItem=function(e,t){try{this._storage.setItem("c"+e,t)}catch(e){console.error(e)}},t.removeItem=function(e){try{this._storage.removeItem("c"+e)}catch(e){console.error(e)}},t.clear=function(){try{this._storage.clear()}catch(e){console.error(e)}},e.isSupported=function(){try{var e="__ls_test_key_"+Math.ceil(1e3*Math.random())+"__",t=window.localStorage;t.setItem(e,"1"),t.removeItem(e)}catch(e){return!1}return!0},i()(e,[{key:"length",get:function(){return this._storage.length}}]),e}(),o=function(){function e(){this._data={}}var t=e.prototype;return t.getItem=function(e){var t=this._data;return e in t?t[e]:null},t.setItem=function(e,t){this._data[e]=String(t)},t.removeItem=function(e){delete this._data[e]},t.clear=function(){this._data={}},e.isSupported=function(){return!0},i()(e,[{key:"length",get:function(){return Object.keys(this._data).length}}]),e}();n.d(t,"a",(function(){return s}));var s=new(a.isSupported()?a:o)},QHoL:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("7hiN"),o=n("x9gI"),s=n("Wopx"),c=n("MTjZ"),u=n("RouB"),l=n("Z36V"),d=n("ICaW"),h=n("0q89"),f=n("gLBg"),p=n("pryo"),b=n("4RqY"),m=n("+XmN"),v=n("nAK0");n.d(t,"a",(function(){return g}));var g=Object(b.a)((function(e,t){var n,r,b,g,O,_,y,C,E,j;return i.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(n=e.counter,r=e.boardId,b=t.getState,g=t.dispatch,O=t.di,_=b(),y=Object(s.a)(_),v.d.clickCardCreate(n),!y.isYandexAppMultiMorda){S.next=8;break}if(Object(u.a)(Object(c.a)(_))){S.next=8;break}return S.abrupt("return",g(Object(m.a)({passportLoc:h.a.ADD,authDialogSource:l.a.ADD})));case 8:if(!y.isYandexAppMultiMorda&&!y.isBrowserApp){S.next=11;break}return Object(a.a)(Object(f.D)({castNotification:!0}),y),S.abrupt("return");case 11:if(!Object(o.a)(_,d.a.COLLECTIONS_DESKTOP_ADD_INTERNAL)){S.next=17;break}return S.next=15,i.a.awrap(g(Object(p.a)({boardId:r})));case 15:S.next=22;break;case 17:return S.next=19,i.a.awrap(O("SidebarState"));case 19:return C=S.sent,S.next=22,i.a.awrap(C.showSuggestSearch());case 22:return S.next=24,i.a.awrap(O("currentUser"));case 24:(E=S.sent)&&(j=E.getPreferences())&&!j.isActionDone("menu_was_moved_tooltip")&&j.setActionDone("menu_was_moved_tooltip",!0).catch((function(e){console.log(e)}));case 26:case"end":return S.stop()}}))}))},QLwr:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({million:function(e){return i(e.price)+" млн"},billion:function(e){return i(e.price)+" млрд"}})},QU20:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("VbXa"),i=n.n(r),a=n("cDcd"),o=n("G7p/"),s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={firstRender:!0},t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.callbackId=Object(o.b)((function(){e.setState({firstRender:!1})}))},n.componentDidUpdate=function(e,t){this.props.afterRender&&this.state.firstRender!==t.firstRender&&this.props.afterRender()},n.componentWillUnmount=function(){Object(o.a)(this.callbackId)},n.render=function(){return!this.state.firstRender&&this.props.children()},t}(a.Component)},"QYf+":function(e,t,n){"use strict";var r=n("YMTI");t.a=r.a.applyDecls()},Qe1c:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("80cV"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("likes_count",0))},Qf0G:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/7088.svg"},QhL2:function(e,t,n){"use strict";var r=n("wYdN");t.a=r.a.applyDecls()},QkR1:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Рекомендации",titleLinkRecommendation:"Перейти"})},QodL:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=function(e,t){return e[e[t="BOARDS_LIST_SHORT"]="BOARDS_LIST_SHORT"]=t,e[e[t="CARD_TEASER_MENU"]="CARD_TEASER_MENU"]=t,e[e[t="ENTITY_REMOVE"]="ENTITY_REMOVE"]=t,e[e[t="SHARE"]="SHARE"]=t,e[e[t="BOARD_MENU"]="BOARD_MENU"]=t,e[e[t="FEED_COMPLAIN"]="FEED_COMPLAIN"]=t,e[e[t="COMPLAIN"]="COMPLAIN"]=t,e[e[t="COAUTHOR"]="COAUTHOR"]=t,e[e[t="DEBUG_INFO"]="DEBUG_INFO"]=t,e[e[t="FOLLOWINGS"]="FOLLOWINGS"]=t,e[e[t="ADD_CARD"]="ADD_CARD"]=t,e[e[t="BOARD_UNLOCK"]="BOARD_UNLOCK"]=t,e[e[t="VERIFICATION_BY_NUMBER"]="VERIFICATION_BY_NUMBER"]=t,e[e[t="PROFILE_EDIT"]="PROFILE_EDIT"]=t,e[e[t="BULK"]="BULK"]=t,e[e[t="UNAUTH_CARDS"]="UNAUTH_CARDS"]=t,e[e[t="UNAUTH_SUBSCRIBE"]="UNAUTH_SUBSCRIBE"]=t,e[e[t="UNAUTH_THEMES"]="UNAUTH_THEMES"]=t,e[e[t="UNAUTH_LIKE"]="UNAUTH_LIKE"]=t,e[e[t="UNAUTH_FEED"]="UNAUTH_FEED"]=t,e[e[t="UNAUTH_COLLECTION"]="UNAUTH_COLLECTION"]=t,e[e[t="UNAUTH_CARD"]="UNAUTH_CARD"]=t,e[e[t="UNAUTH_CHANNEL"]="UNAUTH_CHANNEL"]=t,e[e[t="CARD_LIKES"]="CARD_LIKES"]=t,e[e[t="CARD_SHARES"]="CARD_SHARES"]=t,e}({}),i=function(e,t){return e[e[t="MODAL"]="modal"]=t,e[e[t="POPUP"]="popup"]=t,e[e[t="NONE"]="none"]=t,e}({}),a=function(e,t){return e[e[t="SHOW"]="show"]=t,e[e[t="HIDE"]="hide"]=t,e[e[t="PENDING"]="pending"]=t,e}({})},Qr5T:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={};function i(e){return r[e]||(r[e]=new Promise((function(t,n){var i=document.createElement("script");i.async=!0,i.src=e,i.onload=function(){return t()},i.onerror=function(){r[e]=void 0,n(new Error("Cannot load script: '"+e+"'"))},document.body.appendChild(i)}))),r[e]}},Qtgv:function(e,t,n){"use strict";function r(e){return(e&&e.card_previews||[]).map((function(e){return{cardId:e.id,preview:e.image}}))}n.d(t,"a",(function(){return r}))},R2yN:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("y6Xm"),i=Object(r.a)("localStorage",{})},R5wC:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("RouB"),i=n("JeHU"),a=n("MTjZ"),o="ei_unauth_cards",s="DesktopUnauth";function c(e){var t=Object(a.a)(e);return Boolean(!Object(r.a)(t)&&Object(i.a)(t))}},R7Ao:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M5 7.35c-1.665 0-2.85-1.832-2.85-3.967C2.15 1.246 3.161 0 5 0c1.84 0 2.85 1.247 2.85 3.382C7.85 5.518 6.666 7.35 5 7.35zM5.004 12c-2.47 0-4.011-.201-4.626-.604a.375.375 0 0 1-.168-.337C.318 9.386 1.916 8.55 5 8.55s4.683.835 4.797 2.507a.375.375 0 0 1-.169.34c-.615.402-2.156.603-4.624.603z",fill:"currentcolor"}))}i.defaultProps={id:"head",width:"10",height:"12",fill:"none"},e.exports=i,i.default=i},R7Pn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("T6Rw"),i=n("3WeZ"),a=Object(r.a)((function(e,t){var n=t.unauthModalEntityWasOpened;return Object(i.a)(e,{unauthModalEntityWasOpened:n})}))},REdb:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("lc+m"),o=n("W+cT"),s=n("Tff5"),c=n("M740"),u=n("4RqY"),l=n("S7YN"),d=Object(u.a)((function(e,t){var n,r,a,o,u,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(n=e.cardId,r=e.stateKey,a=t.getState,o=t.dispatch,n){f.next=4;break}return f.abrupt("return");case 4:if(u=a(),d=Object(s.a)(u,n),!(h=Object(c.a)(u,r))||h["board.id"]!==d){f.next=9;break}return f.abrupt("return");case 9:return f.next=11,i.a.awrap(o(Object(l.a)({storeKey:r,url:"/collections/api/cards",reset:{count:0,results:[],next:null},query:{"board.id":d,sort:"-service.created_at",page_size:12}})));case 11:case"end":return f.stop()}}))})),h=n("H2ZY");n.d(t,"a",(function(){return f}));var f=Object(u.a)((function(e,t){var n,r,s,c,u,l;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return n=e.cardId,r=e.stateKey,s=t.getState,c=t.dispatch,f.next=4,i.a.awrap(c(d({stateKey:r,cardId:n})));case 4:u=Object(o.a)(s(),r),l=Object(a.a)(s(),n),u&&!u.find((function(e){return e.id===n}))&&l&&c(Object(h.a)({key:r,items:[{id:l.id}],prepend:!0}));case 7:case"end":return f.stop()}}))}))},RLYd:function(e,t,n){"use strict";function r(e,t){return function(n,r){return 1===arguments.length?t(e(n)):t(e(n,r))}}n.d(t,"a",(function(){return r}))},RPZc:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/1419.gif"},RQkB:function(e,t,n){"use strict";var r,i,a=n("8OQS"),o=n.n(a),s=n("pVnL"),c=n.n(s),u=n("VbXa"),l=n.n(u),d=n("U+yc"),h=n.n(d),f=n("CmRB"),p=n("k/eQ"),b=n("/bNA"),m=n("nAK0"),v=n("SiKM"),g=["loc"],O=n("c+Ap"),_=n("n73F"),y=n("wFzV"),C=n("Wf7Z");n.d(t,"a",(function(){return E}));var E=(r=Object(p.a)(500),i=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var n=t.prototype;return n.initialize=function(e){var t;void 0===e&&(e={}),this.env=e.env,this.countersBuffer=[],this.isFlushPlanned=!1,this.listenTo(b.a,((t={"board:create":this.onBoardCreate,"board:remove":this.onBoardRemove,"board:subscribe":this.onBoardSubscribe,"board:unsubscribe":this.onBoardUnSubscribe,"board:hide":this.onBoardHide,"board:undo:hide":this.onBoardUndoHide,"card:like":this.onCardLiked,"card:unlike":this.onCardUnLiked,"card:share:complete":this.onCardShareCompleted,"card:move:complete":this.onCardMoveCompleted,"card:create":this.onCardCreate,"card:wish:fulfilled":this.onCardWishFulfilled,"card:wish:unfulfilled":this.onCardWishUnfulfilled})[O.d]=this.onCardsSeen,t["plugin:store"]=this.onPluginStore,t["user:auth"]=this.onUserAuth,t["user:auth:modal"]=this.onAuthModalShow,t["user:subscribe"]=this.onUserSubscribe,t["user:unsubscribe"]=this.onUserUnSubscribe,t["channel:subscribe"]=this.onChannelSubscribe,t["channel:unsubscribe"]=this.onChannelUnSubscribe,t["channel:hide"]=this.onChannelHide,t["channel:undo:hide"]=this.onChannelUndoHide,t["show:share:modal"]=this.onShowShareModal,t["close:share:modal"]=this.onCloseShareModal,t["share:submit"]=this.onShareSubmit,t))},n.onBoardCreate=function(e){this.sendCounter(m.a.finishBoardCreate,this.getBoardSubParams(e))},n.onBoardRemove=function(e){this.sendCounter(m.a.finishBoardRemove,this.getBoardSubParams(e))},n.onBoardSubscribe=function(e,t){if(void 0===t&&(t={}),!t.disableClck){var n=this.getBoardSubParams(e,t);n.subscribed=!0,this.sendCounter(m.a.finishBoardSubscribe,n)}},n.onBoardUnSubscribe=function(e,t){if(void 0===t&&(t={}),!t.disableClck){var n=this.getBoardSubParams(e,t);n.subscribed=!1,this.sendCounter(m.a.finishBoardSubscribe,n)}},n.onBoardHide=function(e){this.sendCounter(m.a.finishBoardHide,this.getBoardSubParams(e))},n.onBoardUndoHide=function(e){this.sendCounter(m.a.finishBoardUnHide,this.getBoardSubParams(e))},n.getBoardSubParams=function(e,t){var n=e instanceof _.a?e.getRecommendationsId():e.recommendations_id;return c()({boardId:e.id},t,{},n?{recId:n}:{})},n.onCardLiked=function(e){this.sendCounter(m.a.finishCardLike,{cardId:e.id,liked:!0})},n.onCardUnLiked=function(e){this.sendCounter(m.a.finishCardLike,{cardId:e.id,liked:!1})},n.onCardShareCompleted=function(e){var t=e.getBoard().isDefault();this.sendCounter(m.a.finishCardShare,{cardId:e.id,isDefault:t})},n.onCardMoveCompleted=function(e){this.sendCounter(m.a.finishCardMove,{cardId:e.id})},n.onCardCreate=function(e){var t=e.card,n=e.loc;this.sendCounter(m.a.finishCardCreate,{cardId:t.id,loc:n})},n.onCardWishFulfilled=function(e){this.sendCounter(m.a.finishCardWish,{cardId:e.id,fulfilled:!0})},n.onCardWishUnfulfilled=function(e){this.sendCounter(m.a.finishCardWish,{cardId:e.id,fulfilled:!1})},n.onCardsSeen=function(e){var t=e.count,n=e.total;this.sendCounter(m.a.showCards,{count:t,total:n,finish:t===n})},n.onPluginStore=function(e){this.sendCounter(m.a.showPluginStore,{url:e})},n.onUserAuth=function(e){var t=e.modalType,n=e.authSource;this.sendCounter(m.a.finishUserAuth,{modalType:t,authSource:n})},n.onAuthModalShow=function(e){var t=e.modalType;this.sendCounter(m.a.showUserAuth,{modalType:t})},n.getUserSubscribeOptions=function(e){var t={userLogin:e.getLogin(),subscribed:e.isSubscribed()},n=e.getSubscribeOptions();return n&&n.loc&&(t.loc=n.loc),t},n.onUserSubscribe=function(e,t){if(!(void 0===t?{}:t).disableClck){var n=this.getUserSubscribeOptions(e);this.sendCounter(m.a.finishUserSubscribe,n)}},n.onUserUnSubscribe=function(e,t){if(!(void 0===t?{}:t).disableClck){var n=this.getUserSubscribeOptions(e);this.sendCounter(m.a.finishUserSubscribe,n)}},n.onChannelSubscribe=function(e,t){if(!(void 0===t?{}:t).disableClck){var n=this.getChannelSubParams(e);n.subscribed=!0,this.sendCounter(m.a.finishChannelSubscribe,n)}},n.onChannelUnSubscribe=function(e,t){if(!(void 0===t?{}:t).disableClck){var n=this.getChannelSubParams(e);n.subscribed=!1,this.sendCounter(m.a.finishChannelSubscribe,n)}},n.onChannelHide=function(e){var t=this.getChannelSubParams(e);this.sendCounter(m.a.finishChannelHide,t)},n.onShowShareModal=function(e){var t=e.collapsed,n=o()(e,["collapsed"]);"floatButton"===n.loc&&(n.collapsed=t),this.sendCounter(m.a.showSocialShare,n)},n.onCloseShareModal=function(e){var t=e.collapsed,n=o()(e,["collapsed"]);"floatButton"===n.loc&&(n.collapsed=t),this.sendCounter(m.a.closeSocialShare,n)},n.onShareSubmit=function(e){var t=e.name,n=e.loc;this.sendCounter(m.a.clickSocialShare,{source:t,loc:n})},n.onChannelUndoHide=function(e){var t=this.getChannelSubParams(e);this.sendCounter(m.a.finishChannelUnHide,t)},n.getChannelSubParams=function(e){return{channelSlug:e.getSlug()}},n.sendCounter=function(e,t){return Object(y.a)(e,t),this},n.planCounter=function(e,t,n){void 0===n&&(n=!0);var r=n&&this.countersBuffer.find((function(n){return n.path===e&&t.loc==n.params.loc}));r?function e(t,n){return null==t?n:Array.isArray(t)||Object(v.isString)(t)?Array.isArray(n)||Object(v.isString)(n)?t.concat(n):n:Object(v.isObject)(t)&&Object(v.isObject)(n)?(Object.keys(n).filter((function(e){return!g.includes(e)})).forEach((function(r){return t[r]=e(t[r],n[r])})),t):n}(r.params,t):this.countersBuffer.push({path:e,params:t}),this.isFlushPlanned||this.planFlushCounters()},n.planFlushCounters=function(){var e=this;this.isFlushPlanned=Boolean(this.countersBuffer.length),this.isFlushPlanned&&(this.timeout=setTimeout((function(){return e.flushCounters()}),3e3))},n.flushCounters=function(){var e=this,t=this.countersBuffer.splice(0,30);t.length&&(t.forEach((function(t){var n=t.path,r=t.params;return e.sendCounter(n,r)})),this.planFlushCounters())},n.sendAccess=function(e){void 0===e&&(e={});var t,n=this.env.di.getDefinition("redux").instance;t=n?n.getState():{user:this.env.currentUser.toJSON()},Object(C.a)(t,e)},t.sendCounter=function(e,t){return this.factory().sendCounter(e,t)},t.planCounter=function(e,t){return this.factory().planCounter(e,t)},t.sendAccess=function(e){return this.factory().sendAccess(e)},t.factory=function(e){return this.instance||(this.instance=new t(e)),this.instance},t}(f.a),h()(i.prototype,"onCardsSeen",[r],Object.getOwnPropertyDescriptor(i.prototype,"onCardsSeen"),i.prototype),i)},"RV/O":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({recommendations:"Recommendations"})},"RWA+":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M19.6 6.7a2.7 2.7 0 0 1-4.6 2L10.3 11a2.7 2.7 0 0 1 0 1.4L15 15a2.7 2.7 0 0 1 4.6 2 2.7 2.7 0 1 1-5.4-.3l-5-2.5c-.5.2-1 .4-1.5.4a2.7 2.7 0 1 1 1.5-5l5-2.5v-.3a2.7 2.7 0 1 1 5.4 0z",fill:"#000",fillRule:"evenodd"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},RWwA:function(e,t,n){"use strict";function r(e){return e?e.card_source_type:void 0}n.d(t,"a",(function(){return r}))},RXja:function(e,t,n){"use strict";var r=n("JEEa"),i=n("Zoo8"),a=n("Hy4r"),o=function(e){return[{key:"years",format:"yy",value:e[i.g.year]},{key:"months",format:"MM",value:e[i.g.month]},{key:"days",format:"dd",value:e[i.g.day]},{key:"hours",format:"hh",value:e[i.g.hour]},{key:"minutes",format:"mm",value:e[i.g.minute]}]},s=n("qvVl"),c=n("M7I4");function u(e){if(!e)return[];var t=[],n=function(e){if(e&&e.recipe)return t=e.recipe.cooking_time,n=function(e,t){return r.a.relativeTime(e,t,!1,{locale:"en"})},s=new r.a(Number(t),{unit:"minutes"}).getParts(),c=o(s),u=s[i.g.minute],l=s[i.g.hour],d=s[i.g.day],h=s[i.g.month],f=s[i.g.year],c.map((function(e){var t=e.key,r=e.value,i=e.format;if(r>0){if("hours"===t&&(h||d||u||f)){if(!d&&!h&&!f){if(l>=5&&l<=12)return n("hh",Math.round(2*(r+u/60))/2).replace(".",",");if(l>12)return n("hh",Math.round(r+u/60))}if(d>2||h||f)return;return a.shortHours({value:r})}if("minutes"===t){if(h||d||l>=5||f)return;return a.shortMinutes({value:r})}return"days"===t&&(h||l||u||f)?a.shortDays({count:r}):"months"===t&&(d||l||u||f)?a.shortMonths({value:r}):n(i,r)}})).filter(Boolean).join(" ");var t,n,s,c,u,l,d,h,f}(e),u=function(e){if(e&&e.recipe){var t=e.recipe,n=t.servings,r=t.range_servings;return n&&-1!==String(n).indexOf("-")?String(n).split("-").map(Number):n?Number(String(n).replace(/\D/g,"")):r?String(r).split("-").map(Number):void 0}}(e),l=Object(s.a)(e);return n&&t.push(n),"object"==typeof u?t.push(c.servingsRangeCount({count0:u[0],count:u[1]})):u&&t.push(c.servingsCount({count:u})),l&&l.length>0&&t.push(c.ingredientsCount({count:l.length})),t}n.d(t,"a",(function(){return u}))},RYE9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("WNXv");function i(e){var t=Object(r.a)(e);return!!t&&"image/gif"===t.orig_format}},RZiI:function(e,t,n){"use strict";n("lawM").a.applyDecls()},Rd5j:function(e,t,n){"use strict";var r=n("BZL/"),i=n("NP2b"),a=n("PSoe");n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var o={type:"dimensions",dimensions:a.c.WIDTH+"x"+a.c.HEIGHT};function s(e,t){return void 0===t&&(t=i.c),function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}(e).then((function(e){return Object(r.a)(e).then((function(n){if(t(n))return{image:n,url:e,width:n.naturalWidth,height:n.naturalHeight};throw o}))}))}},Rltn:function(e,t,n){},RoKP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Ff+0");function i(e){if(e){var t=e.kind,n=e.name,i=e.vendor;t&&(t=Object(r.a)(t.trim()));var a=[];if(n){var o=n.toLowerCase();t&&-1===o.indexOf(t.toLowerCase())&&a.push(t),i&&-1===o.indexOf(i.toLowerCase())&&a.push(i),a.push(n)}else a=[t,i,n];return a.filter(Boolean).join(" ")}}},RouB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("c+Ap");function i(e){return Boolean(e&&e.login&&!e.is_restricted&&e.login!==r.N)}},Rr0h:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("j1o0"),i=n("bceo"),a=n("xFYi"),o=n("8z4Y"),s=n("MTjZ"),c=n("RouB");function u(e,t){if(!t)return!1;var n=Object(s.a)(e),u=Object(c.a)(n),l=Object(o.a)(e,t),d=Object(a.a)(e,t),h=Object(r.a)(e,t),f=Object(i.a)(e,t);return Boolean(u&&!l&&d&&!h&&!f)}},Rswe:function(e,t,n){},RvyH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rpX3"),i=Object(r.a)("layout")},Ryll:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="IMAGE"]=8]=t,e[e[t="FEED"]=3003]=t,e[e[t="REQUEST_START"]=2117]=t,e[e[t="REQUEST_END"]=2118]=t,e[e[t="PROCESSING"]=2019]=t,e[e[t="RENDER"]=2046]=t,e[e[t="DURATION"]=2136]=t,e[e[t="START_TIME"]=2322]=t,e[e[t="SEARCHAPP"]=749]=t,e[e[t="BROWSER"]=908]=t,e[e[t="RECENT"]=3005]=t,e[e[t="ADD"]=160]=t,e[e[t="BOARDS_READY"]=3337]=t,e}({})},RzI8:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({successAddMessage:{v:'Added to "<a href="__board_url__">__board_title__</a>"',r:function(e){return i.createElement(i.Fragment,null,'Added to "',i.createElement("a",{href:e.board_url},e.board_title),'"')},h:function(e){return(this.isRestored?c:s)(['Added to "',(this.isRestored?o:a)("a","",{href:e.board_url},[e.board_title],{view:this}),'"'])}},buttonChange:"Edit",buttonGoLink:"Open"})},S3Ck:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("pVnL"),i=n.n(r);function a(e){return function(t){var n,r={};function a(a,o){var s=a||Object.keys(r),c=Date.now(),u=[].concat(s,o||[]).map(e(r,c)).filter(Boolean);u.length&&t.logger(i()({},n,{jsonInfo:u})),a?a.forEach((function(e){return delete r[e]})):r={}}return{track:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,i){void 0===i&&(i={});var o,s,c=Date.now(),u={},l=[];n&&(o=i,s=n,t.groupBy.every((function(e){return o[e]===s[e]})))||(a(),n=i);for(var d=0;d<e.length;d++){var h=e[d],f=(h.item?h.item:h).id;u[f]=!0,r[f]||(r[f]={item:h,timestamp:c},l.push(f))}a(Object.keys(r).filter((function(e){return!u[e]})),l)})),reset:function(){a()}}}}},S7CM:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/1516.gif"},S7YN:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("dNc+"),c=n("ThaM"),u=n("91wX"),l=n("4RqY"),d=n("gF9f"),h=Object(l.a)((function(e,t){var n,r,a,l,h,f,p,b,m,v,g,O,_,y;return i.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:return _=function(e){var t=r()[h],n=Object(c.a)(r(),h);if(O===n){var i,u=e?Object(s.g)(h,e):t;a(Object(d.a)(((i={})[h]=o()({},u,{_loading:!1}),i)))}},r=t.getState,a=t.dispatch,l=t.di,h=e.storeKey,f=e.url,p=e.query,b=e.reset,C.next=5,i.a.awrap(l("request"));case 5:if(m=C.sent,f&&p||(v=r()[h])&&(f=f||v._url,p=p||v._query),f&&p){C.next=9;break}return C.abrupt("return");case 9:return g=r()[h],O=Object(u.a)(),a(Object(d.a)(((n={})[h]=o()({},g,{},b,{_loading:!0,_ver:O}),n))),C.prev=12,C.next=15,i.a.awrap(m.get(f,{data:p,metadata:!0}));case 15:y=C.sent,_(y),C.next=23;break;case 19:throw C.prev=19,C.t0=C.catch(12),_(),C.t0;case 23:case"end":return C.stop()}}),null,null,[[12,19]])}))},S8mT:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/c30e.gif"},SAMx:function(e,t,n){"use strict";var r=n("8dP3");n.d(t,"a",(function(){return r.a}))},SDCS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QodL"),i=n("4RqY"),a=n("1WnH"),o=Object(i.a)((function(e,t){var n=e.place,i=e.retpath,o=e.animation,s=e.isSupportOpenInNewTab,c=void 0===s||s,u=t.dispatch,l=o&&o in r.a?o:r.a.MODAL;u(Object(a.a)({type:r.c.VERIFICATION_BY_NUMBER,animationType:l,options:{place:n,retpath:i,openInNewTab:c}}))}))},SGwR:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("hfWR"),i=n("eaCv"),a=n("hV2r"),o=n("+r4z"),s=n("nO3P");function c(e,t){var n;if(e){var c=Object(i.a)(e)||Object(o.a)(e),u=Object(a.a)(e);n=Object(s.a)(c,u)}return t?n:Object(r.a)(e)+(n||"")}},SKNd:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M8.2 2h7.6c1.1 0 1.5.1 2 .3a2.3 2.3 0 01.9 1c.2.4.3.8.3 2v15.6a1 1 0 01-1.6.8L12 17.5l-5.4 4.2A1 1 0 015 21V5.2c0-1.1.1-1.5.3-2a2.3 2.3 0 011-.9c.4-.2.8-.3 2-.3zM17 5.2v-.8l-.1-.2-.1-.1c-.1-.1-.1 0-.2 0a5 5 0 00-.8-.1H8.2a5 5 0 00-.9 0v.1l-.2.1v.2l-.1.8V19l3.7-3a2 2 0 012.5 0l3.8 3V5.2z"}))}i.defaultProps={width:"24",height:"24",id:"bmark-card-24"},e.exports=i,i.default=i},SQy1:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("mdRN"),o=n("NpBQ"),s=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.events=function(){var e,t=this.getOption("ui"),n=this.getOption("event");return(e={})["string"==typeof t?n+" @ui."+t:n]="_onAction",e},n._onAction=function(e){var t=this.getOption("model")||this.view.model,n=this.getOption("method")||this.view.getOption("method");this.getOption("preventDefault")&&e.preventDefault(),this.getOption("stopPropagation")&&e.stopPropagation(),"function"==typeof n?n():t[n]()},t}(n("jOGB").a);Object(a.a)({defaults:{event:"click",preventDefault:!0,stopPropagation:!1}})(s);var c=n("+LNT"),u=n("9TW5");n.d(t,"a",(function(){return l}));var l=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.onModalClick=function(t){e.prototype.onModalClick.call(this,t),this.options.stopPropagation&&t.stopPropagation()},t}(o.a);Object(a.a)({template:function(e){return(this&&this.isRestored?u.fr:u.f)([c.a.call(this,{close:!0,title:this.options.title,description:this.options.text,buttons:this.options.buttons,buttonBehaviors:{Event:{behaviorClass:s,event:"click",method:this.close.bind(this),stopPropagation:e.stopPropagation}}})])},attributes:{id:"modal_sidebar_close"}})(l)},SUFM:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({platforms:"OS",mode:"Mode",releaseYear:"Year released"})},SUYq:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("Iv6v"),c=n("mdRN"),u=n("SiKM"),l=n("c+Ap"),d=n("C9FQ"),h=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n.patch=function(){return this.sync("patch",this,{data:JSON.stringify({preferences:this.toJSON()}),contentType:"application/json"})},n.updateWith=function(e){return this.sync("patch",this,{data:JSON.stringify({preferences:e.toJSON()}),contentType:"application/json"})},n._set=function(e,t,n){var r,i=this.get(e);this.set(e,Object.assign({},i,((r={})[t]=n,r)))},n._get=function(e,t){var n=this.get(e);return n&&n[t]},n.isActionDone=function(e){return Boolean(this._get(l.O.GENERAL,e))},n.setActionDone=function(e,t){return void 0===t&&(t=!0),this._set(l.O.GENERAL,e,t),this.trigger("action:"+e,t),this.patch()},n.markToloker=function(e){return this._set(l.O.GENERAL,d.b,e),this.patch()},n.isToloker=function(){return Boolean(this._get(l.O.GENERAL,d.b))},n.isSidebarHintShown=function(e){return Boolean(this._get(l.O.GENERAL,e+"_shown"))},n.setSidebarHintShown=function(e){return this._set(l.O.GENERAL,e+"_shown",!0),this.patch()},n.isShownPlugin=function(){return!this.isPluginDatePaced()&&Boolean(this._get(l.O.GENERAL,d.c))},n.setShownPlugin=function(e){return void 0===e&&(e=!0),this._set(l.O.GENERAL,d.c,e),e&&this.markPluginDatePaced(),this.patch()},n.isPluginDatePaced=function(){var e=this._get(l.O.GENERAL,d.d);return!e||Date.now()-Number(e)>2592e6},n.markPluginDatePaced=function(){this._set(l.O.GENERAL,d.d,Date.now())},n.toJSON=function(){var e=Object.assign({},this.attributes);return Object(u.cloneDeep)(e)},n.clone=function(){var e=this.getRequestAdapter();return t.dataFactory(this.toJSON(),{parse:!0,request:e})},t.restore=function(e){return this.dataFactory(e)},t}(s.a);Object(c.a)({url:"/collections/api/user/"})(h);var f,p=n("iROX"),b=n("hKrz"),m=n("K9S7"),v=n("QEzC"),g=n("1XU/"),O=n("mjwL"),_=n("xalX"),y=n("pLEp"),C=n("MTjZ");n.d(t,"a",(function(){return E}));var E=Object(c.a)({urlRoot:"/collections/api/user/",urlRootUsers:"/collections/api/users/",urlInbox:"https://mail.yandex.ru/api/v2/collections/counters",defaults:{sex:"m",inbox:0,stats:{boards:0,cards:0,subscribers:0,board_subscriptions:0,channel_subscriptions:0,user_subscriptions:0,likes:0,own_likes:0}}})(f=Object(b.a)()(f=Object(m.a)()(f=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n.url=function(){var e=this.getLogin();return e?this.urlRootUsers+encodeURIComponent(e)+"/":this.urlRoot},n.setLogin=function(e){this.set("login",e)},n.getLogin=function(){return this.get("login")},n.getAvatarId=function(){return this.get("default_avatar_id")},n.getYtAlias=function(){return this.get("yt_alias")},n.isYandexTeam=function(){return Boolean(this.getYtAlias())},n.isAuthorized=function(){return!this.isGuest()&&!this.isRestricted()},n.isRestricted=function(){return Boolean(this.get("is_restricted"))},n.isGuest=function(){return!this.getLogin()},n.getStats=function(){return this.get("stats")},n.getRole=function(){return this.get("role")},n.getCardPreviews=function(){return this.get("card_previews")},n.isRedactor=function(){return"redactor"===this.getRole()},n.getBoardsCount=function(){var e=this.getStats();return e&&e.boards},n.getCardsCount=function(){var e=this.getStats();return e&&e.cards},n.isToloker=function(){return this.isAuthorized()&&this.getPreferences()&&this.getPreferences().isToloker()},n.markToloker=function(e){return this.getPreferences().markToloker(e)},n.toSubscriptionJSON=function(){return{"user.id":this.id}},n.isFullModel=function(){return Boolean(this.getLogin()&&this.getStats()!==this.defaults.stats)},n.getDisplayName=function(){return this.get("display_name")},n.setInboxCount=function(e){void 0===e&&(e=0),this.set("inbox",e)},n.getInboxCount=function(){return this.get("inbox")},n.isVerified=function(){return this.get("is_verified")},n.fetchByLogin=function(){var e=this;return this.isFullModel()?Promise.resolve(this):this.getLogin()?this.fetch().then((function(){return e})):Promise.reject(new Error("Cannot find login"))},n.fetchAuth=function(){return this.getId()?Promise.resolve(this):this.checkAuth()},n.checkAuth=function(e){var t=this;return this.fetchCurrentUser(e).catch((function(e){if(401!==e.status){var n=t.getReduxCurrentUser();if(n)return t.set(t.parse(Object(_.a)(n))),t;var r=new p.f("Cannot load user auth. Status: "+e.status,{},e);throw r.status=0,r}t.clear()})).then((function(){return t}))},n.fetchCurrentUser=function(e){var t=this;return this.fetch(i()({},e,{url:this.urlRoot})).then((function(e){var n=t.getEnv();n&&n.dispatch(Object(y.a)({id:t.id,storeKey:"users",value:i()({},e,{stats:i()({},t.getStats())})}))}))},n.getReduxCurrentUser=function(){var e=this.getEnv();if(e&&e.reduxState)return Object(C.a)(e.reduxState.getState())},n.getFreshInboxCount=function(){var e=this,t={url:Object(g.a)(this.urlInbox),cache:!1,insecure:!0,xhrFields:{withCredentials:!0}};return this.sync("read",this,t).then((function(t){t&&t.counters&&e.setInboxCount(t.counters.unread)})).catch((function(e){console.error(e)}))},n.setPreferences=function(e){this.set("preferences",e)},n.getPreferences=function(){return this.get("preferences")},n.getReloadUrlParams=function(){return{name:"profile",params:{login:this.getLogin(),hintAction:l.u.userSubscribe,hintTarget:this.getHintTarget()}}},n.getHintTarget=function(){return this.getLogin()},n.getValueFromStorage=function(e,t){try{var n=JSON.parse(v.a.getItem(e));if(n&&Date.now()-Number(n.date)<=t)return Boolean(n.value)}catch(e){console.error(e)}return!1},n.updateAuth=function(e){var t=this,n=e.env,r=e.request,i=e.event;this.setRequestAdapter(r),this.setEnv(n),n.setCurrentUser(this),n.setLang(this.get("language"));var a,o=this.isAuthorized();return!this.get("offline")||o||i&&i.isFirstRender||(a=this.checkAuth({retries:0})),o&&i&&i.query?Promise.resolve(a).then((function(){return t.syncUTMSource(i.query.utm_source)})):a},n.syncUTMSource=function(e){if(e===l.W&&!this.isToloker())return this.markToloker(!0)},n.getUid=function(){return this.get("uid")},n.isCompany=function(){return Boolean(this.get("company_id"))},n.setRequestAdapter=function(t){var n=this.getPreferences();return n&&n.setRequestAdapter(t),e.prototype.setRequestAdapter.call(this,t)},n.parse=function(e){var t=this.getRequestAdapter();return e.is_restricted&&(e.display_name=O.selfDisplayName()),!e.display_name&&e.login&&(e.display_name=e.login),!e.preferences||e.preferences instanceof h||((e=Object(_.a)(e)).preferences=h.dataFactory(e.preferences,{parse:!0,request:t})),e},n.clone=function(){var t=e.prototype.clone.call(this),n=this.getPreferences();return n&&t.setPreferences(n.clone()),t.setRequestAdapter(this.getRequestAdapter()),t},n.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.preferences&&(t.preferences=t.preferences.toJSON()),t},t.restore=function(e,t){var n=this.dataFactory(e,i()({parse:!0},t));return!n.getPreferences()&&e.preferences&&n.set(n.parse(e)),n},t.auth=function(e){var t=e.event.prepared;return t&&t.user?this.dataFactory(t.user,i()({},e,{parse:!0})):this.dataFactory(null,e).fetchAuth()},t}(s.a))||f)||f)||f},SZfI:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("iw2m");function i(e,t){return{default:Object(r.a)(e,t),og:Object(r.a)("OG"+e,t),meta:Object(r.a)("Meta"+e,t)}}},SiKM:function(e,t,n){var r=n("Y+Td");r.extend=r.assignIn,r.zipObject=function(e,t){var n,r={};for(n=0;n<e.length;n++)r[e[n]]=t[n];return r},e.exports=r},SjvB:function(e,t,n){"use strict";var r=n("qRQ3");t.a=r.a.applyDecls()},SlZh:function(e,t,n){},Sn9x:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/e0f5.gif"},T1D7:function(e,t,n){"use strict";n("4DsO"),n("YAV3").a.applyDecls()},"T28/":function(e,t,n){},T6Rw:function(e,t,n){"use strict";function r(e){var t=function(t){var n=function(n){var r=n.getState,i=n.setState,a=r(),o=e(a,t);o!==a&&i(o,e.name)};return n.data=t,n.callback=e,n};return t.reducer=e,t}n.d(t,"a",(function(){return r}))},T9bs:function(e,t){},TBxt:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("lc+m"),c=n("Jxqj");function u(e,t){var n=Object(c.a)(e,t);if(n)return n.login}var l=n("+mVu"),d=n("oBAa"),h=n("x9gI"),f=n("MTjZ"),p=n("RouB"),b=n("c+Ap"),m=n("ICaW"),v=n("0q89"),g=n("/bNA"),O=n("pryo"),_=n("Kj4u"),y=n("4RqY"),C=n("+XmN"),E=n("nAK0"),j=n("cX81");n.d(t,"a",(function(){return S}));var S=Object(y.a)((function(e,t){var n,r,a,c,y,S,w,k,I,T,R;return i.a.async((function(L){for(;;)switch(L.prev=L.next){case 0:if(n=e.id,r=e.counter,a=t.getState,c=t.di,y=t.dispatch,r=o()({},r,{cardId:n}),Object(p.a)(Object(f.a)(a()))){L.next=5;break}return L.abrupt("return",y(Object(C.a)({counter:r,passportLoc:v.a.REPIN,retpath:{route:"card",params:{id:n,hintAction:b.u.cardShare,hintTarget:n}}})));case 5:if(E.d.clickCardShare(r),S=a(),Object(s.a)(S,n)){L.next=11;break}return L.next=10,i.a.awrap(y(Object(_.a)({cardId:n})));case 10:S=a();case 11:if(!Object(h.a)(S,m.d.COLLECTIONS_DESKTOP_ADD_INTERNAL)){L.next=14;break}return L.abrupt("return",y(Object(O.a)({cardId:n})));case 14:return L.next=16,i.a.awrap(c("request"));case 16:if(w=L.sent,k=Object(l.a)(S,n),I=j.a.dataFactory(k,{request:w,parse:!0}),!k){L.next=28;break}if(T=u(S,n)===Object(f.a)(S).login,!Object(d.a)(k)){L.next=24;break}return g.a.showMoveCardReadonlyMessage(),L.abrupt("return");case 24:return L.next=26,i.a.awrap(c("SidebarState"));case 26:R=L.sent,T?R.moveCard(I):R.shareCard(I,r);case 28:case"end":return L.stop()}}))}))},TChA:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("pVnL"),i=n.n(r),a=n("/KRU"),o=n("gQdx"),s=n("T6Rw"),c=["feedCards","userCards","boardCards","favoritesCards","channelCards","contestCards","userObjects","cardSimilarToCard","cardSimilar"],u=Object(s.a)((function(e,t){var n=t.id,r=Object(a.a)(e,n);return e.entities&&e.entities.boards&&r&&r.card_previews&&(e=o.a.reducer(e,{id:r.id,value:{card_previews:r.card_previews.filter((function(e){return e.id!==n}))}})),c.concat(Object.keys(e).filter((function(e){return 0===e.indexOf("cards$")}))).forEach((function(t){var r,a=e[t];a&&a.results&&(e=i()({},e,((r={})[t]=i()({},a,{results:a.results.filter((function(e){return e.id!==n}))}),r)))})),e}))},TI8g:function(e,t,n){"use strict";var r=n("ORoY");t.a=r.a.applyDecls()},TKgN:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({apply:"No thanks",cancel:"Save",closeTitle:"Do you want to save this card?"})},TMEN:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("query",{}))},TOCp:function(e,t,n){"use strict";var r=n("9TW5"),i=function(e){var t=this&&this.isRestored,n=t?r.er:r.e;return(t?r.fr:r.f)([n.d(Object(r.j)([e.className," ",e.className,"_",e.size," ",e.hiddenClass," ",e.additionalClass?e.additionalClass:""]),{style:(e.color?Object(r.j)(["background:",e.color.main_color,";"]):"")+(e.sizes&&e.sizes.width?Object(r.j)(["width:",e.sizes.width,"px;"]):"")+(e.sizes&&e.sizes.height?Object(r.j)(["height:",e.sizes.height,"px;"]):"")},[e.format?[n("span","image__type",{},[n("span",Object(r.j)(["image__type__format image__type__format_",e.format]),{},[e.format])])]:[],n("img","",Object(r.assign)(e.lazy?{"data-src":e.url}:{src:e.url},{alt:e.alt,class:e.imageClass,"data-il":e.className}),[])])])},a=n("XL0g");function o(e){var t,n,r=e.fn,o=e.hash,s=o.content,c=o.url,u=o.format,l=o.alt,d=void 0===l?"":l,h=o.size,f=void 0===h?"orig":h,p=o.multiply,b=void 0===p?1:p,m=o.className,v=void 0===m?"image__wrap":m,g=o.imageClass,O=void 0===g?"image__image":g,_=o.additionalClass,y=o.noDimensions,C=o.noColor,E=o.color,j=o.forceProd,S=void 0!==j&&j,w=o.lazy,k=void 0!==w&&w,I=e.data,T=I.view,R=v+"_hidden";if(s){var L=s.getContent();n=y?null:s.getImageInfo({size:f,multiply:b}),L&&(t=a.a.call(this,L,{hash:{size:f,forceProd:S}}),E=C?null:L.avatars_meta),t||(t=s.getFallbackUrl())}if(c&&(t=c),T){var x=function(){var e=T.$el.find("."+R),t=e&&e.find("img");e&&t&&e.length&&t[0].naturalWidth>0&&e.removeClass(R)};T.once("show",x),T.once("destroy",(function(){T.off("show",x)}))}return i.call(I.view,{className:v,additionalClass:_,imageClass:O,hiddenClass:R,alt:d,format:u,color:E,size:f,sizes:n,lazy:k,url:t,content:r?r.call(I.view,{}):""})}n.d(t,"a",(function(){return o}))},TPdT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ysEd"),i=n("Ot8I"),a=n("c+Ap");function o(e,t,n){void 0===t&&(t={});var o=t,s=o.forceProd,c=void 0!==s&&s,u=o.size,l=void 0===u?"orig":u,d=o.serverTeaser,h=void 0!==d&&d,f=o.swCache,p=void 0!==f&&f,b="https://avatars.mds.yandex.net/";!c&&a.V&&(b="/avatars/");var m=b+"get-"+(h?a.G:a.E)+"/"+e+"/"+l+(p?"?"+i.a:"");return a.w?Object(r.a)(m,n):m}},TUXw:function(e,t,n){"use strict";function r(e,t){return"rgba("+parseInt(e.slice(1,3),16)+","+parseInt(e.slice(3,5),16)+","+parseInt(e.slice(5,7),16)+","+t+")"}n.d(t,"a",(function(){return r}))},Tff5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){if(e&&e.board)return e.board.id}))},ThaM:function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];return n&&n._ver}n.d(t,"a",(function(){return r}))},Tl7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lc+m"),i=n("CZvv"),a=n("x9gI"),o=n("ICaW");function s(e,t){var n=Object(r.a)(e,t);if(!n)return!1;var s=Object(i.a)(n),c=Object(a.a)(e,o.d.COLLECTIONS_PRODUCT_PRICE_LABEL);return Boolean(s&&c)}},Toh8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("6ga4"),s=(n("oTrS"),function(e){var t=e.className,n=e.invert,r=e.picture,s=e.itemRef,c=e.children,u=["avatar","title","desc","button"].filter((function(t){return e[t]})).map((function(e){var t;return a.createElement("li",{className:Object(o.a)("cl-teaser-placeholder__item",(t={},t[e]=!0,t)),key:e})}));return a.createElement("div",i()({className:Object(o.a)("cl-teaser-placeholder",{invert:n},t),ref:s},e.props),a.createElement("div",{className:"cl-teaser-placeholder__wrap"},r&&a.createElement("div",{className:"cl-teaser-placeholder__picture"}),Boolean(u.length)&&a.createElement("ul",{className:"cl-teaser-placeholder__items"},u),c))})},TsJ6:function(e,t,n){"use strict";var r=n("oH4B");t.a=r.a.applyDecls()},TsaX:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("jOGB"),o=n("mdRN"),s=n("nAK0"),c=n("RQkB"),u=n("9TW5"),l=n("r7Cx"),d=n("QCEX");function h(e,t){var n=t.hash;return Object.keys(n).length&&(n=Object.assign({},t.hash,{escape:!0})),d.a.call(this,e,{data:t.data,hash:n})}n.d(t,"a",(function(){return f}));var f=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.className=function(){var e=this.options,t=e.mod,n=e.pos,r="hint";return t&&(r+=" hint_"+t),n&&(r+=" hint_pos_"+n),r},n.onShow=function(){var e=this,t=this.options,n=t.onShow,r=t.loc;t.animateShow?(this.$el.addClass("hint_state_hidden"),this.deferToAttach((function(){return e.toggleVisible()}))):this.$el.addClass("hint_state_visible"),c.a.sendCounter(s.a.showHint,{loc:r,isPlugin:this.env.isEmbed}),n&&n()},n.onClickClose=function(){var e=this.options,t=e.onClose,n=e.loc;this.toggleHidden(),c.a.sendCounter(s.a.closeHint,{loc:n,isPlugin:this.env.isEmbed}),t&&t()},n.onClick=function(e){var t=this.options.onClick;t&&t(e)},n.toggleVisible=function(){this.$el.removeClass("hint_state_hidden").addClass("hint_state_visible")},n.toggleHidden=function(){this.$el.removeClass("hint_state_visible").addClass("hint_state_hidden")},t}(a.c);Object(o.a)({template:function(e){var t=this&&this.isRestored,n=t?u.er:u.e,r=t?u.ar:u.a,i=t?u.sr:u.s;return(t?u.fr:u.f)([n.d("hint__wrap",{},[this.options.close?[n("span","hint__close",{},[r(l.a,{class:"button_action-close button_action-close_invert",type:"clear",icon:!0,"icon-only":!0,method:this.onClickClose.bind(this)},this)])]:[]," ",n.d("hint__article",{},[this.options.title?[n("h4","hint__title",{},[i(h(this.options.title,{hash:{},data:{view:this}}))])]:[]," ",n.d("hint__text",{},this.options.text?[i(h(this.options.text,{hash:{},data:{view:this}}))]:[this.options.rawText])])," ",this.options.ctrl?[n.d("hint__ctrl",{},[r(l.a,{class:this.options.ctrl.className,label:Object(d.a)(this.options.ctrl.label,{hash:{},data:{view:this}}),type:"invert",icon:!0},this)])]:[]])])},events:{click:"onClick"},options:{close:!0}})(f)},TuN5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r="ei_guide_",i="guest";function a(e,t){return void 0===e&&(e=i),void 0===t&&(t=r),t+e}},"U/pB":function(e,t,n){},U0LE:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("y1pN"),i=n("WLYw"),a=n("lPPs"),o=n("Tff5"),s=n("nt9X"),c=n("osxO"),u=n("gLBg"),l=n("rreP"),d=n("4RqY"),h=n("KqGs"),f=Object(d.a)((function(e,t){var n,d,f=e.type,p=e.options,b=e.data,m=t.getState,v=t.dispatch;if(f===c.b.NOT_ALL)n=h.notAll(p);else if(f===c.b.BIG_SIZE)n=h.bigSize();else if(f===c.b.SMALL_DIMENSION)n=h.smallDimension.r(p);else if(f===c.b.UPLOAD_WAIT)n=h.uploadWait();else if(f===c.b.UPLOAD_ERROR)n=h.uploadError();else if(f===c.b.UPLOAD_ERROR_ALL)n=h.uploadErrorAll(),d=!0;else if(f===c.b.NOT_FOUND)n=h.notFound();else if(f===c.b.SMALL_DIMENSION_FOUND)n=h.smallDimensionFound.r();else if(f===c.b.SELECT_CARDS)n=h.selectCards();else if(f===c.b.SELECT_PRODUCT)n=h.selectProduct();else if(f===c.b.LOAD_IMAGES)n=h.loadImages();else if(f===c.b.SELECTED_LIMIT)n=h.selectedLimit(p);else if(f===c.b.UNKNOWN)n=h.unknown();else if(f===c.b.UPDATED)n=h.updated();else if(f===c.b.BOARD_UPDATED)n=h.updated();else if(f===c.b.FORMAT)n=h.format();else if(f===c.b.SINGLE_VIDEO)n=h.singleVideo();else if(f===c.b.CONFLICT)n=h.conflict();else if(f===c.b.ALREADY_IN_COMPETITION)n=h.alreadyInCompetition();else if(f===c.b.PRIVATE_COMPETITION)n=h.privateCompetition();else if(f===c.b.LOAD_RETRY)n=h.uploadError();else if(f===c.b.ADDED){var g=m();if(!b||!b.cardId)return;var O=Object(o.a)(g,b.cardId),_=O&&Object(r.a)(g,O),y=O&&Object(i.a)(g,O),C=O&&Object(a.a)(g,O),E=_&&Object(s.a)(g,_.id);if(!E||!C||!y)return;n=h.cardCreate.r({board_url:Object(u.f)(E,y),board_title:C})}else f===c.b.LIMIT_CARDS&&(n=h.limitCards());v(Object(l.a)({type:f,data:b,message:n,persistent:d}))}))},U3UL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("BbsN"),i=[r.a.READ_WRITE,r.a.ADMIN],a=function(e){return!!e&&i.includes(e)}},U9Ap:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("MTjZ");function a(e,t){if(!t)return!1;var n=Object(i.a)(e),a="string"==typeof t?Object(r.a)(e,t):t;return Boolean(n&&a&&a.owner&&n.id===a.owner.id)}},UD3n:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("comments_count"))},UJ4k:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ukm6"),i=n("T6Rw"),a=n("3WeZ"),o=Object(i.a)((function(e,t){var n=t.hidePopup;return Object(r.a)(e).hidePopup?e:Object(a.a)(e,{hidePopup:n})}))},ULkR:function(e,t,n){},UO52:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Y+Td"),i={style:function(e,t){var n=Object(r.map)(e,(function(e,t){return t+":"+e})).join(";");return n&&(t.style=n),t},width:function(e,t){return t=t||{},"auto"===e.width?t.width="auto":e.width?t.width=e.width+"px":e.widthp&&(t.width=e.widthp+"%"),t},dataBuilder:function(e){var t={};return e&&e.data&&Object(r.forEach)(e.data,(function(e,n){void 0!==e&&(t["data-"+n]=e)})),Object(r.forEach)(e,(function(e,n){n&&-1!==n.indexOf("data-")&&void 0!==e&&(t[n]=e)})),t},builder:function(e,t){var n=this.dataBuilder(t);return e.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n}}},UQOb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("cards_count",0))},UdnW:function(e,t,n){},Ui2c:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o={},s=n("CYZy"),c=n("/MKj"),u=n("JxqJ"),l=n("y1pN"),d=n("WLYw"),h=n("nt9X"),f=n("gLBg"),p=n("3tUY"),b=n("Pxkf"),m=n("nAK0"),v=n("8dP3"),g=n("W+cT"),O=n("GhlN"),_=n("KGKq"),y=n("om3R"),C=n("0MRR"),E=Object(u.a)((function(e,t){return{content:Object(y.a)(e,t.cardId)}}))((function(e){return a.createElement(C.a,e)})),j=n("GMEU");n("cXYc"),n("lDMf");var S=Object(u.a)((function(e,t){var n=t.stateKey;return{cards:Object(g.a)(e,n)||[]}}))((function(e){var t=e.stateKey,n=e.cards,r=e.previews,i=void 0===r?n.length:r,o=e.className,s=e.lastCardHref,u=n[i-1],l=Object(b.a)(),d=Object(c.useDispatch)();return 0===n.length?a.createElement(a.Fragment,null,Array.from({length:i},(function(e,t){return a.createElement("div",{key:t,className:"cl-picture-group cl-placeholder__image"})}))):a.createElement(a.Fragment,null,n.slice(0,i).map((function(e){var n=a.createElement(E,{mods:{square:!0},cardId:e.id,size:"smart130"});return e===u?a.createElement("a",{key:e.id,href:s,"data-trigger":"false",className:Object(O.a)("cl-picture-group",{},o),"data-c":m.c.clickLinkRecommendation(l),onClick:function(){d(Object(p.a)({url:s}))}},n,a.createElement("span",{className:"cl-picture-group__more"},j.more())):a.createElement(_.a,{key:e.id,storeKey:t,cardId:e.id,scrollToCard:!1,className:Object(O.a)("cl-picture-group",{},o)},n)})))})),w=n("5/dx"),k=n("QkR1");n("FA/Q"),n("mHLZ");var I=Object(u.a)((function(e,t){var n=t.boardId,r=Object(l.a)(e,n);return{login:Object(h.a)(r),slug:Object(d.a)(e,n)}}))((function(e){var t=e.itemRef,n=e.stateKey,r=e.login,i=e.slug,o=(e.index,Object(b.a)()),s=Object(c.useDispatch)();if(!r||!i)return a.createElement("div",{className:"cl-masonry__hidden",ref:t});var u=Object(f.E)(r,i),l={className:"cl-card-picture-teaser",itemRef:t,props:{},picture:a.createElement(S,{className:"cl-card-picture-teaser__picture",stateKey:n,previews:6,lastCardHref:u}),footer:a.createElement(v.a,{className:"cl-card-picture-teaser__info",title:k.title()},a.createElement("a",{className:"cl-teaser-info__link",href:u,"data-trigger":"false","data-c":m.c.clickLinkRecommendation(o),onClick:function(){s(Object(p.a)({url:u}))}},k.titleLinkRecommendation()))};return a.createElement(w.a,l)})),T=n("pJdu"),R=n("QA0l"),L=n("VbXa"),x=n.n(L),D=n("U+yc"),N=n.n(D),A=n("LH8O"),P=n("lc+m"),B=n("/KRU"),M=n("qeDp"),U=n("7z6F"),F=n("W7A8"),V=n("Jxqj"),H=n("WiFc"),W=n("iMkj"),z=n("Qe1c"),K=n("tvS1"),Y=n("i1uP"),q=Object(Y.a)(P.a,(function(e){if(!e)return!1;var t=Object(z.a)(e),n=Object(K.a)(e),r=Object(W.a)(e);return Boolean(t||n||r)})),G=n("CZvv"),X=n("x9gI"),J=n("GGxO"),Z=n("rT8E"),Q=n("lpMR"),$=n("ICaW"),ee=n("izju"),te=n("JmMj"),ne=n("bdt/"),re=n("bphC"),ie=n("X4fP"),ae=n("U9Ap");function oe(e,t){var n=Object(B.a)(e,t);return n&&Object(re.a)(e,n.id)&&!Object(ae.a)(e,t)&&n&&Object(ie.a)(n)>0||!1}var se=n("XPFG"),ce=n("nUi2"),ue=n("8OQS"),le=n.n(ue),de=n("AF+Z"),he=n("EvZm"),fe=Object(u.a)()((function(e){var t=e.cardId,n=e.dispatch,r=le()(e,["cardId","dispatch"]);return a.createElement(he.a,i()({onClick:function(){n(Object(de.a)(t))}},r))})),pe=n("h3n8"),be=n("XU4g"),me=Object(u.b)((function(e,t){return{commentsCount:Object(W.a)(e,t.cardId)}}))((function(e){var t=e.cardId,n=e.hideLabel,r=e.showStat,o=e.commentsCount,s=e.dispatch,c=e.counter,u=e.stateKey,l=le()(e,["cardId","hideLabel","showStat","commentsCount","dispatch","counter","stateKey"]);return a.createElement(he.a,i()({label:n?null:Object(pe.a)(o,r),size:"M",onClick:function(){return s(Object(be.a)({id:t,counter:c,storeKey:u,focus:"comment-form"}))}},l))})),ve=n("tVjm"),ge=n("VPES");n("YIZP");var Oe=Object(u.a)((function(e,t){var n=Object(B.a)(e,t.cardId),r=Object(l.a)(e,Object(se.a)(n));return{isOwnerCard:n&&Object(re.a)(e,n.id)||Object(ae.a)(e,t.cardId),isCardCoauthor:oe(e,t.cardId),hasViewerControls:Boolean(!1),isProfileCompanyParticipant:Object(ce.a)(r)}}))((function(e){var t,n,r,i=e.cardId,o=e.isOwnerCard,s=e.isProfileCompanyParticipant,c=(e.hasViewerControls,e.isCardCoauthor),u=e.stateKey;t=a.createElement(ge.a,{ei:!0,type:"action",shape:"round",size:"M",shadow:!0,mods:{teaser:[!0,"card"]},className:"cl-card-teaser-ctrl__button cl-card-teaser-ctrl__button_share",icon:!0,iconMods:{"bmark-24x24":!0},showStat:!0,props:{},cardId:i}),n=a.createElement(ve.a,{cardId:i,ei:!0,size:"M",type:"white",shape:"round",shadow:!0,mods:{teaser:[!0,"card"]},className:"cl-card-teaser-ctrl__button cl-card-teaser-ctrl__button_like",icon:!0,hand:!0,showStat:!0}),r=a.createElement(me,{ei:!0,type:"white",shape:"round",shadow:!0,mods:{teaser:[!0,"card"]},className:"cl-card-teaser-ctrl__button cl-card-teaser-ctrl__button_comment",icon:!0,iconMods:{"msg-24x24":!0},showStat:!0,cardId:i,stateKey:u});var l=o||s;return a.createElement("div",{className:"cl-teaser__ctrl cl-card-teaser-ctrl"},!l||c?t:null,l&&a.createElement(fe,{ei:!0,size:"M",type:"white",shape:"round",shadow:!0,mods:{teaser:[!0,"card"]},className:"cl-card-teaser-ctrl__button cl-card-teaser-ctrl__button_edit",icon:!0,iconMods:{"edit-24x24":!0},cardId:i}),n,r)})),_e=n("f8gw"),ye=n("Tff5"),Ce=n("JFDR"),Ee=n("SAMx"),je=n("fFoT"),Se=n("EuEB"),we=Object(u.a)((function(e,t){var n=t.cardId,r=Object(ye.a)(e,n),i=Object(B.a)(e,n);return{boardId:r,owner:Object(V.a)(e,n),showOwner:Boolean(t.showOwner&&i&&i.title)}}))((function(e){var t=e.showOwner,n=e.shortInfo,r=e.boardId,i=e.owner;return a.createElement(a.Fragment,null,i&&t&&a.createElement(Ee.a,{mod:"card-teaser",mods:{short:Boolean(n),footer:!0},avatar:a.createElement(je.a,{mod:"card-teaser",userId:i.id,size:n?"SM":"M"})},!n&&a.createElement("h3",{className:"cl-teaser-info__title"},a.createElement(Ce.a,{boardId:r,className:"link"})),a.createElement(Se.a,{mod:"card-teaser",size:"S",userId:i.id,color:"grey"})))}));function ke(e){var t=e.cardId,n=e.storeKey,r=e.showOwner,i=e.shortInfo;return a.createElement(a.Fragment,null,a.createElement(_e.a,{cardId:t,storeKey:n,wrapper:!1}),a.createElement(we,{cardId:t,showOwner:r,shortInfo:i}))}var Ie=n("9EBK"),Te=n("4e/Y"),Re=n("6ga4"),Le=n("Oi3d"),xe=n("1Oxg");n("8yKx");var De=function(e){var t,n,r,i=e.className,o=e.cardId,s=e.fulltext,c=Object(Le.a)(K.a,o),u=Object(Le.a)(z.a,o),l=Object(Le.a)(W.a,o),d=[{type:"share",count:c,message:xe.shares({count:Object(pe.a)(c)}),action:t},{type:"like",count:u,message:xe.likes({count:Object(pe.a)(u)}),action:n},{type:"comment",count:l,message:xe.comments({count:Object(pe.a)(l)}),action:r}].filter((function(e){return Boolean(e.count)}));return d.length?a.createElement("ul",{className:Object(Re.a)("cl-card-teaser-stats",{},i)},d.map((function(e,t){var n,r=e.type,i=e.count,o=e.message,c=e.action;return a.createElement("li",{className:"cl-card-teaser-stats__item",onClick:c,key:r},a.createElement("span",{className:Object(Re.a)("cl-card-teaser-stats__icon",(n={},n[r]=!0,n))}),a.createElement("span",{className:"cl-card-teaser-stats__label"},s||t===d.length-1?o:Object(pe.a)(i)))}))):null},Ne=n("YFOV"),Ae=Object(Ne.a)("comments"),Pe=n("y6Xm"),Be=Object(Y.a)(Ae,Object(Pe.a)("text")),Me=n("0XrC"),Ue=n("3D3i");n("zuhF");var Fe,Ve,He,We=Object(u.a)((function(e,t){var n=t.cardId,r=Object(P.a)(e,n),i=Object(U.a)(e,n),a=Object(W.a)(e,n)||0,o=Object(X.a)(e,$.d.COLLECTIONS_DESKTOP_CARD_CTRLS);return!i&&Object(X.a)(e,$.d.DESKTOP_FEED_SHOW_COMMENT)&&(i=Be(r&&r.last_comment),a-=1),{commentsCount:a,text:i,isControlsVisibleExp:"top"===o||"bottom"===o}}))((function(e){var t=e.cardId,n=e.storeKey,r=e.commentsCount,i=e.text,o=e.isControlsVisibleExp;return i&&i.trim()?a.createElement("div",{className:"cl-teaser-article"},a.createElement(_.a,{className:"cl-teaser-article__link",cardId:t,storeKey:n}),a.createElement("div",{className:"cl-teaser-article__text"},Object(Me.a)(i)),!o&&a.createElement("div",{className:"cl-teaser-article__more"},Ue.moreComments({count:r}))):null})),ze=n("nlEi"),Ke=n("wjU/"),Ye=n.n(Ke),qe=(n("EJzq"),function(e){var t=e.cardId,n=e.storeKey,r=e.showReason,i=e.isControlsVisible;return a.createElement("div",{className:"cl-card-teaser-inner"},i&&a.createElement(De,{cardId:t}),a.createElement(We,{cardId:t,storeKey:n}),i&&a.createElement("div",{className:"cl-card-teaser-inner__comment"},a.createElement(me,{ei:!0,shape:"round",type:"normal",className:"cl-card-teaser-inner__comment-button",label:ze.commentsLabel(),iconComponent:a.createElement(Ie.a,{className:"button__icon",icon:Ye.a}),cardId:t,stateKey:n})),a.createElement(Te.a,{cardId:t,showReason:r}))}),Ge=n("CUhL"),Xe=n("YQQ1");n("JuUm");var Je=(Fe=Object(A.a)(),Ve=Object(A.a)(),He=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={kebab:!1,renderInternal:!1},t}x()(t,e);var n=t.prototype;return n.onKebabVisibilityChange=function(e){this.setState({kebab:e})},n.onMouseOver=function(){this.state.renderInternal||this.setState({renderInternal:!0})},n.render=function(){var e=this.props,t=e.card,n=e.storeKey,r=e.isOwnerVisible,o=e.badgeType,s=e.showReason,c=e.showCtrl,u=e.shortInfo,l=e.itemRef,d=e.controlsVisibleExp,h=e.isControlsVisible,f=(e.index,e.isCardLocked),p=e.itemPosition,b=this.state.renderInternal;if(!t||!n)return null;var m=Object(y.a)(t),v=function(e){return!!e&&Boolean(e.object_answer||e.organization||e.market||e.recipe)}(t),g=Object(U.a)(t),_=Object(H.a)(t),C=Object(Z.a)(m),E=Object(Q.a)(m),j=Object(J.a)(C),S=C===ee.a.BOOK,k=C===ee.a.LINK,I=Object(G.a)(t),T=Boolean(g||_),R=E&&T||j||k||I,L=q(t),x=(v||R||r)&&a.createElement(ke,{cardId:t.id,storeKey:n,showOwner:r,shortInfo:u});return a.createElement(Ge.a,Object(M.a)(t),a.createElement(w.a,{mod:"card",mods:{fixed:!0,extension:v||R,owner:r,stat:h&&L,video:E,cover:S?[!0,"book"]:j,link:k,kebab:this.state.kebab,controls:h&&[!0,d],locked:f},className:Object(O.a)("cl-card-teaser",{info:u&&"short"}),footer:x,linkFactory:function(e){return a.createElement(Xe.a,i()({cardId:t.id,storeKey:n},e))},onMouseOver:this.onMouseOver,itemRef:l,props:{}},b&&a.createElement(a.Fragment,null,!h&&a.createElement(Oe,{cardId:t.id,stateKey:n}),a.createElement(ne.a,{className:Object(O.a)("cl-card-teaser__action",{"controls-top":"top"===d,"controls-bottom":"bottom"===d}),size:"S",invert:!0,cardId:t.id,showCtrl:c,onVisibilityChange:this.onKebabVisibilityChange}),a.createElement(qe,{cardId:t.id,storeKey:n,showReason:s,isControlsVisible:h})),a.createElement(te.a,{storeKey:n,cardId:t.id,itemPosition:p,badgeType:o})))},t}(a.PureComponent),N()(He.prototype,"onKebabVisibilityChange",[Fe],Object.getOwnPropertyDescriptor(He.prototype,"onKebabVisibilityChange"),He.prototype),N()(He.prototype,"onMouseOver",[Ve],Object.getOwnPropertyDescriptor(He.prototype,"onMouseOver"),He.prototype),He),Ze=Object(u.a)((function(e,t){var n=t.cardId,r=Object(P.a)(e,n),i="boolean"!=typeof t.showOwner||t.showOwner,a=Object(B.a)(e,n),o=Object(X.a)(e,$.d.COLLECTIONS_DESKTOP_CARD_CTRLS);return{card:r,isOwnerVisible:Boolean(i&&Object(V.a)(e,n)&&a&&a.title),controlsVisibleExp:o,isControlsVisible:"top"===o||"bottom"===o,isCardLocked:Object(F.a)(e,n)}}))(Je),Qe=n("Toh8"),$e=(n("8Udm"),function(e){var t,n=e.dashed,r=e.height;return r&&(t={height:r+"px"}),a.createElement(Qe.a,i()({className:Object(Re.a)("cl-card-teaser-placeholder",{dashed:n,"custom-height":Boolean(r)}),picture:!0},e,{props:{style:t}}))}),et=n("N7+n"),tt=n("hV2r");function nt(e,t){var n=function(e,t){var n=Object(l.a)(e,t);if(n)return n.login}(e,t),r=Object(d.a)(e,t);if(n&&r)return Object(f.f)(n,r)}var rt=n("miTa"),it=n("UQOb"),at=n("FfN0"),ot=n("lPPs"),st=n("xFYi"),ct=n("Jw3V"),ut=n("A6Lc"),lt=(n("A/eW"),function(e){return a.createElement(Qe.a,i()({},e,{className:Object(Re.a)("cl-board-row-teaser-placeholder",{},e.className),picture:!0,avatar:!0,title:!0,desc:!0}))}),dt=n("bpve"),ht=n("Mycy"),ft=n("W/Tm"),pt=(n("Oj6z"),function(e){var t=e.children,n=e.type;return a.createElement("div",{className:Object(Re.a)("cl-teaser-picture-grid-container",{type:n&&[!0,n]})},t)}),bt=n("MyJ8");n("kqS7");var mt=Object(u.a)((function(e,t){var n=t.boardId,r=Object(rt.a)(e,n),i=Object(ct.a)(e);return{title:Object(ot.a)(e,n),isPrivate:Object(st.a)(e,n),cardsCount:Object(it.a)(e,n),boardSubscribers:Object(at.a)(e,n),isOwnEntity:i===r,ownerId:r,boardLink:nt(e,n),coauthorsCount:Object(ie.a)(e,n)||0}}))((function(e){var t=e.boardId,n=e.itemRef,r=e.index,o=e.title,s=e.isPrivate,c=e.cardsCount,u=e.boardSubscribers,l=e.isOwnEntity,d=e.boardLink,h=e.ownerId,f=e.coauthorsCount;if(!h&&!d)return a.createElement(lt,null,a.createElement("div",{className:"cl-board-recommendation-teaser__button-placeholder"}));var p=function(e){return a.createElement(Ce.a,i()({boardId:t},e))};return a.createElement(w.a,{className:"cl-board-recommendation-teaser",footer:a.createElement(a.Fragment,null,a.createElement(v.a,{className:"cl-board-recommendation-teaser__info",avatar:a.createElement(ut.a,{className:"cl-board-recommendation-teaser__avatar",showOwner:!0,ownerAvatarSize:"M",avatarSize:"SM",boardId:t}),title:o,hasLock:s,linkFactory:p},a.createElement("p",{className:"cl-teaser-info__desc cl-board-recommendation-teaser__desc"},h&&a.createElement(Se.a,{className:"cl-board-recommendation-teaser__login",size:"S",userId:h,color:"grey"}),f?bt.coauthorsWrapWithOwner({count:f}):null)),l?a.createElement(he.a,{className:"cl-board-recommendation-teaser__button",ei:!0,type:"action",size:"M",label:bt.link(),props:{href:d}}):a.createElement(dt.a,{className:"cl-board-recommendation-teaser__button",id:t,storeKey:"boards",subValue:u})),linkFactory:p,itemRef:n},a.createElement(pt,{type:c?"row":void 0},a.createElement(ht.a,{id:t,stateKey:"boards",count:c,srcSize:"h200",format:"3x1"}),!c&&a.createElement(ft.a,{index:r})))})),vt=n("o0o1"),gt=n.n(vt),Ot=n("ng36"),_t=n("ZnAV");function yt(e,t){if(!e)return!1;var n=e[t];if(n){if(n.next)return!0;if(n.results&&(n._index||0)<n.results.length)return!0}return!1}var Ct,Et,jt,St,wt=n("wy7W"),kt=n("4RqY"),It=n("1ZVK"),Tt=n("gF9f"),Rt=n("hqMG"),Lt={},xt=Object(kt.a)((function(e,t){var n,r,a,o,s,c,u,l,d,h,f,p,b,m,v,g,O,_,y,C;return gt.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:n=e.stateKey,r=e.uiStateKey,a=e.shardId,o=e.url,s=e.query,c=e.count,u=void 0===c?3:c,l=t.getState,d=t.dispatch;case 2:if(!Lt[n]){E.next=7;break}return E.next=5,gt.a.awrap(Lt[n]);case 5:E.next=2;break;case 7:if((h=l()[n])||(d(Object(Tt.a)(((f={})[n]={_url:o,results:[],next:s||{}},f))),h=l()[n]),p=h._index||0,b=h.next,m=h&&h.results?h.results.length:0,!(p>=m&&b)){E.next=24;break}return d(Object(Rt.a)({id:a,stateKey:r,value:{carouselLoading:!0}})),v=d(Object(It.a)({storeKey:n})),Lt[n]=v.catch((function(e){console.error(e)})),E.prev=16,E.next=19,gt.a.awrap(Lt[n]);case 19:return E.prev=19,delete Lt[n],E.finish(19);case 22:h=l()[n],m=h&&h.results?h.results.length:0;case 24:(g=Object(wt.a)(l(),r,a)||{}).carousel=g.carousel||[],p<m&&(O=l(),_=g.carousel,y=Math.min(u,m-p),_=_.concat(h.results.slice(p,p+y)),g=i()({},g,{carousel:_}),y&&d(Object(Tt.a)(((C={})[n]=i()({},O[n],{_index:Math.min(p+y,m)}),C)))),d(Object(Rt.a)({id:a,stateKey:r,value:i()({},g,{carouselHidden:0===g.carousel.length,carouselLoading:!1})}));case 28:case"end":return E.stop()}}),null,null,[[16,,19,22]])})),Dt=n("+69i"),Nt=n("PGgI");n("sTXx");var At,Pt,Bt,Mt,Ut=[],Ft=(Ct=Object(A.a)(),Et=Object(A.a)(),jt=Object(A.a)(),St=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).trackLogger=Object(_t.a)(),t.isLoadingScheduled=!1,t}x()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sendCounters(),this.checkFetchNext()},n.componentDidUpdate=function(){var e=this;this.element&&!this.observer&&(this.observer=Object(Ot.a)(this.element,{},(function(t){var n=e.props,r=n.items,i=n.counter;e.trackLogger.track(t?r:[],i)}))),this.sendCounters(),this.checkFetchNext()},n.checkFetchNext=function(){var e=this,t=this.props,n=t.items,r=t.hasMoreItems,i=t.loadingInProgress;n.length||!r||i||this.isLoadingScheduled||(this.isLoadingScheduled=!0,setTimeout((function(){e.fetchMore()})))},n.componentWillUnmount=function(){this.observer&&this.observer(),this.trackLogger.reset()},n.render=function(){var e,t=this,n=this.props,r=n.emptyPreviews,o=n.hidden,s=n.title,c=n.items,u=n.item,l=n.itemRef,d=n.mods,h=n.className,f=n.wrapper,p=void 0===f||f,b=n.wrapperMods,v=n.hasMoreItems,g=n.moreUrl,O=n.showMore,_=void 0!==O&&O,y=n.counter,C=Object(Re.a)("cl-masonry-incut",{},h);if(o)return p?a.createElement("div",{className:"feed__item feed__item_hidden",ref:l}):null;if(r&&!c.length){for(var E=[],j=0;j<r;j++)E.push(u(null,j));e=a.createElement(Dt.a,{mod:"masonry",mods:d,className:C,title:s},E)}else{if(0===r)return null;var S=v&&_;e=a.createElement(Dt.a,{mod:"masonry",mods:d,title:s,itemRef:this.setObserver,className:Object(Re.a)("cl-masonry-incut",{"show-more":S})},c.map(u),S&&a.createElement("div",{className:"teaser-wrap__button"},a.createElement(he.a,{key:"more",label:Nt.showMore(),ei:!0,size:"M",type:"normal",mods:{max:!0},onClick:function(){m.d.clickIncut(y),g||t.fetchMore()},props:{href:g}})))}return p?a.createElement("div",{className:Object(Re.a)("feed__item",i()({},b)),ref:l},e):e},n.sendCounters=function(){var e=this.props,t=e.items,n=e.logger,r=e.counter;n&&t.forEach((function(e){e.entity_type&&n([e.id],e.entity_type,r)}))},n.fetchMore=function(){var e,t,n,r,i,a,o,s,c;return gt.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.props,t=e.stateKey,n=e.uiStateKey,r=e.shardId,i=e.url,a=e.query,o=e.portion,s=void 0===o?4:o,c=e.dispatch,u.next=3,gt.a.awrap(c(xt({stateKey:t,uiStateKey:n,shardId:r,url:i,query:a,count:s})));case 3:this.isLoadingScheduled=!1;case 4:case"end":return u.stop()}}),null,this)},n.setObserver=function(e){var t=this;this.element!==e&&(this.element=e,this.observer&&(this.observer(),this.observer=null),e&&(this.observer=Object(Ot.a)(e,{},(function(e){var n=t.props,r=n.items,i=n.counter,a=[];e&&(a=r.map((function(e,n){return{id:e.id,pos:n,type:t.props.stateKey}}))),t.trackLogger.track(a,i)}))))},t}(a.Component),N()(St.prototype,"checkFetchNext",[Ct],Object.getOwnPropertyDescriptor(St.prototype,"checkFetchNext"),St.prototype),N()(St.prototype,"fetchMore",[Et],Object.getOwnPropertyDescriptor(St.prototype,"fetchMore"),St.prototype),N()(St.prototype,"setObserver",[jt],Object.getOwnPropertyDescriptor(St.prototype,"setObserver"),St.prototype),St),Vt=Object(u.b)((function(e,t){var n=t.url,r=t.uiStateKey,i=t.shardId,a=t.stateKey,o=t.maxCount,s=void 0===o?12:o,c=Object(wt.a)(e,r,i),u=Ut,l=!1,d=!1;c&&(d=Boolean(c.carouselLoading),c.carousel&&(u=c.carousel,l=Boolean(c.carouselHidden)));var h=u.length<s;return e[a]&&!yt(e,a)&&(h=!1),(!n||c&&"carouselLoading"in c)&&(d||(h=h&&yt(e,a))),{items:u,hasMoreItems:h,loadingInProgress:d,hidden:l||!h&&!u.length,carouselHidden:l}}))(Ft),Ht=function(e){return a.createElement(Ge.a,{loc:e.incutType},a.createElement(Vt,i()({emptyPreviews:4,item:function(e,t){var n=e?e.id:"";return a.createElement(mt,{key:n||t,boardId:n})}},e)))},Wt=n("hjO5"),zt=Object(u.a)((function(e){var t=Boolean(Object(X.a)(e,$.d.COLLECTIONS_DESKTOP_EDITORS_CHOICE_PAGE)||!1),n=Object(X.a)(e,$.d.COLLECTIONS_DESKTOP_NY2020)?Wt.editorsChoiceNY():Wt.editorsChoice(),r=Object(tt.a)(e).feed||"";return{moreUrl:t?Object(f.q)(r):void 0,title:n}}))((function(e){return a.createElement(Ht,e)})),Kt=n("0lHE"),Yt=n("J+iS"),qt=(n("P+hV"),n("6hwB")),Gt=Object(u.b)()((function(e){var t=e.counter,n=Object(Kt.a)();return m.d.showPluginBanner(i()({},t,{link:n})),a.createElement("div",{className:"ext ext_state_visible ext_type_border ext_views"},a.createElement("div",{className:"ext__wrap"},a.createElement("span",{className:"ext__pic",style:{backgroundImage:"url("+Yt.default+")"}}),a.createElement("h4",{className:"ext__title"},qt.title()),a.createElement("div",{className:"ext__text"},qt.text.r()),a.createElement("div",{className:"ext__ctrl"},a.createElement("a",{target:"_blank",href:n,"data-link-type":"extension",className:"button button_size_M button_ei button_shape_round cl-ext-banner__button"},a.createElement("span",{className:"button__label"},qt.button())))))})),Xt=function(e){var t=e.itemRef;return a.createElement("div",{className:"cl-teaser",ref:t},a.createElement(Gt,null))},Jt=n("41qZ"),Zt=n("4MLz"),Qt=n("OYDH"),$t=n("5wlt"),en=n("+wVo"),tn=n("2nUw"),nn=n("9+Yy"),rn=Object(nn.a)("rtbBanner",{}),an=n("ukm6"),on=n("lQce"),sn=Object(on.a)("rtbBanner"),cn=n("T6Rw"),un=n("3WeZ"),ln=Object(cn.a)((function(e,t){return Object(un.a)(e,{rtb:t})})),dn=n("9yiq"),hn=n("3oL/"),fn=n("lm0t"),pn=n("7e2C"),bn=function(){function e(){}return e.initAd=function(t,n){var r=n&&n.isLoggerEnabled?pn.a:function(){},a=new Promise((function(e,n){var a=Date.now();(window.yaads=window.yaads||[]).push(i()({reject:function(e){r("client-adv-render-fail"),console.error("Adv from Recommender not load. Error: "+e),n(new Error(e))},success:function(){r("client-adv-render-time",Date.now()-a),r("client-adv-render-success"),e()}},t))}));return Promise.all([e.loadScript(),a])},e.loadScript=function(){return this.recommenderManager||(this.recommenderManager=Object(fn.a)("https://yastatic.net/pcode-native/loaders/loader.js")),this.recommenderManager},e}(),mn=(At=Object(A.a)(),Pt=Object(A.a)(),Bt=Object(A.a)(),Mt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).bannerId="u-"+t.props.sid+"-"+t.props.position,t.isDestroyed=!1,t.retryCount=0,t}x()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isClosed,n=e.isAdvResourceBlocked;t||!n?t||this.initAd():this.closeBanner()},n.componentWillUnmount=function(){this.isDestroyed=!0},n.componentDidUpdate=function(){!this.props.isClosed&&this.props.isAdvResourceBlocked&&this.closeBanner()},n.render=function(){var e=this.props,t=e.itemRef,n=e.isClosed,r=e.containerClassName,i=e.teaserClassName,o=e.bannerClassName,s=e.minHeight;return a.createElement("div",{className:i,style:n?{paddingBottom:"0",borderBottom:"none"}:{},ref:t},a.createElement("div",{className:r,style:n?{minHeight:1,background:"none",visibility:"hidden"}:{minHeight:s}},a.createElement("div",{id:this.bannerId,className:o})))},n.initAd=function(){var e=this,t=this.bannerId,n=this.props,r=n.recommenderBlockId,i=n.isLoggerEnabled;if(this.isDestroyed||this.retryCount>=10)console.error("RTBMasonryTeaser container not attached into DOM");else{if(!document.getElementById(t))return this.retryCount+=1,void setTimeout(this.initAd,100);this.retryCount=0,r?bn.initAd({id:r,render:"#"+t,data:this.props.data,settings:this.props.settings},{isLoggerEnabled:i}).catch((function(){e.loadContext()})):this.loadContext()}},n.loadContext=function(){var e=this.props,t=e.isLoggerEnabled,n=e.bkContextSrc,r=e.dispatch;hn.a.pushCallback(this.loadBanner,{errorHandler:function(){r(ln({isAdvResourceBlocked:!0}))},src:n,isLoggerEnabled:t})},n.loadBanner=function(){var e=this.props,t=e.rtbBlockId,n=e.position,r=e.uuid,i=e.yuid,a=e.bkContextNonce,o=e.isLoggerEnabled,s=e.data,c=e.reqId;this.isDestroyed||hn.a.render({data:s,blockId:t,renderTo:this.bannerId,pageNumber:n+Object(Zt.a)(),cspNonce:a,extParam:"&"+Object(dn.a)({uuid:r,yuid:i}),extParams:"&reqid="+c,onHide:this.closeBanner},{isLoggerEnabled:o})},n.closeBanner=function(){var e=this.props,t=e.itemId;(0,e.dispatch)(sn({id:t,value:{closed:!0}}))},t}(a.Component),N()(Mt.prototype,"initAd",[At],Object.getOwnPropertyDescriptor(Mt.prototype,"initAd"),Mt.prototype),N()(Mt.prototype,"loadBanner",[Pt],Object.getOwnPropertyDescriptor(Mt.prototype,"loadBanner"),Mt.prototype),N()(Mt.prototype,"closeBanner",[Bt],Object.getOwnPropertyDescriptor(Mt.prototype,"closeBanner"),Mt.prototype),Mt),vn=Object(u.a)((function(e,t){var n=rn(e,t.itemId),r=n&&n.closed,i=function(e){return Object(an.a)(e).rtb}(e),a=i&&i.isAdvResourceBlocked,o=Object(X.a)(e,$.d.COLLECTIONS_BK_CONTEXT_URL);return{isClosed:r,isAdvResourceBlocked:a,isLoggerEnabled:Object(X.a)(e,$.d.COLLECTIONS_ADV_LOGGING),bkContextSrc:o,recommenderBlockId:Object(X.a)(e,$.d.COLLECTIONS_RECOMMENDER_BLOCK_ID),bkContextNonce:Object(Qt.a)(e),yuid:Object($t.a)(e).yandexuid,uuid:Object(en.a)(e,"uuid"),reqId:Object(tn.a)(e)}}))(mn),gn=function(e){return a.createElement(vn,i()({},e,{teaserClassName:"cl-teaser cl-teaser_card cl-teaser_fixed",containerClassName:"cl-teaser__wrap",bannerClassName:"cl-teaser__banner",minHeight:e.minHeight||455}))},On=n("0q89"),_n=n("HOjc"),yn=n("2ELS");n("ULkR"),n("Rswe");var Cn=Object(u.a)((function(e,t){var n=t.id,r=t.stateKey,i=t.hasClose,a=!1,o=!0;if(n&&r&&!1!==i){var s=Object(wt.a)(e,r,n);a=!0,o=!s||!s.incutHidden}return{close:a,visible:o}}))((function(e){var t=e.className,n=e.title,r=e.close,i=e.description,o=e.buttonLabel,s=e.prepend,c=e.visible,u=e.id,l=e.stateKey,d=e.passportLoc,h=e.authDialogSource,f=e.dispatch,p=e.itemRef;return a.createElement("div",{className:Object(Re.a)("cl-incut",{state:c?"visible":"hidden"},t),ref:p},a.createElement("div",{className:"cl-incut__wrap"},r&&a.createElement(_n.a,{className:"cl-incut__close",onClick:function(){f(Object(Rt.a)({id:u,stateKey:l,value:{incutHidden:!0}}))}}),s,a.createElement("h3",{className:"cl-incut__title"},n),a.createElement("div",{className:"cl-incut__desc"},i),a.createElement("div",{className:"cl-incut__ctrl"},a.createElement(yn.a,{className:"cl-incut__button cl-incut__button_login",shape:"round",showLabel:!0,label:o,iconMods:{"login-24x24":!0},passportLoc:d,authDialogSource:h}))))})),En=n("t8R9"),jn=(n("rli+"),function(e){var t=e.itemRef;return a.createElement("div",{className:"cl-user-login-masonry-teaser",ref:t},a.createElement(Cn,{className:"cl-user-login-masonry-teaser__incut",title:En.title.r(),description:En.description.r(),buttonLabel:En.button(),passportLoc:On.a.FEED}))}),Sn=n("RV/O");n.d(t,"a",(function(){return wn}));var wn=function(e){var t=e.item,n=e.stateKey,r=e.options;if(t.type===s.a.CARD){var c=r||{},u=c.badgeType,l=c.shortInfo,d=c.showOwner,h=c.showReason,f=c.showCtrl;return a.createElement(R.a,{mod:"card",cardId:t.item.id},a.createElement(Ze,{cardId:t.item.id,itemPosition:t.position,storeKey:n,badgeType:u,showOwner:d,showReason:h,showCtrl:f,shortInfo:l,index:t.position,itemRef:t.ref}))}if(t.type===s.a.PSEUDO){var p=t.item,b=p.height,m=p.dashed;return a.createElement($e,{itemRef:t.ref,height:b,dashed:m})}if(t.type===s.a.RTB_BANNER)return a.createElement(gn,{itemRef:t.ref,sid:t.sid,position:t.position,itemId:t.item.id,rtbBlockId:t.item.rtbBlockId,minHeight:t.item.minHeight,data:void 0});var v,g={itemRef:t.ref,stateKey:t.storeKey,uiStateKey:t.type,shardId:t.item.id,logger:r.incutLogger};if(t.type===s.a.BOARDS_CAROUSEL)return a.createElement(Ht,i()({incutType:t.type,title:Sn.recommendations()},g,t.item));if(t.type===s.a.EDITORS_CHOICE)return a.createElement(zt,i()({incutType:t.type},g,t.item,{showMore:!0}));if(t.type===s.a.BOARD){var O=(r||{}).showOwner;return a.createElement(T.a,{boardId:t.item.id,showOwner:O,showCtrl:!0,index:t.position,itemRef:t.ref,fixed:!0})}if(t.type===s.a.CHANNEL){var _=(r||{}).showComplain;return a.createElement(et.a,{channelId:t.item.id,showComplain:_,itemRef:t.ref})}if(t.type===s.a.CHANNEL_BOARDS){var y=(r||{}).showComplain;return a.createElement(Jt.a,{item:t.item,showComplain:y,itemRef:t.ref})}if(t.type===s.a.EXTENSION)return a.createElement(Xt,{itemRef:t.ref});if(t.type===s.a.AUTH)return a.createElement(jn,{itemRef:t.ref});if(t.type===s.a.CARD_RECOMMENDATION){var C=t.meta;return C&&C.boardId&&a.createElement(I,{boardId:C.boardId,itemRef:t.ref,stateKey:t.storeKey,index:t.position})}return v='Unsupported type "'+t.type+'" from store "'+t.storeKey+'"',o[v]||(o[v]=!0,console.error(v)),a.createElement("div",{className:"cl-masonry__hidden",ref:t.ref})}},UoCc:function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];if(n)return Number(n.count)}n.d(t,"a",(function(){return r}))},"V3+z":function(e,t,n){"use strict";function r(e){return JSON.stringify(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(e){var t=e.replace(/&lt;/g,"<").replace(/&amp;/g,"&");return JSON.parse(t)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},V3IX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("MTjZ"),i=n("2WP6"),a=n("4RqY"),o=n("lhXF"),s=Object(a.a)((function(e,t){var n=e.tooltipKey,a=t.getState,s=t.dispatch,c=Object(r.a)(a());-1!==(Object(i.a)(c)||{})[n]&&s(Object(o.a)({key:n,mutation:function(){return 0}}))}))},V7jS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),a=n("+r4z"),o=n("gLBg"),s=n("4RqY"),c=n("ruzH"),u=n("FVd+"),l=Object(s.a)((function(e,t){var n,r,s,l;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.taskId,r=t.getState,s=t.dispatch,l=Object(a.a)(r()),![o.a.MY_PROFILE,o.a.FAVORITES_TYPE].includes(l)){d.next=15;break}if(d.prev=4,!n){d.next=8;break}return d.next=8,i.a.awrap(s(Object(u.a)({taskId:n})));case 8:return d.next=10,i.a.awrap(s(Object(c.a)({})));case 10:d.next=15;break;case 12:d.prev=12,d.t0=d.catch(4),console.log("Sync profiled failed: "+d.t0.message);case 15:case"end":return d.stop()}}),null,null,[[4,12]])}))},V8c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("o0o1"),i=n.n(r),a=n("kdr8"),o=n("QodL"),s=n("Jxqj"),c=n("Wopx"),u=n("ZVGH"),l=n("CsIx"),d=n("Kj4u"),h=n("4RqY"),f=n("1WnH"),p=n("nAK0"),b=Object(h.a)((function(e,t){var n,r,h,b,m,v,g,O,_,y,C,E,j;return i.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(n=e.id,r=e.storeKey,h=e.counter,b=t.getState,m=t.di,v=t.dispatch,p.d.clickYaShare(h),"cards"!==r){S.next=15;break}if(g=b().entities,(O=g&&g[r])&&O[n]){S.next=9;break}return S.next=9,i.a.awrap(v(Object(d.a)({cardId:n})));case 9:if(_=Object(s.a)(b(),n),!Object(l.a)(_)){S.next=15;break}return S.next=13,i.a.awrap(m({env:"env",requestAdapter:"request"}));case 13:return y=S.sent,S.abrupt("return",Object(a.b)(y,{}));case 15:if(C=b(),E=Object(c.a)(C),(j=Object(u.a)(C,{id:n,storeKey:r}))&&E){S.next=20;break}throw new Error("Not enough data to share");case 20:v(Object(f.a)({type:o.c.SHARE,animationType:o.a.MODAL,options:{share:j,counter:h}}));case 21:case"end":return S.stop()}}))}))},VA5u:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M8.2 2h7.6c1.1 0 1.5.1 2 .3a2.3 2.3 0 01.9 1c.2.4.3.8.3 2v15.6a1 1 0 01-1.6.8L12 17.5l-5.4 4.2A1 1 0 015 21V5.2c0-1.1.1-1.5.3-2a2.3 2.3 0 011-.9c.4-.2.8-.3 2-.3z"}))}i.defaultProps={width:"24",height:"24",id:"bmark-card-24-filled"},e.exports=i,i.default=i},VDDL:function(e,t,n){"use strict";function r(e){return function(t){return function(n){var r=n.dispatch;return e.reduce((function(e,n){return e.then((function(){return r(n(t))}))}),Promise.resolve())}}}n.d(t,"a",(function(){return r}))},VKF3:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5.002c0-1.35 2.143-4.5 6-4.5s6 3.15 6 4.5-2.143 4.5-6 4.5-6-3.15-6-4.5zm6 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm1.725-3a1.725 1.725 0 1 1-3.45 0 1.725 1.725 0 0 1 3.45 0z",fill:"currentcolor"}))}i.defaultProps={id:"eye",width:"12",height:"10",fill:"none"},e.exports=i,i.default=i},"VL+A":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("xriV");function i(e){var t=[];return function e(n,i){if(n){if(n instanceof Error)return Object(r.a)(n);if("function"==typeof n)return"[fn]";if("object"==typeof n){if("function"==typeof n.toJSON&&(n=n.toJSON()),t.includes(n))return"[Recursive "+Object.prototype.toString.call(n)+"]";if(!i)return"...";if(t.push(n),Array.isArray(n))return n.map((function(t){return e(t,i-1)}));var a={};if(n&&"object"==typeof n){for(var o in n)({}).hasOwnProperty.call(n,o)&&"function"!=typeof n[o]&&(a[o]=e(n[o],i-1));n.constructor&&"Object"!==n.constructor.name&&(a.constructor={name:n.constructor.name})}else console.log(n);return a}return n}return n}(e,3)}function a(e){return"function"==typeof e?{value:e.toString().slice(0,100)}:"object"!=typeof e||Array.isArray(e)?{value:i(e)}:i(e)}},VMBN:function(e,t,n){},VPES:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("cDcd"),c=n("JxqJ"),u=n("tvS1"),l=n("5+Qg"),d=n("U9Ap"),h=n("h3n8"),f=n("YxMk"),p=n("K7k/"),b=n("79NS"),m=n("Wopx"),v=n("P34R"),g=n("0q89"),O=n("gLBg"),_=n("TBxt"),y=n("o0o1"),C=n.n(y),E=n("+mVu"),j=n("Kj4u"),S=n("c+Ap"),w=n("rreP"),k=n("4RqY"),I=n("87jK"),T=Object(k.a)((function(e,t){var n,r,i,a,o,s,c;return C.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.di,r=t.dispatch,u.next=3,C.a.awrap(n("request"));case 3:return i=u.sent,a=e.map((function(e){return{id:e}})),o=a.length,u.prev=6,u.next=9,C.a.awrap(i.del("/collections/api/cards/",a));case 9:if(!(s=u.sent)){u.next=17;break}return c=Object.keys(s).map((function(e){return Number(e)})),a=a.filter((function(e,t){return!c.includes(t)})),r(Object(w.a)({message:I.cardsPartialRemoved({count:a.length,total:o})})),u.abrupt("return",a.map((function(e){return e.id})));case 17:return r(Object(w.a)({message:I.cardsRemoved({count:a.length})})),u.abrupt("return",e);case 19:u.next=25;break;case 21:throw u.prev=21,u.t0=u.catch(6),u.t0.status>=S.v.BAD_REQUEST&&r(Object(w.a)({message:a.length>1?I.cardsNotRemoved():I.cardNotRemoved()})),u.t0;case 25:case"end":return u.stop()}}),null,null,[[6,21]])})),R=n("8KwP"),L=n("V7jS"),x=n("cX81"),D=Object(k.a)((function(e,t){var n,r,i,a,o,s;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.getState,r=t.di,i=t.dispatch,(a=Object(l.a)(n(),e))&&a.length){c.next=4;break}return c.abrupt("return");case 4:return c.prev=4,c.next=7,C.a.awrap(i(T(a)));case 7:return i(Object(R.a)(void 0)),i(Object(L.a)({})),c.next=11,C.a.awrap(i(Object(j.a)({cardId:e})));case 11:return c.next=13,C.a.awrap(r("env"));case 13:o=c.sent,s=Object(E.a)(n(),e),x.a.dataFactory(s,{parse:!0,env:o}),c.next=21;break;case 18:throw c.prev=18,c.t0=c.catch(4),c.t0;case 21:case"end":return c.stop()}}),null,null,[[4,18]])})),N=n("EvZm"),A=n("irYq");n.d(t,"a",(function(){return P}));var P=Object(c.b)((function(e,t){var n=t.cardId,r=Object(m.a)(e),i=Object(l.a)(e,n);return{isMultiMorda:Object(v.a)(r),hasYellowSkin:Object(b.a)(e),isOwnerCard:Object(d.a)(e,n),passportOriginRepin:Object(f.a)(r,g.a.REPIN),sharesCount:Object(u.a)(e,n),hasMineCards:Boolean(i&&i.length)}}))((function(e){var t=e.mods,n=e.cardId,r=e.label,a=e.iconOnly,c=e.showStat,u=e.hideLabel,l=e.iconComponent,d=e.alreadySharedLabel,f=e.alreadySharedIcon,b=e.isMultiMorda,m=e.isOwnerCard,v=e.hasMineCards,g=e.hasYellowSkin,y=e.sharesCount,C=e.passportOriginRepin,E=e.dispatch,j=e.onShare,S=e.counter,w=o()(e,["mods","cardId","label","iconOnly","showStat","hideLabel","iconComponent","alreadySharedLabel","alreadySharedIcon","isMultiMorda","isOwnerCard","hasMineCards","hasYellowSkin","sharesCount","passportOriginRepin","dispatch","onShare","counter"]);if(u||r||(r=c?Object(h.a)(y,!0):m?A.move():A.share()),v)f&&(l=f),!u&&d&&(r=d);else if(b){var k=function(e,t){return e?Object(p.a)(t):t}(g,Object(O.D)({cardid:n,from:C,castNotification:!0}));w.props=i()({href:k,target:"_blank"},w.props)}return s.createElement(N.a,i()({label:!a&&r,onClick:function(){v?E(D(n)):b||E(Object(_.a)({id:n,counter:S})),j&&j()},mods:i()({state:!!v&&"check",mark:v},t),iconComponent:l},w))}))},VRo3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_wishlist",!1))},VWIr:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("o0o1"),i=n.n(r),a=n("QodL"),o=n("u3Je"),s=n("MTjZ"),c=n("RouB"),u=n("4RqY"),l=n("1WnH"),d=Object(u.a)((function(e,t){var n,r,u,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(n=e.modalType,r=t.getState,u=t.dispatch,d=r(),h=Object(s.a)(d),Boolean(Object(o.a)(d))||Object(c.a)(h)){f.next=8;break}return f.next=8,i.a.awrap(u(Object(l.a)({type:n,animationType:a.a.MODAL})));case 8:case"end":return f.stop()}}))}))},VZqJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("WbN8"),i=n("4MLz");function a(){var e=Object(r.a)("cptrid");return e||(e=Object(i.a)(),Object(r.e)("cptrid",e)),e}},VcSh:function(e,t,n){"use strict";var r=n("RMBg");t.a=r.a.applyDecls()},VeHT:function(e,t,n){"use strict";var r=n("5A8i");t.a=r.a.applyDecls()},"VsR/":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("8OQS"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("VbXa"),c=n.n(s),u=n("cDcd"),l=n("nAK0"),d=n("EvZm"),h=n("BiF8"),f=n.n(h),p=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.chatId,n=e.guid,r=e.boardId,i=e.userId,a=e.chatType,s=e.counter;r&&i&&(n||t)&&l.d.showChatButton(o()({},s,{chatType:a,ownerId:i,boardId:r}))},n.render=function(){var e=this.props,t=e.chatId,n=e.guid,r=e.boardId,a=e.userId,s=e.chatType,c=e.counter,h=i()(e,["chatId","guid","boardId","userId","chatType","counter"]);return n||t?window&&!window.chatWidget?null:u.createElement(d.a,o()({ei:!0,size:"M",iconComponent:u.createElement(f.a,{className:"button__icon"}),onClick:function(){l.d.openChat(o()({},c,{chatType:s,ownerId:a,boardId:r})),t?window.chatWidget.showChat({chatId:t}):n&&window.chatWidget.showChat({guid:n})},props:{}},h)):null},t}(u.Component),b=Object(l.f)(p)},VuJA:function(e,t,n){"use strict";var r=n("NLdy");t.a=r.a.applyDecls()},VxgP:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({cardRemoveTitle:"Are you sure you want to remove this card?",cardsRemoveTitle:"Are you sure you want to delete the cards?",boardRemoveTitle:function(e){return'Are you sure you want to remove the collection "'+i(e.title)+'"?'},boardRemoveSubtitle:"All cards will be lost from it",cardRemoveSeriesTitle:"Remove image from gallery?",commentRemoveTitle:"Remove comment?"})},"W+cT":function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];if(n&&n.results)return n.results}n.d(t,"a",(function(){return r}))},"W/Rk":function(e,t,n){"use strict";function r(e){return Boolean(e&&e.recipe)}n.d(t,"a",(function(){return r}))},"W/Tm":function(e,t,n){"use strict";var r=n("cDcd"),i=n("6ga4"),a=n.p+"f/7a6d.svg",o=n.p+"f/3557.svg",s=n.p+"f/1a72.svg",c=n.p+"f/5b31.svg",u=n.p+"f/1f3c.svg",l=n.p+"f/ac4e.svg",d=n.p+"f/1da7.svg";n("9qq7"),n.d(t,"a",(function(){return f})),n("MmrI");var h=[s,u,c,d,a,o,l],f=function(e){var t=e.className,n=e.index;return"number"!=typeof n?null:r.createElement("span",{className:Object(i.a)("cl-teaser-imageholder",{},t),style:{backgroundImage:"url("+h[n%h.length]+")"}})}},W7A8:function(e,t,n){"use strict";var r=n("xFYi"),i=n("lc+m"),a=n("i1uP"),o=n("y6Xm"),s=Object(a.a)(i.a,Object(o.a)("ban_reason")),c=n("/KRU"),u=function(e,t){return e[e[t="INTERNAL_LINK"]="403"]=t,e[e[t="COMMON"]="common"]=t,e}({});function l(e,t){var n=Object(i.a)(e,t),a=n&&n.is_banned&&n.is_visible,o=Object(c.a)(e,t),l=s(e,t);return Boolean(a&&l===u.INTERNAL_LINK&&!Object(r.a)(o))}n.d(t,"a",(function(){return l}))},W7tw:function(e,t,n){"use strict";var r=n("k4Lr");t.a=r.a.applyDecls()},WB5C:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("MTjZ"),i=n("JeHU"),a=n("RouB");function o(e){var t=Object(r.a)(e);return!Object(i.a)(t)||Object(a.a)(t)}},WIki:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("izju"),o=function(e){var t={source:e.source,source_type:e.source_type||a.a.IMAGE};return e.file&&(t=i()({},t,{source:i()({},t.source,{title:e.file.name,url:""}),file:e.file})),t}},WJAN:function(e,t,n){},WLYw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("slug"))},WMgd:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("NVra"),c=n("0Boe"),u=n("c+Ap"),l=function(e,t){return e[e[t="BOARD_ADD"]="collection_added"]=t,e[e[t="PLUGIN_BOARD_ADD"]="plugin_collection_added"]=t,e}({}),d=n("gQdx"),h=n("T6Rw"),f=Object(h.a)((function(e,t){var n;return e?o()({},e,((n={}).currentBoard=t,n)):e})),p=n("4RqY"),b=n("bKlb"),m=n("BCLc"),v=n("1WnH"),g=n("nAK0");n.d(t,"a",(function(){return O}));var O=Object(p.a)((function(e,t){var n,r,a,h,p,O,_,y,C;return i.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return n=e.boardData,r=e.asCompanyLogin,a=e.counter,h=t.di,p=t.dispatch,_={title:n.title,description:n.description,is_private:n.is_private,is_wishlist:n.is_wishlist},E.next=5,i.a.awrap(h("request"));case 5:return y=E.sent,C=Object(c.a)("/collections/api/boards/",{as_company:r}),E.prev=7,E.next=10,i.a.awrap(y.post(C,_));case 10:O=E.sent,E.next=18;break;case 13:throw E.prev=13,E.t0=E.catch(7),p(Object(b.a)({error:E.t0})),E.t0.status===u.v.FORBIDDEN&&p(Object(v.a)(null)),E.t0;case 18:if(!O||!O.id){E.next=25;break}return g.d.finishBoardCreate(o()({boardId:O.id,hasDescription:Boolean(_.description),isPrivate:_.is_private,isWishList:_.is_wishlist},a)),Object(s.a)().reachGoal(l.BOARD_ADD),p(Object(m.a)(null)),p(f(O)),p(Object(d.a)({id:O.id,value:O})),E.abrupt("return",O);case 25:case"end":return E.stop()}}),null,null,[[7,13]])}))},WNXv:function(e,t,n){"use strict";function r(e){return e&&e.content?e.content.avatars_meta:null}n.d(t,"a",(function(){return r}))},WSI5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7q/M");function i(e){if(e){if(e instanceof r.a){var t=e.event;if(!t)return;return t.origName||t.name}var n=e.event;if(n)return n.origRoute||n.route}}},WVyS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("r/yX"),o="data:image";function s(e){if(e&&e.id&&!Object(a.a)(e))return{id:e.id};var t=e.source&&e.source.url?String(e.source.url):"",n=e.source&&e.source.preview?String(e.source.preview):"";return t.match(/^data:image/)&&(n=o,t=o),i()({},e,{source:i()({},e.source,{url:t,preview:n})})}},WXND:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("o0o1"),i=n.n(r),a=n("gQdx"),o=n("4RqY"),s=function(e){return"/collections/api/boards/"+encodeURIComponent(e)},c=Object(o.a)((function(e,t){var n,r,o,c,u,l;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=e.boardId,r=e.options,o=t.di,c=t.dispatch,d.next=4,i.a.awrap(o("request"));case 4:return u=d.sent,d.next=7,i.a.awrap(u.get(s(n),r||{}));case 7:return l=d.sent,c(Object(a.a)({id:n,value:l,parse:!0})),d.abrupt("return",l);case 10:case"end":return d.stop()}}))}))},WbN8:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("1XU/"),o=1e3,s="yp";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b}));var c="Thu, 31 Dec 2037 21:00:00 GMT";function u(e){var t={};return e.split(";").forEach((function(e){var n=e.trim().split("="),r=n[0],i=n.slice(1);t[r]=i.join("=")})),t}function l(e){return u(document.cookie)[e]}function d(e,t,n,r){void 0===r&&(r=!0),r&&(t=encodeURIComponent(t));var i=e+"="+t;Object.keys(n).forEach((function(e){i+=";"+e+"="+n[e]})),document.cookie=i}function h(e,t,n){void 0===n&&(n={}),d(e,t,i()({path:"/collections"},n)),d(e,t,i()({path:"/images"},n))}function f(){return function(e){if(!e)return{};for(var t=Date.now()/o,n=e?e.split("#"):[],r={},i=0;i<n.length;i++){var a=n[i].split("."),s=a[0],c=a[1],u=a.slice(2).join(".");Number(s)>t&&(r[c]={value:decodeURIComponent(u),expires:Number(s)})}return r}(l(s))}function p(e){var t=f()[e];return t?t.value:void 0}function b(e,t,n){var r,o,u;o=i()({},f(),((r={})[e]={value:t,expires:n},r)),u=Object.keys(o).map((function(e){return[o[e].expires,e,encodeURIComponent(o[e].value)].join(".")})).join("#"),d(s,u,{expires:c,domain:Object(a.a)(".yandex.ru"),path:"/"},!1)}},"We6+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Oi3d");function i(e){return function(t){return Object(r.a)(e,t)}}},Wf7Z:function(e,t,n){"use strict";var r,i=n("pVnL"),a=n.n(i),o=n("NVra"),s=n("wFzV"),c=n("+3en"),u=n("bphC"),l=n("Tff5"),d=n("Pm7h"),h=n("U9Ap"),f=n("XPFG"),p=n("MTjZ"),b=n("gLBg"),m=n("nAK0");n.d(t,"a",(function(){return g}));var v=((r={})[b.a.CARD]=function(e){var t=Object(d.a)(e);return{cardId:t?t.id:"",boardId:Object(l.a)(t),isOwner:Object(h.a)(e,t)}},r[b.a.BOARD]=function(e){var t=Object(c.a)(e);return{boardId:Object(f.a)(Object(c.a)(e)),isOwner:Object(u.a)(e,t)}},r);function g(e,t){var n=Object(p.a)(e),r={pageName:t.pageName};if(n&&n.stats){var i=n.stats;r=a()({},r,{sCards:i.cards,sLikes:i.own_likes,sBoards:i.boards,sChannelSubs:i.channel_subscriptions,sBoardSubs:i.board_subscriptions,sUserSubs:i.user_subscriptions})}"function"==typeof nextReqId&&nextReqId(),t.metrika&&Object(o.a)().hitAccess();var c,u,l,d=v[t.pageName];d&&(r=a()({},r,{},d(e))),t.delayed?(c=m.a.access,u=r,void 0===l&&(l=1e3),setTimeout((function(){Object(s.a)(c,u)}),l)):Object(s.a)(m.a.access,r)}},WiFc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Y6N5"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("page_title"))},Wk2l:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({register:"Registration",login:"Sign in"})},Wm27:function(e,t,n){},WoCj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="space"]="space"]=t,e[e[t="empty"]="empty"]=t,e[e[t="long"]="long"]=t,e}({})},Wopx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("y6Xm"),i=Object(r.a)("env",{})},Wrnh:function(e,t,n){"use strict";var r,i=n("m4u8"),a=n("0lHE"),o=n("PSoe");function s(e){return Boolean(e&&!e.env.isEmbed&&!Object(i.a)(e)&&(r||(r=document.body.classList.contains(o.d)),!r)&&Object(a.a)())}n.d(t,"a",(function(){return s}))},WyUc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="HIDE"]="hide"]=t,e[e[t="SPAM"]="spam"]=t,e[e[t="PORN"]="porn"]=t,e[e[t="HATE_SPEECH"]="hate_speech"]=t,e[e[t="RULES_VIOLATION"]="rules_violation"]=t,e[e[t="NOT_INTERESTED"]="not_interested"]=t,e[e[t="SEEN_BEFORE"]="seen_before"]=t,e[e[t="HIDE_SOURCE"]="hide_source"]=t,e[e[t="GRUESOME"]="gruesome"]=t,e[e[t="OTHER"]="other"]=t,e[e[t="DECEPTION"]="deception"]=t,e[e[t="OLD"]="old"]=t,e[e[t="AD"]="ad"]=t,e[e[t="BAD_TITLE"]="bad_title"]=t,e}({})},"X+QC":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r="https://yastatic.net/s3/fiji-static/podb";function i(e){return r+"/"+e}function a(e){return i(e)}},X4fP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("collabs_count",0))},"XIU/":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("y1pN"),i=n("X4fP"),a=n("/KRU"),o=n("7/cf"),s=n("MTjZ"),c=n("IWXk");function u(e){var t=Object(o.b)(e),n=Object(s.a)(e);if(!t||!n)return!1;var u=n.login,l=t.owner?Object(c.a)(e,t.owner.id):null,d=l&&l.login,h=t.original_id,f=Object(a.a)(e,h||t.id),p=f&&Object(r.a)(e,f.id),b=p&&u===p.login,m=Object(i.a)(f);return Boolean(h&&!(u===d)&&(!b||b&&m))}},XKgQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="TITLE"]="Title"]=t,e[e[t="DESCRIPTION"]="Description"]=t,e}({})},XL0g:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("gl2N"),i=n("Ot8I"),a=n("c+Ap");function o(e,t){var n,o=(void 0===t?{hash:{}}:t).hash,s=o.size,c=void 0===s?"preview":s,u=o.forceProd,l=void 0!==u&&u;if(e)return a.D[c]&&(c=a.D[c]),e instanceof r.a?e.getImageURL({size:c,forceProd:l}):(e.avatars_key&&(e={content:e}),e.content?n=Object(i.b)(e.content,{forceProd:l,size:c}):e.source&&(n=e.source.url),n)}},XOpk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=Object(a.a)((function(e,t){var n=t.value,r=void 0===n?"":n;return i()({},e,{uiCurrentVisibleTooltipKey:r})}))},XOrD:function(e,t,n){"use strict";var r=n("Lyz4");t.a=r.a.applyDecls()},XPFG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("y6Xm"),i=Object(r.a)("id")},XU4g:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("dNc+"),c=n("7hiN"),u=n("lc+m"),l=n("Tff5"),d=n("om3R"),h=n("+mVu"),f=n("AGq3"),p=n("izju"),b=Object(f.a)(p.a.NEWS,"_url/news"),m=n("xalX"),v=n("OZAH"),g=n("y6Xm"),O=n("1ZVK");function _(e,t){var n=t.request,r=t.stateKey,i=t.normalizer,a=t.entityType,o=t.getState,s=t.dispatch,c=function(){return o()[r]},u=Object(v.a)(c,(function(e){var t=[];return e&&e.results.forEach((function(e){if(function(e){return!a||!e.entity_type||e.entity_type===a}(e)){var n=i.denormalize(o().entities,e);0!==Object.keys(n).length&&t.push(n)}})),t})),l=new e(Object(m.a)(u()),{request:n,parse:!0}),d=c();return d&&(l.url=d._url,l.fetchParams=d._query),l.getCount=function(){return l.length||0},l.isLoading=Object(v.a)(c,Object(g.a)("_loading",!1)),l.isFullyLoaded=function(){var e=c();return!!e&&!this.isLoading()&&!e.next},l.fetchNext=function(){var e=this;return this.isFullyLoaded()?this._warn("Pagination.fetchNext for fully loaded collection"):c()?s(Object(O.a)({storeKey:r})).then((function(){var t=u().filter((function(t){var n=t.id;return!e.get(n)})),n=Object(m.a)(t);e.add(n,{parse:!0})})).catch((function(e){return console.error(e)})):void 0},l.clone=function(){return l},l}var y=n("x9gI"),C=n("hDfK"),E=n("Hxdx"),j=n("Wopx"),S=n("JhPm"),w=n("ICaW"),k=n("gLBg"),I=n("Kj4u"),T=n("REdb"),R=n("wRV7"),L=n("4RqY"),x=n("IgGK"),D=n("nAK0"),N=n("v4Hp"),A=n("VbXa"),P=n.n(A),B=function(e){function t(){return e.apply(this,arguments)||this}return P()(t,e),t.prototype.url=function(){return"/collections/api/cards/channels/"+encodeURIComponent(this.fetchParams.channel)+"/"},t}(N.a),M=n("cX81");n.d(t,"a",(function(){return U}));var U=Object(L.a)((function(e,t){var n,r,a,f,p,m,v,g,O,L,A,P,U,F,V,H,W,z,K,Y;return i.a.async((function(q){for(;;)switch(q.prev=q.next){case 0:if(n=t.getState,r=t.di,a=t.dispatch,f=e.id,p=e.storeKey,m=e.counter,v=e.focus,g=e.openInStack,O=e.scrollToSimilar,void 0!==(L=e.scrollToCard)&&a(Object(x.a)({scrollToCard:L})),A=Object(k.k)(f,{autoclose:"yes"}),!(P=b(n(),f)&&Object(C.a)(n()))){q.next=9;break}if(A=Object(E.a)(Object(d.a)(n(),f))){q.next=9;break}throw new Error("Unknown source url");case 9:if(m=o()({},m,{cardId:f}),D.d.clickCard(m),!P){q.next=13;break}return q.abrupt("return",Object(c.a)(A,n().env));case 13:if(!Object(y.a)(n(),w.d.COLLECTIONS_DESKTOP_VIEWER)){q.next=17;break}return q.next=16,i.a.awrap(a(Object(R.b)({cardId:f,stateKey:p,openInStack:g,scrollToSimilar:O,counter:m})));case 16:return q.abrupt("return",q.sent);case 17:return q.next=19,i.a.awrap(r("CardPopupState"));case 19:return U=q.sent,q.next=22,i.a.awrap(r("request"));case 22:if(F=q.sent,V=n(),H=Object(j.a)(V),Object(u.a)(V,f)){q.next=29;break}return q.next=28,i.a.awrap(a(Object(I.a)({cardId:f})));case 28:V=n();case 29:if(p||!Object(l.a)(n(),f)){q.next=33;break}return p="viewerBoardCards",q.next=33,i.a.awrap(a(Object(T.a)({cardId:f,stateKey:p})));case 33:H&&(H.isBrowserApp||H.isYandexRecent||H.isYandexAppMultiMorda)?Object(c.a)(A,H):p?(W=_("channelCards"===p?B:N.a,{stateKey:p,normalizer:s.b,entityType:S.a.CARD,request:F,getState:n,dispatch:a}),U.openCardPopup(W.get(f),W,{stateKey:p,counter:m})):(z=Object(h.a)(V,f),K=M.a.dataFactory(z,{request:F,parse:!0}),v&&(K.options.focus=v),(Y=new N.a).add(K),Y.setFullyLoaded(),U.openCardPopup(K,Y,{stateKey:p,counter:m}));case 34:case"end":return q.stop()}}))}))},XU4w:function(e,t,n){},XWwV:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({label:"Sign in"})},XZwp:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=!1;window.addEventListener("beforeunload",(function(){a=!0})),n.d(t,"a",(function(){return u}));var o=3e3,s=3,c=20;function u(e,t,n,r){void 0===r&&(r=c);var u,l,d=[],h=!1,f="string"==typeof t?(l=t,{extract:function(e){var t=e&&e[l];return Array.isArray(t)?t:"string"==typeof t?t.split(","):[]},serialize:function(e){var t;return(t={})[l]=e.join(","),t}}):t;function p(e){if(h=Boolean(d.length)){var t=o;e||(t=u?Math.min(o,o-(Date.now()-u)):0),t>0?setTimeout(b,t):b()}}function b(){u=Date.now();var e=d.splice(0,s);if(e.length){var t=e.reduce((function(e,t){var a=t.hash,o=t.instances;if(o&&o.length){if(o.length>r){var s=o.splice(0,r);e.push({hash:a,instances:o}),o=s}n(i()({},a,{},f.serialize(o)))}return e}),[]);t.length&&(d=d.concat(t)),p(!0)}}function m(t,n){return e.every((function(e){return t[e]===n[e]}))}return function(e){if(e){for(var t=!1,n=f.extract(e),r=0;r<d.length;r++){var i=d[r];if(m(i.hash,e)){i.instances=i.instances.concat(n),t=!0;break}}t||d.push({hash:e,instances:n}),"visible"!==document.visibilityState||a?b():h||p()}}}},XfJF:function(e,t,n){},XrQz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("o0o1"),i=n.n(r),a=n("y144"),o=n("4RqY"),s=Object(o.a)((function(e,t){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:(0,t.dispatch)(Object(a.a)({value:void 0,force:!0}));case 2:case"end":return e.stop()}}))}))},Xuet:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("VbXa"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("GhlN"),c=n("r7G3"),u=(n("27fW"),function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.size,r=e.invert,i=e.boardId,o=e.showCtrl,u=e.isIncut,l=e.onVisibilityChange;return o?a.createElement("div",{className:Object(s.a)("cl-board-teaser-action",{},t)},a.createElement(c.a,{className:"cl-board-teaser-action__kebab",size:n,invert:r,boardId:i,onVisibilityChange:l,isIncut:u})):null},t}(a.Component)),l=Object(o.a)()(u)},Y16l:function(e,t,n){"use strict";function r(e,t){var n={};return e&&Object.keys(e).forEach((function(r){t.includes(r)||(n[r]=e[r])})),n}n.d(t,"a",(function(){return r}))},Y6N5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("source_meta"))},Y6Ru:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("4jvx");function i(e){return e.map((function(e){return r[e]?r[e]():e}))}},YFOV:function(e,t,n){"use strict";function r(e){return function(t,n){if(t){var r=t.entities,i=r&&r[e];return n&&i?("object"==typeof n&&(n=n.id),i[n]):void 0}}}n.d(t,"a",(function(){return r}))},YIZP:function(e,t,n){},YNvW:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("UQOb"),i=n("+3en"),a=n("bphC"),o=n("XPFG"),s=n("+r4z"),c=n("gLBg");function u(e){var t=Object(i.a)(e),n=Object(o.a)(t),u=Boolean(Object(r.a)(t)>=5e3);return Object(s.a)(e)===c.a.BOARD&&Object(a.a)(e,n)&&u}},YQQ1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("cDcd"),i=n("JxqJ"),a=n("lc+m"),o=n("MXHp"),s=n("KGKq"),c=n("m7Ew"),u=Object(i.b)((function(e,t){var n=Object(a.a)(e,t.cardId);return{externalLink:Object(o.a)(n)}}))((function(e){var t=e.className,n=e.style,i=e.disableLink,a=e.cardId,o=e.storeKey,u=e.children,l=e.externalLink;return l?r.createElement(c.a,{href:l,className:t,onClick:function(e){i&&(e.stopPropagation(),e.preventDefault())},props:{style:n}},u):r.createElement(s.a,{className:t,style:n,disableLink:i,cardId:a,storeKey:o},u)}))},YWra:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("M740"),i=n("H2ZY"),a=n("T6Rw"),o=n("kxd7"),s=Object(a.a)((function(e,t){var n=t.cardId,a=t.previousBoardId,s=t.currentBoardId,c=t.appendToCurrentBoard,u=void 0===c||c,l=Object(r.a)(e,"boardCards");return l&&a&&l["board.id"]===a&&a!==s?o.a.reducer(e,{id:n,storeKey:"boardCards"}):u&&l&&s&&l["board.id"]===s&&a!==s?i.a.reducer(e,{items:[{id:n}],key:"boardCards",prepend:!0}):e}))},YYD0:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M12 4.8c0-.6.7-1 1.2-.7l3.4 2.3c.4.3.4 1 0 1.2L13.2 10a.8.8 0 0 1-1.2-.7V8a5 5 0 1 0 5 5 1 1 0 1 1 2 0 7 7 0 1 1-7-7V4.8z",fill:"#000",fillRule:"evenodd"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},Yl8S:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r,i=n("cDcd"),a=n("faye"),o=n("Oi3d"),s=n("dbFI"),c=i.createContext(void 0),u=new Set,l=i.memo((function(e){var t=Object(o.a)(s.a),n=new Set;return i.createElement(c.Provider,{value:function(e){return u.has(e)||(u.add(e),function(){r||((r=document.createElement("div")).setAttribute("class","svg-wrapper hidden"),document.body.appendChild(r));var e=i.createElement(i.Fragment,null,Array.from(u).map((function(e){return i.createElement(e,{key:e.defaultProps&&e.defaultProps.id||""})})));Object(a.render)(e,r)}()),!!t&&!n.has(e)&&(n.add(e),!0)}},e.children)}))},Yosn:function(e,t,n){},"Ysr/":function(e,t,n){},YuPi:function(e,t,n){},Yv4e:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Gony");function i(e){return Object(r.a)("string"==typeof e?e:e.default)}},YwPR:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({completeWish:"Отметить как исполненное",actualizeWish:"Отметить как актуальное"})},Ywqh:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18 13.5c.6 0 1 .5 1 1v3c0 .8-.7 1.5-1.5 1.5h-11c-.8 0-1.5-.7-1.5-1.5v-11C5 5.7 5.7 5 6.5 5h3a1 1 0 0 1 0 2H7v10h10v-2.5c0-.5.4-1 1-1zm-1.7-6.7v-.3l-1.1.3-1.7.2a1 1 0 0 1-1-1c0-.6.4-1 1-1H18c.6 0 1 .4 1 1v4.5c0 .6-.4 1-1 1a1 1 0 0 1-1-1c0-.6 0-1.1.2-1.7l.3-1.1h-.3l-1 1.4-1 1.1-3.5 3.5a1 1 0 1 1-1.4-1.4l3.5-3.5 1-1 1.5-1z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},YxMk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2shX"),i=n("gHHl"),a="collections";function o(e,t){var n=a;if(e&&e.isBrowserApp){var o="unknown";e.ua&&(Object(i.a)(e.ua)?o="ios":Object(r.a)(e.ua)&&(o="android")),n="browser_"+o+"_collections"}return t?n+"_"+t:n}},Yxky:function(e,t,n){"use strict";function r(e){if(e&&e.organization)return e.organization.name}n.d(t,"a",(function(){return r}))},"Z+0I":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,i,a=n("pVnL"),o=n.n(a),s=n("8OQS"),c=n.n(s),u=n("VbXa"),l=n.n(u),d=n("U+yc"),h=n.n(d),f=n("cDcd"),p=n("LH8O"),b=n("6ga4"),m=n("MMsl"),v=n("Js1F");n("1BTu");var g=(r=Object(p.a)(),i=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={},t}l()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.onShow,n=e.scrollToTooltip;t&&t(),n&&this.element&&this.element.scrollIntoView(),this.calculateTailOffset(this.props)},n.componentWillReceiveProps=function(e){this.props!==e&&this.calculateTailOffset(e)},n.calculateTailOffset=function(e){var t=e.config,n=e.tailOffset;if(t&&this.element)if(n)this.setState({tailOffset:n});else{var r=t.anchor;if(r){var i=r.getBoundingClientRect().left-this.element.getBoundingClientRect().left+r.clientWidth/2;this.setState({tailOffset:i})}}},n.render=function(){var e=this,t=this.props,n=t.config,r=void 0===n?{target:m.f.ANCHOR,visible:!0}:n,i=t.title,a=t.text,s=t.hasTail,u=t.onClose,l=t.tone,d=c()(t,["config","title","text","hasTail","onClose","tone"]),h=this.state.tailOffset,p=f.createElement(v.a,o()({tone:l||m.d.GREY,text:f.createElement(f.Fragment,null,i&&f.createElement("h3",{className:"cl-tooltip__title"},i),f.createElement("p",{className:"cl-tooltip__description"},a)),hasClose:Boolean(u),onClose:u,hasTail:s},d));return f.createElement(f.Fragment,null,f.createElement("div",{className:Object(b.a)("cl-tooltip",o()({direction:r.directions,target:m.f.INLINE,inline:!0},r.mods)),ref:function(t){return e.element=t}},p),r.directions&&h&&r.mods&&r.mods.type&&f.createElement("style",null,".cl-tooltip_type_"+r.mods.type+" .message-box__tail {left: "+h+"px !important;}"))},t}(f.Component),h()(i.prototype,"calculateTailOffset",[r],Object.getOwnPropertyDescriptor(i.prototype,"calculateTailOffset"),i.prototype),i)},Z0W1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("ua",{}))},Z36V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="ADD"]="appsearch_collections_add"]=t,e[e[t="COMMENT"]="appsearch_collections_comment"]=t,e[e[t="FEED"]="appsearch_collections_feed"]=t,e[e[t="RECENT"]="appsearch_collections_recent"]=t,e[e[t="REPIN"]="appsearch_collections_repin"]=t,e[e[t="SIGNIN"]="appsearch_collections_signin"]=t,e[e[t="USER"]="appsearch_collections_user"]=t,e[e[t="SHARE"]="appsearch_collections_share"]=t,e[e[t="MODAL_UNAUTH"]="appsearch_collections_modal_unauth"]=t,e[e[t="MODAL_LIKE"]="appsearch_collections_modal_like"]=t,e[e[t="MODAL_FEED"]="appsearch_collections_modal_feed"]=t,e}({})},ZJId:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({cardBannedTitle:"This card was recently reported so it cannot be viewed"})},"ZK//":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dNc+"),i=n("O/ol"),a=n("K5nR"),o=Object(a.a)({normalizer:r.d,getEntity:i.a})},ZK63:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/5be4.gif"},ZMRC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("cDcd"),i=function(e){var t=e.displayName,n=e.noWrapper;if(!t)return null;var i=t;return n?r.createElement(r.Fragment,null,i):r.createElement("span",{className:"ya-login__name"},i)}},ZVGH:function(e,t,n){"use strict";var r=n("dNc+"),i=n("X+QC"),a=n("y1pN"),o=n("wYmg"),s=n("EBe9"),c=n("lc+m"),u=n("om3R"),l=n("Ot8I"),d=n("RYE9"),h=n("I4Ii"),f=n("hfWR"),p=n("SZfI");function b(e,t){var n=Object(p.a)(e,t);return n.og||n.default}var m=n("CXpC"),v=n("SGwR"),g=n("8KBr"),O=n("nt9X");function _(e){return"https://yandex.ru/collections/picture/users/"+encodeURIComponent(e)+"/"}var y=n("XKgQ"),C=n("gLBg"),E=n("qhb3");n.d(t,"a",(function(){return w}));var j={users:r.i,cards:r.b,boards:r.a,channels:r.c,contests:r.d},S={channels:function(e,t){return{title:E.channelMetaTitle({channel_title:e.title}),description:E.channelDescription({channel_description:e.description}),image:(n=e.slug,"https://yandex.ru/collections/picture/channels/"+encodeURIComponent(n)+"/"),url:Object(f.a)(t)+Object(C.m)(e.slug)};var n},contests:function(e,t){return{title:E.contestOGTitle({contest_title:e.title}),description:E.contestOGDescription({contest_description:e.description}),image:Object(h.a)(e.slug),url:Object(f.a)(t)+Object(C.n)(e.slug)}},boards:function(e,t,n){if(e.owner){var r=Object(a.a)(t,e),c=Object(O.a)(r),u=n?Object(v.a)(t,!0):Object(C.f)(c,e.slug);return Object(s.a)(e)?{title:E.boardInviteTitle({board_title:e.title,owner_login:Object(g.a)(r)}),image:Object(i.b)("assets/meta/og-invite.png"),url:Object(f.a)(t)+u}:{title:E.boardOGTitle({board_title:e.title}),description:E.boardOGDescription({owner_login:Object(g.a)(r)}),image:Object(o.a)(c,e.slug),url:Object(f.a)(t)+u}}},users:function(e,t){var n=e.login,r=e.display_name,i=void 0===r?n:r,a=Object(v.a)(t,!0)||Object(C.L)(n);return{title:E.profileOGTitle({login:i}),description:E.profileDescription({login:i}),image:_(n),url:Object(f.a)(t)+a}},cards:function(e,t){var n,r=e.id,i=(e.description,Object(c.a)(t,r)),a=Object(m.a)(t,i),o=Object(u.a)(t,r);return n=Object(d.a)(o)?Object(l.b)(o,{size:"orig"}):Object(l.b)(o,{size:"s1200"})+"?webp=false",{title:b(y.a.TITLE,a),description:b(y.a.DESCRIPTION,a),image:n,url:Object(f.a)(t)+Object(C.k)(r)}}};function w(e,t){var n=t.storeKey,r=t.id,i=t.isPageUrl,a=e.entities[n],o=a&&a[r];if(o){var s=j[n].denormalize(e.entities,o);return S[n](s,e,i)}}},ZhkI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){var t=e.model;this.model=t,this.pool={},this.counter=0,this.model.on("request",this.handler,this)}var t=e.prototype;return t.destroy=function(){this.model.off("request",this.handler,this)},t.activate=function(){var e=this,t=++this.counter;return{reqId:t,done:function(){return e.done(t)}}},t.handler=function(e,t,n){void 0===n&&(n={});var r=n._reqId;r&&(this.pool[r]=t)},t.isActive=function(){return Boolean(Object.keys(this.pool).length)},t.done=function(e){this.pool[e]&&delete this.pool[e]},t.reset=function(){var e=this.pool;Object.keys(e).forEach((function(t){return e[t].abort()})),this.pool={}},e}()},ZnAV:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("S3Ck"),o=n("XZwp"),s=n("nAK0"),c=["loc","boardsSessionId","boardId"];function u(e,t){return function(n){var r=e[n],a=r&&r.item;if(a&&a.id)return i()({},a,{start:r.timestamp,finish:t})}}function l(e){return Object(a.a)(u)({logger:Object(o.a)(c,{extract:function(e){return e&&e.jsonInfo||[]},serialize:function(e){return{jsonInfo:JSON.stringify(e)}}},(function(t){s.d.trackObjects(t,e)})),groupBy:c})}},Zngv:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/73ee.gif"},Zoo8:function(e,t,n){"use strict";
//! moment.js locale configuration
//! locale : English (United Kingdom) [en-gb]
//! author : Chris Gedrim : https://github.com/chrisgedrim
var r={yearSuffixed:"YYYY",months:{format:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return h}));var i=1e3,a=864e5,o=6048e5,s=146097*a/4800,c={ss:44,s:45,m:45,h:22,d:26,M:11},u={y:"year",M:"month",w:"week",d:"day",h:"hour",m:"minute",s:"second",ms:"millisecond"},l={year:"y",month:"M",week:"w",day:"d",hour:"h",minute:"m",second:"s",millisecond:"ms"},d={year:12*s,month:s,week:o,day:a,hour:36e5,minute:6e4,second:i,millisecond:1},h={};h.en=r},Zzog:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("rANK"),o=n("nIVP"),s=n("P2hP"),c=n("Q6yW"),u=n("JaHL"),l=n("nAK0");function d(e,t){var n=t.boardId,r=t.card,d=t.counter,h=Boolean(n&&Object(a.a)(e,n)),f=Object(u.a)(r);l.d.finishCardCreate(i()({},d,{isDefault:h,cardId:r.id,seriesCount:r.content?r.content.length:0,type:f,metaType:Object(s.a)(r),hasUrl:Boolean(Object(c.a)(r))})),l.d.finishCardTech(i()({type:"create",cardId:r.id},Object(o.a)(e,n)))}},aC9m:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("7/cf"),o=n("DSRK"),s=n("4RqY"),c=n("DKyp"),u=n("nAK0"),l=Object(s.a)((function(e,t){var n,r,a;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=t.di,t.getState,r=t.dispatch,!e){s.next=9;break}return r(Object(c.a)({id:e,storeKey:"cards"})),r(Object(o.a)({id:e,storeKey:"cards"})),u.d.finishCardRemove({cardId:e}),s.next=7,i.a.awrap(n("CardPopupState"));case 7:(a=s.sent).hasCard()&&a.closeCard();case 9:case"end":return s.stop()}}))}));n.d(t,"a",(function(){return d}));var d=Object(s.a)((function(e,t){var n,r,o,s,c;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getState,r=t.dispatch,o=n(),s=Object(a.b)(o),c=s&&s.original_id,s&&c&&r(l(c));case 5:case"end":return e.stop()}}))}))},aCps:function(e,t,n){},aJLw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_liked"))},aKBe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dNc+"),i=n("lc+m"),a=n("K5nR"),o=Object(a.a)({normalizer:r.b,getEntity:i.a})},aM2i:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("5k1W"),i=n("3lXt"),a=n("UQOb"),o=n("4MLz"),s=n("c+Ap"),c=n("4RqY"),u=n("S7YN"),l=Object(c.a)((function(e,t){var n=e.boardId,c=t.getState,l=t.dispatch,d=c(),h=Object(i.a)(d,n);if(h){var f=Object(a.a)(h),p={sort:"-service.updated_at",page:1,page_size:s.o,previews_count:s.J,seed:Object(o.a)()};if(f?p.similar_to=h.id:p.text=h.title,d.boardSimilar){var b=d.boardSimilar._query;if(!Object(r.a)(p,b,Object.keys(p)))return Promise.resolve(d.boardSimilar)}l(Object(u.a)({storeKey:"boardSimilar",url:f?"/collections/api/boards":"/collections/api/boards/search",reset:{results:[]},query:p}))}}))},aNOA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=Object(a.a)((function(e,t){var n,r=t.key,a=t.value;return i()({},e,((n={})[r]=a,n))}))},aNhK:function(e,t,n){},aQo4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("collabs"))},aXbB:function(e,t,n){"use strict";var r;n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),function(e){e[e.Normal=0]="Normal",e[e.DailyCards=1]="DailyCards"}(r||(r={}));var i="card_of_the_day",a=function(e,t){return e[e[t="ALREADY_IN"]="participating_in_competition"]=t,e[e[t="PRIVATE"]="private_in_competition"]=t,e[e[t="SERIES"]="series_in_competition"]=t,e[e[t="EXTERNAL_REFERENCE"]="competition_external_reference"]=t,e}({}),o=function(e,t){return e[e[t="PENDING"]="pending"]=t,e[e[t="VERIFIED"]="verified"]=t,e}({})},ag8l:function(e,t,n){"use strict";function r(e){if(e&&e.recipe)return e.recipe.name}n.d(t,"a",(function(){return r}))},al43:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/22bd.gif"},aqFj:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("SiKM"),o=n("j3NW"),s=3;function c(e){var t=Object.keys(e).filter((function(e){return"_"!==e}));try{t.sort((function(e,t){return e.localeCompare(t)}))}catch(e){t.sort()}return t=t.map((function(t){return[t,e[t]]})),JSON.stringify(t)}var u=function(){function e(e){void 0===e&&(e={}),this._sid=0,this.setIterator(e.url,e.iterator),this._request=e.request,this._threshold=e.threshold||s,this._store=e.store||{},this._next={}}var t=e.prototype;return t.setIterator=function(e,t){this._url===e&&this._iterator===t||(this._url=e,this._iterator=t,this.clear(),this._next={},this._sid+=1)},t.get=function(e){return this._store[e]},t.push=function(e,t){this._store[e]=t},t.pop=function(e){var t=this._store[e];return t&&delete this._store[e],t},t.size=function(){return Object.keys(this._store).length},t.clear=function(){this._store={}},t.isFullyLoaded=function(){return!this._next},t._sync=function(e){var t=this,n=c(e),r=this.get(n);if(!r){var i={url:this._url,data:e};return r=this._request.sync("read",null,i).then((function(e){return t._next=e.next,e})).catch((function(e){throw console.warn("Preflight problems",e),t.pop(n),e})),this.push(n,r),r}return r},t.run=function(e){var t=this;if(!e||this.isFullyLoaded())return Promise.resolve();var n=this._sid,r=3*this._threshold,i=function(e){return r--,t._sync(e).then((function(){if(t._sid===n&&r>0&&t.size()<t._threshold&&!t.isFullyLoaded())return i(t._next)}))};return i(e)},e}();n.d(t,"a",(function(){return l}));var l=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.sync=function(t,n,r){var i=this;void 0===r&&(r={});var a=this._iterator,o=Boolean(!0===r.disablePreflight);if("read"===t&&a&&!o){var s=r.data?c(r.data):null;this.preparePreflight(a,r.url);var u=this._preflightStorage.pop(s);return u?u.then((function(e){return void 0===e&&(e={}),i.preflightNext(e.next),r.success&&r.success.call(i,e),e})):e.prototype.sync.call(this,t,n,r).then((function(e){return void 0===e&&(e={}),i.preflightNext(e.next),e}))}return e.prototype.sync.call(this,t,n,r)},n.preparePreflight=function(e,t){e=e||this._iterator,t=t||Object(a.result)(this,"url"),this._preflightStorage||(this._preflightStorage=new u({request:this.getRequestAdapter()})),this._preflightStorage.setIterator(t,e)},n.preflightNext=function(e){this._preflightStorage.run(e)},t}(o.a)},asM3:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=new WeakSet;function o(e){return function(t){if(null!=t&&a.has(t))return t;var n=e(t);return a.add(n),n}}function s(e){return o((function(t){return t?Object.keys(e).reduce((function(t,n){var r,a=e[n](t[n]);return t[n]!==a?i()({},t,((r={})[n]=a,r)):t}),t):t}))}n.d(t,"a",(function(){return d}));var c,u,l=s({labels:(c=[],function(e){return void 0===e?c:e})}),d=s({cards:(u=l,o((function(e){return e?Object.keys(e).reduce((function(e,t){var n,r=u(e[t]);return e[t]!==r?i()({},e,((n={})[t]=u(e[t]),n)):e}),e):{}})))})},auIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("GhlN");n("yX/E"),n("9v4R");var a=function(e){var t=e.className,n=e.children;return r.createElement("div",{className:Object(i.a)("cl-teaser-video-play",{},t)},n)}},az6Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("wibD");n("zfef"),n("plIe");var a=function(e){var t=e.rating;return t?r.createElement("span",{className:"cl-picture-rating",style:{backgroundColor:Object(i.a)(t)}},t):null}},b0oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("fjc+"),i=n("+wBA"),a=n("WB5C"),o=r.a.EI_CARDS_STEP_KEY,s="DesktopMainGuideCards";function c(e){return Object(a.a)(e)&&Object(i.a)(e,o)}},b63G:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({action:"Action",adventure:"Adventure",arcade:"Arcade",board:"Board games",card:"Card games",casino:"Casino",casual:"Casual",dice:"Dice games",educational:"Educational",family:"Family",music:"Music",puzzle:"Puzzle",racing:"Racing",role_playing:"Role playing",simulation:"Simulation",sports:"Sports",strategy:"Strategy",quest:"Quest",quiz:"Quiz",word:"Word games"})},bImc:function(e,t,n){"use strict";var r=n("8OQS"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("VbXa"),c=n.n(s),u=n("U+yc"),l=n.n(u),d=n("cDcd"),h=n("JxqJ"),f=n("nAK0"),p=n("LH8O"),b=n("EvZm"),m=n("D5L8"),v=n("MMsl"),g=n("OWM9"),O=n("plR6"),_=n("irYq"),y=n("BMkj"),C=n("JhOR");n("WW6n"),n("FU2f"),n("sbOD"),n("HKaO"),n("9b0u"),n("66pU"),n("Ex1o"),n("qHNR"),n("mb1k");var E,j,S,w=Object(h.a)()((function(e){var t=e.anchor,n=e.boardId,r=e.onClose,i=e.dispatch;return d.createElement(O.a,{config:{anchor:t,directions:[v.e.BOTTOM_LEFT,v.e.LEFT_TOP],visible:!0,autoclosable:!0,secondaryOffset:-24,tailOffset:24,onOutsideClick:r,mods:{shadow:"default"}},text:y.description(),tone:v.d.DEFAULT,align:v.c.LEFT,width:230,buttons:[d.createElement(C.a,{key:"actionButton",size:m.a.SMALL,theme:m.b.ACTION,tone:m.c.DEFAULT,view:m.d.CLASSIC,text:_.open(),onClick:function(){i(Object(g.a)({id:n}))}})],onClose:r,hasTail:!0})})),k=n("Rr0h"),I=n("o0o1"),T=n.n(I),R=n("lPPs"),L=n("rreP"),x=n("4RqY"),D=n("Q0CO"),N=Object(x.a)((function(e,t){var n,r,i,a,s,c;return T.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:n=e.boardId,r=e.counter,i=t.getState,a=t.dispatch,f.d.clickBoardUnlock(o()({},r,{boardId:n})),n&&(s=Object(R.a)(i(),n))&&(c={board_title:s},a(Object(L.a)({message:D.boardCannotUnlock.r(c)})));case 4:case"end":return u.stop()}}))}));n("Ba+M"),n.d(t,"a",(function(){return P}));var A=(E=Object(p.a)(),j=Object(p.a)(),S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={visibleConfirm:!1},t.buttonRef=d.createRef(),t}c()(t,e);var n=t.prototype;return n.onClose=function(){this.setState({visibleConfirm:!1})},n.onClick=function(){var e=this.props,t=e.boardId,n=e.allowUnlock,r=e.counter,i=e.dispatch;t&&(n?(f.d.clickBoardUnlock(o()({},r,{boardId:t})),this.setState({visibleConfirm:!this.state.visibleConfirm})):i(N({boardId:t,counter:r})))},n.render=function(){var e=this.props,t=e.boardId,n=e.mods,r=e.iconSize,a=void 0===r?"M":r,s=e.iconMods,c=e.props,u=e.allowUnlock,l=e.type,h=e.size,f=e.disabled,p=i()(e,["boardId","mods","iconSize","iconMods","props","allowUnlock","type","size","disabled"]),m=this.state.visibleConfirm;return s||("S"===a?s={"lock-10x12":!0}:"M"===a&&(s={"lock-24x24":!0}),l||(l="clear"),h||(h="S"),p=o()({iconOnly:!0},p)),h||(h="M"),d.createElement("div",{className:"cl-button-board-lock",ref:this.buttonRef},d.createElement(b.a,o()({ei:!0,disabled:!u||f,size:h,type:l,mods:n,icon:!0,iconMods:s,props:o()({},c),onClick:this.onClick},p)),t&&m&&d.createElement(w,{boardId:t,onClose:this.onClose,anchor:this.buttonRef.current}))},t}(d.Component),l()(S.prototype,"onClose",[E],Object.getOwnPropertyDescriptor(S.prototype,"onClose"),S.prototype),l()(S.prototype,"onClick",[j],Object.getOwnPropertyDescriptor(S.prototype,"onClick"),S.prototype),S),P=Object(h.b)((function(e,t){var n=t.boardId;return{allowUnlock:Object(k.a)(e,n)}}))(A)},bKlb:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("lPPs"),i=n("c+Ap"),a=n("rreP"),o=n("dohL"),s=n("T6Rw"),c=n("vSoZ"),u=Object(s.a)((function(e,t){var n=t.board,s=t.error;if(s)return s.status===i.v.CONFLICT?a.a.reducer(e,{message:c.boardCreateDuplicate()}):s.status===i.v.FORBIDDEN?a.a.reducer(e,{message:c.limitBoards()}):o.a.reducer(e,{error:s});if(n){var u={board_title:Object(r.a)(e,n.id)};return a.a.reducer(e,{message:c.boardCreated.r(u)})}return e}))},bNMp:function(e,t,n){},bP1J:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"default",(function(){return m}));var i={};n.r(i),n.d(i,"default",(function(){return Z}));var a={};n.r(a),n.d(a,"default",(function(){return de}));var o=n("pVnL"),s=n.n(o),c=n("VbXa"),u=n.n(c),l=n("EVdn"),d=n("jOGB"),h=n("mdRN"),f=n("Hnsh"),p=n("9TW5"),b=n("xfRZ"),m=function(e){var t=this&&this.isRestored,n=t?p.er:p.e,r=t?p.ar:p.a;return(t?p.fr:p.f)([n.d("side__service",{},[n.d("side__service-loading",{},[r(b.a,{size:"L"},this)])])])},v=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t}(d.c);Object(h.a)({template:r,className:"side__content__item side__content__item_sel"})(v);var g,O=n("c+Ap"),_=n("kdr8"),y=n("TsaX"),C=n("RQkB"),E=n("nAK0"),j=n("0q89"),S=Object(_.a)("onLogin",j.a.ADD)(g=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.onClick=function(){this.options.type===O.u.sidebarBoardsUnauth&&(C.a.sendCounter(E.a.clickHintAccept,{loc:this.options.loc,isPlugin:this.env.isEmbed}),this.onLogin())},n.onClickClose=function(){this.options.type!==O.u.sidebarBoards&&this.onSetStorage(),e.prototype.onClickClose.call(this)},n.onSetStorage=function(){this.options.storage&&this.getEnv().currentUser.getPreferences().setSidebarHintShown(this.options.type)},n.onLogin=function(){},t}(y.a))||g,w=n("riXN"),k=n("Ahwa"),I=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.initialize=function(){this.listenTo(this.model,this.options.eventName,this.onAuthAction)},n.onAuthAction=function(){var e=this,t=this.options.method;this.$once(this.ui.iframe,"load",(function(){e.model[t]&&e.model[t]()})),this.ui.form.submit()},t}(d.c);Object(h.a)({template:function(e){var t=this&&this.isRestored,n=t?p.er:p.e,r=t?p.sr:p.s;return(t?p.fr:p.f)([n("form","",{action:this.options.action,target:this.cid,method:"POST"},[r(k.a.call(e,{data:{view:this}}))])," ",n("iframe","",{frameborder:"0",name:this.cid},[])])},className:"hidden",attributes:{id:"iframe_auth"},ui:{form:"form",iframe:"iframe"}})(I);var T=n("eqMx"),R=n("U60d"),L=n("G7lA"),x=n("6ga4"),D=n("EyUQ"),N=n("hDul"),A=n("iGfq"),P=function(e){var t=this&&this.isRestored,n=t?p.er:p.e;return(t?p.fr:p.f)([n("span","ticker"+(e.mod?Object(p.j)([" ticker_",e.mod]):"")+(e.state?Object(p.j)([" ticker_state_",e.state]):""),{role:"alert","aria-live":"assertive","aria-atomic":"true"},[n("span","ticker__count",{},[n("span","ticker__text a11y-hidden",{},[Object(A.notify)({count:e.value})])," ",n("span","ticker__value",{title:e.value},[e.value])])],{events:[["click",e.onclick]],view:this})])},B=n("xMyQ"),M=n("3EtG"),U=n("6Xmf"),F=n("GFr9"),V=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.className=function(){var e,t=this.options.mode;return Object(x.a)("user",((e={})[t]=Boolean(t),e))},n.onRender=function(){var e=this;setTimeout((function(){return e._nextPoll()}),1e3)},n.onToggleRefresh=function(e){this.$el.toggleClass("user_open",e)},n.logout=function(){this.logoutLink.attr("href",w.a.logoutUrl({env:this.getEnv()}))},n.onLogoutClick=function(e){var t=this.options.logoutEventName;t&&(this.model.trigger(t),e.preventDefault(),e.stopPropagation())},n.toggle=function(e){Object(F.a)(e)||(e&&e.preventDefault(),this.triggerMethod("toggle"))},n._nextPoll=function(){var e=this;this.isIntact()&&this.model.getFreshInboxCount().then((function(){setTimeout((function(){return e._nextPoll()}),3e4)}))},n.serializeData=function(){var e=this.model.getInboxCount(),t=e>99;return t&&(e=99),s()({},this.options,{inboxFresh:e,inboxOverflow:t,passportLink:w.a.base(this.getEnv()),displayName:this.model.getDisplayName(),login:this.model.getLogin()})},t}(R.a);Object(h.a)({template:function(e){var t=this&&this.isRestored,r=t?p.er:p.e;return(t?p.fr:p.f)([r("span","user__avatar",{style:Object(p.j)(["background-image: url(",Object(N.a)(this.model,{hash:{isCompany:e.isCompany}}),");"]),title:e.displayName},[],{events:[["click",this.toggle.bind(this)]],view:this})," ",P.call(this,{mod:"user",state:e.inboxFresh?"":"empty",value:e.inboxFresh,onclick:this.toggle.bind(this)})," ",this.env.isEmbed||"side"==this.options.mode?[]:[r("a","user__name",{href:"https://passport.yandex.ru/passport?mode=passport"},[e.displayName],{events:[["click",this.toggle.bind(this)]],view:this})]," ",r.d("menu menu_size_L menu_fly menu_user",{},[r("ul","menu__group menu__group_ico",{},[r("li","menu__group__item",{},[r("a","menu__item menu__item_mail",{target:"_blank",href:Object(p.j)(["https://mail.yandex.",this.env.tld]),style:Object(p.j)(["background-image: url(",Object(B.a)(n("seBF")),")"])},e.inboxOverflow?[Object(M.userMail)({count:"99+"})]:[Object(M.userMail)({count:e.inboxFresh})])])," ",r("li","menu__group__item",{},[r("a","menu__item",{target:"_blank",href:Object(p.j)(["https://mail.yandex.",this.env.tld,"/compose"])},["Compose message"])])," ",r("li","menu__group__item",{},[r("a","menu__item menu__item_disk",{target:"_blank",href:Object(p.j)(["https://disk.yandex.",this.env.tld]),style:Object(p.j)(["background-image: url(",Object(B.a)(n("xZRq")),")"])},["My Yandex.Disk"])])])," ",r("ul","menu__group menu__group_ico",{},[r("li","menu__group__item",{},[r("a","menu__item",{target:"_blank",href:e.passportLink},["Yandex.Passport"])])," ",r("li","menu__group__item",{},[r("a","menu__item menu__item-logout",{href:"#","data-c":Object(U.a)("clickUserLogout",{hash:{}})},["Sign out"],{events:[["mousedown",this.logout.bind(this)],["click",this.onLogoutClick.bind(this)]],ui:"logoutLink",view:this})])])])])},ui:{logout:".menu__item-logout"},behaviors:{Toggle:{behaviorClass:L.a,preventDefault:!1},ClickOut:{behaviorClass:D.a,eventName:"toggleHide"}},modelEvents:{"change:inbox":"render"}})(V);var H,W=n("r7Cx"),z=function(e){var t=this&&this.isRestored,n=t?p.ar:p.a;return(t?p.fr:p.f)([n(W.a,Object(p.assign)(e,{class:Object(x.b)("button_head",{hash:{login:e.login,side:e.side}})}),this)])},K=Object(h.a)({template:function(e){var t=this&&this.isRestored,n=t?p.ar:p.a,r=t?p.er:p.e;return(t?p.fr:p.f)([e.logoutEventName?[n(I,{model:this.model,method:"checkAuth",action:e.embedLogoutUrl,eventName:e.logoutEventName,content:function(e){return[(this&&this.isRestored?p.er:p.e)("input","",{type:"hidden",name:"action",value:"logout"},[])]}},this)]:[]," ",Object(T.a)({data:{view:this}})?[n(V,{regionName:"user",model:this.model,mode:this.options.mode,logoutEventName:e.logoutEventName},this)]:[r("span","head__login",{},[z.call(this,{side:!0,login:!0,label:"Sign in",method:this.onAuth.bind(this),type:"action",size:"M"})])]])},modelEvents:{"change:login":"safeRender"}})(H=Object(_.a)("onAuth")(H=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.onRender=function(){var e=this;!this.user&&this.model.isAuthorized()&&setTimeout((function(){return e.safeRender()}))},n.onReady=function(){},n.onAuth=function(){},n.serializeData=function(){var e=this.getEnv(),t=w.a.generateRetpathUrl({env:e,route:"retpath"});return{embedLogoutUrl:w.a.embedLogoutUrl({env:e,retpath:t}),logoutEventName:e.isEmbed?"iframe:auth:logout":null}},t}(d.c))||H)||H,Y=(n("x2aP"),n("AnPS")),q=function(e){var t=this&&this.isRestored,n=t?p.er:p.e,r="http://www.w3.org/2000/svg";return(t?p.fr:p.f)([n.d(Object(p.j)(["cl-logo cl-logo_",this.env.language]),{},[n("a","cl-logo__link",{href:Object(p.j)(["https://yandex.",this.env.tld]),target:"_top"},[])," ",n("a","cl-logo__link-service",{href:Object(Y.a)("home",{hash:{},data:{view:this}}),target:"_top","data-c":Object(U.a)("clickLinkHome",{hash:{}})},["Collections"])," ",n("svg","",{xmlns:"http://www.w3.org/2000/svg",width:"172.86",height:"38.04"},[n("path","",{fill:"red",d:"M8.12 30.11v-8.02L14.01 5.1h-2.5l-4.6 13.57L2.92 7.45H.19L5.61 22v8.11z"},[],{ns:r,view:this}),n("path","",{d:"M18.96 26.98c-.45.69-1.3 1.26-2.16 1.26-1.27 0-1.87-1.2-1.87-3.04 0-2.06.67-3.42 3.74-3.42h.29zm2.44-.48v-7.51c0-3.87-1.56-5.07-4.38-5.07-1.61 0-3.07.66-3.8 1.26l.47 2.19c.83-.73 1.91-1.39 3.17-1.39 1.4 0 2.1.88 2.1 2.98v.95h-.35c-4.47 0-6.22 2.15-6.22 5.58 0 3.14 1.56 4.85 3.84 4.85 1.4 0 2.28-.61 2.98-1.49h.16c.03.41.13.92.22 1.26h2.09c-.12-.76-.28-2.09-.28-3.61zm5.55-8.78c.57-.79 1.45-1.58 2.5-1.58.95 0 1.49.41 1.49 1.61v12.36h2.5V17.53c0-2.44-1.11-3.61-3.2-3.61-1.49 0-2.69.98-3.14 1.58h-.15v-1.39h-2.48v16h2.48zm13.78 12.62c1.3 0 2.19-.61 2.89-1.49h.16l.19 1.26h1.84V7.45h-2.48v7.07c-.47-.35-1.26-.6-2.02-.6-3.21 0-5.43 2.88-5.43 8.81 0 4.94 1.72 7.61 4.85 7.61zm2.6-3.33c-.41.63-1.07 1.23-2.31 1.23-1.81 0-2.5-2.28-2.5-6.02 0-3.26.95-6.27 2.94-6.27.83 0 1.37.25 1.87.76zm14.11 2.03l-.57-1.9c-.63.44-1.65 1.07-3.04 1.07-1.97 0-2.98-1.9-2.98-5.51h6.65v-1.37c0-5.42-1.74-7.41-4.4-7.41-3.39 0-4.82 3.74-4.82 8.87 0 4.92 2.03 7.55 5.32 7.55 1.59 0 2.83-.51 3.84-1.3zM53.1 15.95c1.42 0 1.87 1.99 1.87 4.72h-4.09c.16-2.85.7-4.72 2.22-4.72zm12.74-1.81l-2.19 5.8-2.06-5.8h-2.56l3.01 7.7-3.33 8.27h2.44l2.41-6.59 2.47 6.59h2.57l-3.33-8.49 2.98-7.48zm15.19-7.01c-3.94 0-6.28 4.54-6.28 11.67S77 30.43 80.99 30.43c2 0 3.4-1.04 3.84-1.55l-.48-1.21c-.66.67-1.68 1.46-3.32 1.46-3.11 0-4.7-4.09-4.7-10.43 0-6.31 1.72-10.27 4.7-10.27 1.33 0 2.37.76 3.07 1.78l.41-1.56c-.66-.76-1.8-1.52-3.48-1.52zm9.82 23.3c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm7.64-21.78v22.66h1.49V7.45zm5.11 0v22.66h1.49V7.45zm5.7 14.93h7.23c.51-5.67-1.27-8.56-4.03-8.56-2.69 0-4.66 3.08-4.66 8.31s1.56 8.3 4.95 8.3c2.53 0 3.74-1.8 3.74-1.8l-.48-1.21s-1.11 1.71-3.23 1.71c-2.31 0-3.45-2.38-3.52-6.75zm3.2-7.32c1.62 0 2.89 1.9 2.63 6.15h-5.8c.13-4 1.49-6.15 3.17-6.15zm11.32 14.07c-2.47 0-3.58-2.6-3.58-6.97 0-4.5 1.14-7.07 3.58-7.07 1.36 0 2.38.82 3.08 1.81l.41-1.59c-.7-.85-1.84-1.49-3.49-1.49-3.26 0-5.07 3.08-5.07 8.34 0 5.2 1.84 8.27 5.04 8.27 2.5 0 3.68-1.77 3.68-1.77l-.48-1.24s-1.11 1.71-3.17 1.71zm10.94.79l-.32-1.1c-.19.09-.51.22-.98.22-.95 0-1.46-.7-1.46-2.29V15.31h2.73v-1.17H132v-3.17h-1.33l-.16 3.17h-1.62v1.17h1.62v11.6c0 1.97.89 3.36 2.79 3.36.66 0 1.11-.16 1.46-.35zM137.99 11c.54 0 1.01-.44 1.01-1.01 0-.54-.47-1.05-1.01-1.05-.57 0-1.01.51-1.01 1.05 0 .57.44 1.01 1.01 1.01zm-.76 3.14v15.97h1.49V14.14zm9.1 16.29c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm12.68-14.14c1.46 0 2.15.89 2.15 2.79v12.23h1.49V17.69c0-2.54-1.23-3.87-3.36-3.87-2.15 0-3.42 1.78-3.86 2.95h-.07l-.06-2.63h-1.36v15.97h1.49V18.45c.79-2.03 1.99-3.36 3.58-3.36zm9.19 15.34c2.09 0 3.9-1.46 3.9-3.99 0-4.47-5.55-5.8-5.55-9.26 0-1.39 1.05-2.15 2.22-2.15 1.11 0 1.9.41 2.6 1.17l.41-1.36c-.54-.45-1.52-1.02-3.07-1.02-1.75 0-3.49 1.14-3.49 3.55 0 4.06 5.48 5.61 5.48 9.26 0 1.36-.95 2.6-2.53 2.6-1.52 0-2.28-.54-3.04-1.21l-.32 1.3c.6.51 1.62 1.11 3.39 1.11z"},[],{ns:r,view:this})],{ns:r,view:this})])])},G=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t}(d.c);Object(h.a)({template:function(e){var t=this&&this.isRestored,n=t?p.er:p.e,r=t?p.ar:p.a;return(t?p.fr:p.f)(this.env.hideHeader?[]:[n.d("head__top",{},[n.d("head__main",{},[q.call(this,{})])," ",r(K,{model:this.model,className:"head__actions",mode:this.options.mode},this)])])},className:"head head_login head_side",modelEvents:{"change:login":"render"}})(G);var X=n("rktC"),J=n("PchP"),Z=function(e){var t=this,r=t&&t.isRestored,i=r?p.er:p.e,a=r?p.ar:p.a,o=r?p.yr:p.y;return(r?p.fr:p.f)(e.showSidebar?[t.env.isEmbed?[]:[i.d("side__overlay",{},[],{events:[["click",t.onClose.bind(t)]],view:t})]," ",t.options.isShareLayout?[]:[i.d("side__nav",{},[i("span","side__close",{},[],{events:[["click",t.onClose.bind(t)]],view:t})," ",t.env.isEmbed?[t.env.isEmbed?[]:[a(K,{model:t.env.currentUser,className:"side__user",mode:"side"},t)]," ",i("ul","side__tabs",{},[[{mod:"add",type:"add_suggest",types:"add_suggest,add_results,add_series_edit,add_boards,add_favorites,loading",counter:"clickCardCreate",title:"Add card",hidden:t.env.isEmbed},{mod:"list",type:"boards",types:"boards,card_move,card_share,board_favorites",counter:"clickMyBoards",title:"My collections",hidden:t.env.isEmbed}].map((function(e){var n=t&&t.isRestored?p.er:p.e;return e.hidden?[]:[n("li",Object(p.j)(["side__tabs__item side__tabs__item_",e.mod]),{"data-type":e.type,"data-types":e.types,"data-c":Object(U.a)(e.counter,{hash:{loc:"sidebar",type:"menuLink"}})},[n("span","side__tab",{title:e.title},[n("span",Object(p.j)(["side__tab__icon side__tab__icon_",e.mod]),{},[])])])]}))])," ",t.options.showArrow?[i("span","side__elevator",{title:"Top"},[],{ui:"arrow",events:[["click",t.onArrow.bind(t)]],view:t})]:[]]:[]])]," ",i.d("side__content",{},[i.d("side__content__wrap",{},[t.options.isShareLayout?[a(G,{model:t.env.currentUser,mode:"head"},t)]:[],X.a.call(e,"content",{hash:{},data:{view:t}}),X.a.call(e,"hint",{hash:{},data:{view:t}}),t.env.isEmbed||t.options.isShareLayout?[]:[o(Object(p.all)([Object(p.retryPromise)((function(){return n.e(13).then(n.bind(null,"3QE8"))}),1/0,3e3),t.getEnv().di({cardState:"CardPopupState"})],(function(e){return a(e[0].DesktopSidebarCardDrop,Object(p.assign)({model:t.model},e[1]),t)})),t)],t.env.isEmbed?[a(J.a,{embed:!0},t)]:[]],{ui:"wrapper",view:t}),X.a.call(e,"button",{hash:{},data:{view:t}})])]:[])},Q=n("UJ4k"),$=n("plYr"),ee=n("ICaW"),te=n("ZDp4"),ne=n.n(te),re=n("cDcd"),ie=n("0lHE"),ae=n.p+"f/9a85.svg",oe=(n("tSK+"),n("rLBI")),se=n("EvZm"),ce=n("iipH"),ue=function(e){ne()(e);var t="yb"===Object(ce.a)("platform"),n=t?oe.descriptionBro.r():oe.description.r(),r=t?oe.updateBrowser():oe.update(),i=t?"https://browser.yandex.ru/":Object(ie.a)();return re.createElement("div",{className:"plugin-update"},re.createElement("div",{className:"plugin-update__icon",style:{backgroundImage:"url("+ae+")"}}),re.createElement("p",{className:"plugin-update__title"},oe.title.r()),re.createElement("p",{className:"plugin-update__desc"},n),re.createElement(se.a,{type:"action",size:"L",ei:!0,label:r,props:{href:i,target:"_blank"}}))},le=n("TPTU"),de=function(e){return(this&&this.isRestored?p.fr:p.f)([Object(le.react)(Object(le.renderView)(ue,{},this),this)])},he=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t}(d.c);Object(h.a)({template:a})(he);var fe=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var r=t.prototype;return r.initialize=function(){var e=ee.d.COLLECTIONS_DESKTOP_ADD_INTERNAL;this.env.hasFeature(e)||this.preloadData(),this.currentType="",this.isConfigLoaded=!1},r.className=function(){var e="side";return this._isNeedState()&&(e+=" side_state_hidden"),e},r.onRender=function(){this.onVisibilityModeChanged(),this.onChangeLogin()},r.isInstanceValid=function(){var e=this.env,t=e.eventName,n=e.prevEventName;return!this.isDestroyed&&"pluginSuccess"!==t&&"pluginSuccess"!==n},r.onShow=function(){this.listenTo(this.model,{"change:type":this.onTypeChanged,"change:visibilityMode":this.onVisibilityModeChanged,"save:scrollPosition":this.onSaveScrollPosition}),this.listenTo(this.env.currentUser,"change:login",this.onChangeLogin)},r.preloadData=function(){var e=this;this.env.currentUser.isAuthorized()&&setTimeout((function(){return e.dataLoader()}),2e3)},r.dataLoader=function(){var e=this.model.userBoards,t=this.model.getCardSourceType();return e.fetchCurrentUserBoards(t)},r.onTypeChanged=function(){var e=this,t=this.getType(),n=this.model.isClosed();if(n||(this.openTime=Date.now()),this.env.isEmbed||this._toggle(!n),n)return this._hide(),this.currentType="",void this.clearRegions();t!==O.i.LOADING?this.loadTemplate(t).then((function(n){var r=n.template,i=n.isLoading;if(r){var a=r.Button,o=r.Content;if(o){var s={model:e.model,isShareLayout:e.options.isShareLayout||!1,env:e.env};e.options.animationState&&(s.animationState=e.options.animationState);var c=new o(s);e.wrapper&&e.wrapper[0]&&(e.wrapper[0].scrollTop=0);var u=function(){e.isDestroyed||e.getType()!==t||(a?e.showInRegion(e.button,a,s):e.button&&e.button.empty(),e.currentType=t,e.content.show(c),e.model.getHintOptions(t).then((function(n){e.isDestroyed||e.getType()!==t||(n?e.showInRegion(e.hint,S,n):e.hint.empty())})),e._show(),e.restoreScrollPosition())},l=c.promise?c.promise():null;l?(i||(e.showLoading(),e._show()),l.then(u)):u()}else e.onClose()}else console.warn('Template for type "'+t+"\" doesn't exist.")})):this.showLoading()},r.restoreScrollPosition=function(){var e=this.model.getTypeOptions();if(e&&e.restoreScroll){var t=this.model.getGridPosition();t&&(this.model.resetGridPosition(),this.wrapper[0].scrollTop=t)}},r.onChangeLogin=function(){var e=this.env.currentUser.isAuthorized();this.$el.toggleClass(e?"side_lock side_unauth-add side_unauth-list":this.getClassName(),!e)},r.getClassName=function(){return this.env.extGuest?this.env.currentUser.getCardsCount()>0?"side_unauth-list":"side_unauth-add":"side_lock"},r.onVisibilityModeChanged=function(){var e=this,t=this.model.getVisibilityMode()===O.h.LAYOUT;this.$el.addClass("side_noanim"),this.$el.toggleClass("side_layout",t),setTimeout((function(){e.$el.removeClass("side_noanim")}))},r.onSaveScrollPosition=function(){if(this.isIntact()){var e=this.wrapper.scrollTop();this.model.setGridPosition(e)}},r.getType=function(){return this.model.getActualType()},r.loadTemplate=function(e){var t=this,r=this.isConfigLoaded;return r||this.showLoading(),this.env.isEmbed?Promise.resolve({template:{Content:he},isLoading:!1}):Object($.a)((function(){return n.e(32).then(n.bind(null,"35SU"))})).then((function(n){var i=n.SIDEBAR_CONTENT_CONFIG;return t.isConfigLoaded=!0,{template:i[e],isLoading:!r}}))},r.showLoading=function(){this.isIntact()&&(this.button&&this.button.empty(),this.hint&&this.hint.empty(),this.content&&this.showInRegion(this.content,v))},r.clearRegions=function(){this.button&&this.button.empty(),this.content&&this.content.empty(),this.hint&&this.hint.empty()},r.onClose=function(){this.currentType="",this.model.closePanel()},r.serializeData=function(){return{showSidebar:!0}},r._hide=function(){this._toggle(!1)},r._show=function(){this.env.dispatch(Object(Q.a)({hidePopup:!0})),this._toggle(!0)},r._toggle=function(e){var t=this.model.getVisibilityMode()===O.h.LAYOUT;this.$el.removeClass("side_content").removeClass("side_content-list").removeClass("side_state_hidden").removeClass("side_state_visible"),e?(this._isNeedState()&&this.$el.addClass("side_state_visible"),this.$el.addClass(t?"side_content-list":"side_content")):this._isNeedState()&&this.$el.addClass("side_state_hidden")},r._isNeedState=function(){return!this.env.isEmbed},t}(d.c);Object(h.a)({template:i,behaviors:{PreventParentScroll:{behaviorClass:f.a,selector:".side__content__wrap",excludeTarget:"textarea",dynamic:!0}}})(fe),n.d(t,"a",(function(){return pe}));var pe=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.className=function(){var t=e.prototype.className.call(this);return this.env.isEmbed||(t+=" side_nobar"),t},n.highlightLink=function(){var e=this.getType(),t=this.model.isTypeBoardCreate(),n=this.model.isType(O.i.ADD_CARD_BOARD_SUCCESS),r=this.model.isType(O.i.LOADING);t||n||r||this.ui.links.removeClass("side__tabs__item_cur").filter((function(){var t=l(this),n=t.data("type"),r=String(t.data("types")).split(",");return n===e||r.includes(e)})).addClass("side__tabs__item_cur")},n.onTypeChanged=function(){this.highlightLink(),e.prototype.onTypeChanged.call(this)},n.onLink=function(e){var t=l(e.currentTarget).data("type");this.model.getVisibilityMode()!==O.h.LAYOUT?this.model.isType(t)?this.onClose():this.onDifferentTypeClicked(t):e.stopPropagation()},n.onDifferentTypeClicked=function(e){this.model.clean(),e===O.i.BOARDS&&this.model.shouldShowBoardCreate()?this.env.currentUser.isAuthorized()?this.model.showBoardCreate():this.model.showBoardFavorites():this.model.setType(e)},t}(fe);Object(h.a)({ui:s()({},fe.prototype.ui,{links:".side__tabs__item"}),events:s()({},fe.prototype.events,{"click @ui.links":"onLink","mouseenter @ui.content":"onMouseEnter","mouseleave @ui.content":"onMouseLeave"})})(pe)},bReC:function(e,t,n){},bblA:function(e,t,n){"use strict";var r,i,a,o=n("cDcd"),s=n("/MKj"),c=n("JxqJ"),u=n("cW8/"),l=n("eaCv"),d=n("+r4z"),h=n("n9iN"),f=n("pVnL"),p=n.n(f),b=n("gLBg"),m=n("oCi8"),v=n("nyNT"),g=n("25uM"),O=n("NasR"),_=n("nKoU"),y=n("xTp0"),C=n("GsO3"),E=n("D8p6"),j=n("b0oR"),S=n("LYQr"),w=n("Iq3C"),k=n("Gl3M"),I=n("pAK4"),T=n("Q7H8"),R=n("R5wC"),L=n("xEA7"),x=n("+wBA"),D=n("myIH"),N={BoardComments:m.b,ShareCollection:L.c,SubscribeAuthor:"SubscribeAuthor",Unlock:D.b,CoauthorWelcome:v.b},A=((r={})[(N=p()({},N,{DesktopEditProfile:C.b,DesktopAllowChat:g.b,DesktopMainGuideAdd:E.b,DesktopMainGuideCards:j.b,DesktopMainGuideOnboard:S.b,DesktopMainGuideProfile:w.b,DesktopUnauth:R.b,DesktopCoauthorAvatar:_.b,DesktopMyBoardsCoauthors:k.b,DesktopSimilarViewer:T.b,DesktopRecentCoauthors:I.b,DesktopChatSettingInfo:O.b,DesktopCoauthorSettings:y.b})).BoardComments]={isVisibleFn:m.c},r[N.ShareCollection]={isVisibleFn:L.f,isPreventConditionFn:L.e},r[N.SubscribeAuthor]={isVisibleFn:function(e,t){if(!t||!t.options)return!1;var n=t.options.cardId;return Object(x.a)(e,"show_subscribe_author_tooltip",n)}},r[N.Unlock]={isVisibleFn:D.c},r[N.CoauthorWelcome]={isVisibleFn:v.d,isPreventConditionFn:v.c},r);A=p()({},A,((a={})[N.DesktopEditProfile]={isVisibleFn:C.c},a[N.DesktopAllowChat]={isVisibleFn:g.d,isPreventConditionFn:g.c},a[N.DesktopMainGuideAdd]={isVisibleFn:E.c},a[N.DesktopMainGuideCards]={isVisibleFn:j.c},a[N.DesktopMainGuideOnboard]={isVisibleFn:S.c},a[N.DesktopMainGuideProfile]={isVisibleFn:w.c},a[N.DesktopUnauth]={isVisibleFn:R.c},a[N.DesktopCoauthorAvatar]={isVisibleFn:_.d,isPreventConditionFn:_.c},a[N.DesktopMyBoardsCoauthors]={isVisibleFn:k.d,isPreventConditionFn:k.c},a[N.DesktopSimilarViewer]={isVisibleFn:T.c},a[N.DesktopRecentCoauthors]={isVisibleFn:I.c},a[N.DesktopChatSettingInfo]={isVisibleFn:O.d,isPreventConditionFn:O.c},a[N.DesktopCoauthorSettings]={isVisibleFn:y.d,isPreventConditionFn:y.c},a));var P=function(e,t){return{key:t,isVisibleFn:(e[t]||{}).isVisibleFn,isPreventConditionFn:(e[t]||{}).isPreventConditionFn}}.bind(null,A),B=((i={})[b.a.FEED]=[P(N.DesktopAllowChat)],i[b.a.MAIN]=[P(N.DesktopMainGuideAdd),P(N.DesktopMainGuideCards),P(N.DesktopMainGuideOnboard),P(N.DesktopMainGuideProfile),P(N.DesktopUnauth),P(N.DesktopAllowChat),P(N.DesktopRecentCoauthors),P(N.SubscribeAuthor),P(N.DesktopMyBoardsCoauthors),P(N.Unlock)],i[b.a.PROFILE]=[P(N.DesktopEditProfile),P(N.DesktopChatSettingInfo),P(N.DesktopAllowChat),P(N.ShareCollection),P(N.Unlock)],i[b.a.CARD]=[P(N.DesktopSimilarViewer)],i[b.a.BOARD]=[P(N.CoauthorWelcome),P(N.DesktopCoauthorSettings),P(N.BoardComments),P(N.DesktopAllowChat),P(N.DesktopCoauthorAvatar),P(N.ShareCollection),P(N.Unlock)],i[b.a.FAVORITES_TYPE]=[P(N.ShareCollection),P(N.Unlock)],i[b.a.CONTEST]=[P(N.ShareCollection)],i[b.a.BOARD_SIMILAR]=[P(N.ShareCollection)],i[b.a.SEARCH_BOARDS]=[],i),M=Object(u.a)({visibleTooltipKey:function(e,t){var n;n=B;var r=Object(l.a)(e)||Object(d.a)(e)||"",i=Object(h.a)(e),a=(n[r]||[]).find((function(n){return!!n.isVisibleFn&&(n.key===i&&n.isPreventConditionFn?n.isVisibleFn(e,t)||n.isPreventConditionFn(e,t):n.isVisibleFn(e,t))}));return a?a.key:""}}),U=n("XOpk");n.d(t,"a",(function(){return F}));var F=Object(c.a)(M)(o.memo((function(e){var t=e.tooltipKey,n=e.visibleTooltipKey,r=e.renderContent,i=Object(s.useDispatch)();return o.useEffect((function(){n===t&&i(Object(U.a)({value:t||""}))}),[n,t]),n!==t?null:o.createElement(o.Fragment,null,r())}),(function(e,t){return e.visibleTooltipKey===t.visibleTooltipKey})))},bceo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("3lXt"),i=n("U3UL"),a=n("i1uP"),o=n("y6Xm"),s=Object(o.a)("my_permission",0),c=Object(a.a)(r.a,(function(e){var t=s(e);return Object(i.a)(t)}))},"bdt/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("VbXa"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("6ga4"),c=n("iWNo"),u=(n("bgNI"),function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.size,r=e.invert,i=e.cardId,o=e.showCtrl,u=e.onVisibilityChange;return o?a.createElement("div",{className:Object(s.a)("cl-card-teaser-action",{},t)},a.createElement(c.a,{className:"cl-card-teaser-action__kebab",size:n,invert:r,cardId:i,onVisibilityChange:u})):null},t}(a.Component)),l=Object(o.a)()(u)},bgNI:function(e,t,n){},bgsh:function(e,t,n){"use strict";var r=n("Wuht");t.a=r.a.applyDecls()},bphC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3lXt"),i=n("MTjZ");function a(e,t){if(!t)return!1;var n=Object(i.a)(e),a="string"==typeof t?Object(r.a)(e,t):t;return Boolean(n&&a&&a.owner&&n.id===a.owner.id)}},bpve:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("cDcd"),c=n("JxqJ"),u=n("l61k"),l=n("24wG"),d=Object(c.b)((function(e,t){var n=t.id,r=t.storeKey,i=e.entities[r];return{entity:i&&i[n]}}))((function(e){var t=e.iconModsChecked,n=e.subValue,r=e.id,a=e.storeKey,c=e.onSubscribe,d=e.entity,h=e.dispatch,f=e.counter,p=o()(e,["iconModsChecked","subValue","id","storeKey","onSubscribe","entity","dispatch","counter"]);return d?s.createElement(l.a,i()({ei:!0,iconModsChecked:t,subValue:n,isSubscribed:d.is_subscribed,entityId:r,onClick:function(){h(Object(u.a)({id:r,storeKey:a,isSubscribed:!(d&&d.is_subscribed),counter:f})),c&&c()}},p)):null}))},bzdH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("T6Rw"),i=n("3WeZ"),a=Object(r.a)((function(e,t){return Object(i.a)(e,{favoriteBoard:t})}))},"c+Ap":function(e,t,n){"use strict";var r;n.d(t,"q",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"N",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"x",(function(){return m})),n.d(t,"X",(function(){return v})),n.d(t,"Y",(function(){return g})),n.d(t,"K",(function(){return O})),n.d(t,"n",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return C})),n.d(t,"E",(function(){return E})),n.d(t,"G",(function(){return j})),n.d(t,"D",(function(){return S})),n.d(t,"F",(function(){return w})),n.d(t,"J",(function(){return k})),n.d(t,"U",(function(){return I})),n.d(t,"C",(function(){return T})),n.d(t,"Z",(function(){return R})),n.d(t,"ab",(function(){return L})),n.d(t,"Q",(function(){return x})),n.d(t,"W",(function(){return D})),n.d(t,"H",(function(){return N})),n.d(t,"f",(function(){return A})),n.d(t,"P",(function(){return P})),n.d(t,"O",(function(){return B})),n.d(t,"s",(function(){return M})),n.d(t,"e",(function(){return U})),n.d(t,"u",(function(){return F})),n.d(t,"t",(function(){return V})),n.d(t,"d",(function(){return H})),n.d(t,"S",(function(){return W})),n.d(t,"T",(function(){return z})),n.d(t,"r",(function(){return K})),n.d(t,"y",(function(){return Y})),n.d(t,"a",(function(){return q})),n.d(t,"v",(function(){return G})),n.d(t,"z",(function(){return X})),n.d(t,"B",(function(){return J})),n.d(t,"A",(function(){return Z})),n.d(t,"g",(function(){return Q})),n.d(t,"I",(function(){return $})),n.d(t,"L",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"M",(function(){return ne})),n.d(t,"V",(function(){return ie})),n.d(t,"w",(function(){return ae}));var i,a,o=/yandex\.(ru|by|ua|com\.ua|com\.tr|kz|uz|az|com\.am|com\.ge|co\.il|kg|lt|lv|md|tj|tm|fr|ee|com)/,s=["by"],c="@__offline__@",u=24,l=24,d=12,h=24,f=200,p={AUTH:"auth",BOARDS:"boards",LOADING:"loading",BOARD_CREATE:"board_create",BOARD_CREATE_ADD:"board_create_add",BOARD_CREATE_SHARE:"board_create_share",BOARD_EDIT:"board_edit",BOARD_FAVORITES:"board_favorites",CARD_MOVE:"card_move",CARD_SHARE:"card_share",CARD_EDIT:"card_edit",ADD_SUGGEST:"add_suggest",ADD_RESULTS:"add_results",ADD_SERIES_EDIT:"add_series_edit",ADD_BOARDS:"add_boards",ADD_FAVORITES:"add_favorites",ADD_CARD_BOARD_SUCCESS:"add_card_board_success",MOVE_CARD_BOARD_SUCCESS:"move_card_board_success",GUIDE:"guide",SHARE_ERROR:"share_error",ERROR:"error",NONE:""},b={NORMAL:"normal",LAYOUT:"layout"},m={ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,E:69},v="active",g="fulfilled",O=1007,_={WIDTH:200,HEIGHT:200},y={ORIG:"orig",OPTIMIZE:"optimize"},C={CARD:"card",BOARD:"board",COMMENT:"comment"},E="pdb",j="pdb-teasers",S={smart38:"smart130"},w={PREVIEW:"preview",BIG_PREVIEW:"preview846",ORIGINAL:"orig"},k=6,I=8,T={byte:15728640,label:"15"},R="34479635",L="56213845",x="need-session-reset",D="toloka",N={utm_source:{toloka:{key:"role",value:"0e63f1235538f10521233921bcff0e0d"},ang:{key:"role",value:"c5fcf718d47c8eb2f05dba8fbe618814"}}},A="size1x1",P={role:"14d41514d2da7545e1eca660ed93654d"},B={GENERAL:"general"},M="feed",U={NORMAL:"Normal",SEARCH:"Search",VIRTUAL:"Virtual"},F={cardLike:"card_like",cardShare:"card_share",userSubscribe:"user_subscribe",channelSubscribe:"channel_subscribe",boardSubscribe:"board_subscribe",userSubscriptions:"user_subscriptions",sidebarResults:"hint_results",sidebarBoards:"hint_boards",sidebarBoardsUnauth:"hint_boards_unauth"},V={followingsChannels:"followingsChannels"},H="card:list:seen",W="card",z="cl-layout",K="izbrannoe",Y=((i={})[i[a="LIKES"]="likes"]=a,i[i[a="SUBS"]="subs"]=a,i[i[a="CARDS"]="cards"]=a,{PRELOGIN:"prelogin",DIRECT:"direct"}),q=function(e,t){return e[e[t="EMBED"]="embed"]=t,e[e[t="WEB"]="web"]=t,e}({}),G=function(e,t){return e[e[t="ZERO"]=0]=t,e[e[t="OK"]=200]=t,e[e[t="CREATED"]=201]=t,e[e[t="ACCEPTED"]=202]=t,e[e[t="NO_CONTENT"]=204]=t,e[e[t="MULTI_STATUS"]=207]=t,e[e[t="MOVED_PERMANENTLY"]=301]=t,e[e[t="MOVED_TEMPORARILY"]=302]=t,e[e[t="BAD_REQUEST"]=400]=t,e[e[t="UNAUTHORIZED"]=401]=t,e[e[t="FORBIDDEN"]=403]=t,e[e[t="NOT_FOUND"]=404]=t,e[e[t="CONFLICT"]=409]=t,e[e[t="INTERNAL_SERVER_ERROR"]=500]=t,e[e[t="GATEWAY_TIMEOUT"]=502]=t,e[e[t="MAX_HTTP_CODE"]=600]=t,e}({}),X=function(e,t){return e[e[t="INFO"]="info"]=t,e[e[t="WARN"]="warn"]=t,e[e[t="ERROR"]="error"]=t,e}({}),J={clientError:"client-error",clientNetwork:"client-network",serverError:"server-error",serverNetwork:"server-network",serverAccess:"server-access",serverTimings:"server-timings"},Z="__logged",Q=200,$=((r={}).game="game",r.geo="geo",25),ee=10,te=3,ne=Math.round(Date.now()/1e3+86400),re=window,ie=Boolean(!1)||Boolean(re.Ya&&re.Ya.Collections&&re.Ya.Collections.exp&&re.Ya.Collections.exp.flags&&re.Ya.Collections.exp.flags.collections_priemka),ae=Boolean(!1)||Boolean(re.Ya&&re.Ya.Collections&&re.Ya.Collections.exp&&re.Ya.Collections.exp.flags&&re.Ya.Collections.exp.flags.e2e_mode)},c7rW:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/b100.gif"},c9IW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=2.2,i={};function a(e){if(!e)return!0;if(e in i)return i[e];var t=parseInt(e.slice(1,3),16)/255,n=parseInt(e.slice(3,5),16)/255,a=parseInt(e.slice(5,7),16)/255,o=.2126*Math.pow(t,r)+.7152*Math.pow(n,r)+.0722*Math.pow(a,r);return i[e]=o>.4}},cBfX:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("y1pN"),i=n("+3en"),a=n("bceo"),o=n("bphC"),s=n("x9gI"),c=n("XPFG"),u=n("1BCU"),l=n("nUi2"),d=n("ICaW"),h=n("gLBg");function f(e){if(Object(s.a)(e,d.d.COLLECTIONS_DESKTOP_DISABLE_INSTANT_SAVE))return!1;var t,n=Object(c.a)(Object(i.a)(e))||Object(u.a)(e).boardId,f=e&&e.event&&e.event.route,p=f===h.a.BOARD||f===h.a.MY_PROFILE||f===h.a.PROFILE,b=Object(r.a)(e,n);return t=Object(l.a)(b),p&&(Object(o.a)(e,n)||Object(a.a)(e,n)||t)||!1}},cD64:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=40,i=16,a=405,o=32},cDcd:function(e,t){e.exports=React},cJ2g:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={setScrollTop:function(e){this.set("scrollTop",e)},getScrollTop:function(){return this.get("scrollTop")},onChangeScrollTop:function(){var e=this,t=this.getScrollTop(),n=Date.now(),r=0;if(this._lastScroll&&this._lastTime&&(r=Math.abs(t-this._lastScroll)/(n-this._lastTime)),this._lastScroll=t,this._lastTime=n,this.isScrolling()){if(r<.2)return}else{if(!(r>.2))return;this.set("isScrolling",!0)}this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((function(){e.set("isScrolling",!1)}))},isScrolling:function(){return this.get("isScrolling")}}},cVdW:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({feed:"My feed",feedGeneral:"All topics",feedRecipes:"Recipes",feedInteriors:"Interiors",feedDiy:"Handmade",feedWeddings:"Weddings",feedBeauty:"Beauty & Care",feedHairstyles:"Hairstyles",feedNature:"Nature",feedGardening:"Gardening",feedFashion:"Clothing and Footwear",feedTravel:"Travel",feedTattoo:"Tattoos",feedAuto:"Cars and Motorcycles"})},"cW8/":function(e,t,n){"use strict";function r(e){return function(t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i](t,n)})),r}}n.d(t,"a",(function(){return r}))},cWoH:function(e,t,n){},cX81:function(e,t,n){"use strict";var r,i,a,o=n("pVnL"),s=n.n(o),c=n("VbXa"),u=n.n(c),l=n("smvh"),d=n("SiKM"),h=n("Iv6v"),f=n("mdRN"),p=n("K9S7"),b=n("j3NW"),m=n("SUYq"),v=n("n73F"),g=n("c+Ap"),O={page_size:g.o,previews_count:g.U,sort:"-service.updated_at"},_={subscriptions:function(e){return e&&e.isSubscribed()},cardLike:function(e){return e&&e.isLiked()}},y=Object(f.a)({url:"/collections/api/users/",model:m.a})(r=Object(p.a)()(r=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.fetchFollowersByLogin=function(e){return this.setTarget(this._parentModel),this.fetchWithOptions({followers_of_user:e},{rule:"subscriptions"})},n.fetchBoardFollowers=function(e){return this.setTarget(this._parentModel),this.fetchWithOptions({followers_of_board:e.getId()},{rule:"subscriptions"})},n.fetchLikedUsersForCard=function(e){return this.setTarget(e),this.fetchWithOptions({likers_of:e.id},{rule:"cardLike"})},n.fetchSharedUsersForCard=function(e){return this.fetchWithOptions({shared_card:e.id})},n.fetchWithOptions=function(e,t){return t&&t.ignoreDefaultParams||(e=Object.assign({},this.fetchParams||O,e)),e=Object(d.omit)(e,d.isNull),JSON.stringify(this.oldFetchParams)!==JSON.stringify(e)?(this.fetchParams=this.oldFetchParams=e,this.iteratorReset(this.fetchParams,t)):Promise.resolve(this)},n.setTarget=function(e){this._target=e},n.getTarget=function(){return this._target},n.setParentModel=function(e){var t;t=e instanceof v.a?"change:stat change:subscription":"change:subscription",this._parentModel&&this.stopListening(this._parentModel),e&&this.listenTo(e,t,this.onModelChange),this._parentModel=e},n.onModelChange=function(){this.iteratorRewind()},n.parse=function(t,n){var r=e.prototype.parse.call(this,t,n);if(n&&n.reset&&n.rule&&_[n.rule](this.getTarget())){var i=this.getEnv();if(i){var a=i.currentUser;a.isRestricted()&&r.unshift(a)}}return r},t.restore=function(e){var t=this.dataFactory(e,{parse:!0});return t.fetchParams=t.oldFetchParams=e.fetchParams,t},t}(b.a))||r)||r,C=n("gl2N"),E=n("1H70"),j=Object(p.a)()(i=Object(f.a)({model:C.a})(i=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.getFirstImageInfo=function(e){if(this.size())return this.at(0).getImageInfo(e)},n.getFirstImageURL=function(e){if(void 0===e&&(e={}),this.size())return this.at(0).getImageURL(e)},n.getFirstPreviewInfo=function(){if(this.size())return this.at(0).getContent()},t.restore=function(e){return this.dataFactory(e,{parse:!0})},t}(E.a))||i)||i,S=n("zBb6"),w=n("iABh"),k=n("iROX"),I=n("XL0g"),T=n("/bNA"),R=n("t0kG"),L=n("gLBg"),x=n("izju"),D=n("aKBe"),N=n("aNOA");n.d(t,"a",(function(){return B}));var A=l.c.channel("global.share").vent,P=[x.a.BOOK,x.a.FILM,x.a.GEO,x.a.LINK,x.a.SERIES],B=Object(f.a)({urlRoot:"/collections/api/cards/",defaults:function(){return{parent:null,board_id:null,owner_id:null,parent_id:null,preview:null,complaint:null,content:"",type:g.e.NORMAL,service:null,description:"",source_meta:{},last_comment:null,stat:{shares_count:0,likes_count:0,comments_count:0}}}})(a=Object(p.a)({check:["owner.id","stat"]})(a=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.initialize=function(){var e=this;this.on("change:stat",(function(){e.usersLiked=null,e.usersShared=null})),this.on("destroy",(function(){T.a.showCardRemoveMessage(e),e.set("id",null),T.a.onCardRemove()})),this.on("change",(function(){var t=e.getEnv();t&&t.invokeStrategy(R.a.CardToReduxStrategy,{card:e}).catch((function(e){console.error(e)}))}))},n.setBoard=function(e){var t=!e||e.hasEmptyId();this.set({board:e,board_id:t?null:e.getId()})},n.getBoard=function(){return this.get("board")},n.getDocId=function(){return this.get("doc_id")},n.getBoardId=function(){return this.get("board_id")||this.getBoard()&&this.getBoard().id},n.getBoardSlug=function(){var e=this.getBoard();return e&&e.getSlug()},n.getBoardTitle=function(){var e=this.getBoard();return e&&e.getTitle()},n.getHasDuplicate=function(){return Boolean(this.get("has_duplicate"))},n.setContent=function(e){this.set("content",e)},n.getContent=function(){return this.get("content")},n.setDescription=function(e){this.set("description",e)},n.getDescription=function(){return this.get("description")||""},n.getLocation=function(){return this.get("location")},n.getSourceMeta=function(){return this.get("source_meta")},n.getSourceMetaJSON=function(){var e=this.getSourceMeta();return Object(d.omit)(e,"search")},n.getSourceMetaPageUrl=function(){var e=this.getSourceMeta();return e&&e.page_url},n.getParent=function(){return this.get("parent")},n.setImageMeta=function(e){this.set("image_meta",e)},n.getImageMeta=function(){return this.get("image_meta")},n.getVideoMeta=function(){var e=this.getFirstContent();return e&&e.getVideoMeta()},n.getThumbUrl=function(){return this.get("thumb_url")},n.getTaskId=function(){return this.get("task_id")},n.setTaskId=function(e){return this.set("task_id",e)},n.shouldAddByFav=function(){return this.get("use_favorites")},n.isLoadedByUser=function(){var e=this.getSourceMetaPageUrl(),t=this.getParent();return!Boolean(e)&&!t},n.isLiked=function(){return this.get("is_liked")},n.getLastComment=function(){return this.get("last_comment")},n.setIsPrivate=function(e){this.set("is_private",e)},n.isPrivate=function(){return this.get("is_private")},n.isSeries=function(){return this.getContentSize()>1},n.isVideo=function(){var e=this.getFirstContent();return e&&e.isVideo()},n.isEmbedVideo=function(){var e=this.getFirstContent();return Boolean(e&&e.getSource().getEmbedURL())},n.isSeriesDisabled=function(){var e=this.getFirstContent(),t=e&&e.getSourceType(),n=this.isVideo()&&!this.isEmbedVideo(),r=t&&-1!==P.indexOf(t);return Boolean(n||r)},n.isWebSearchSource=function(){var e=this.getFirstContent(),t=e&&e.getSourceType();return Boolean(t&&-1!==P.indexOf(t))},n.isAnimated=function(){var e=this.getFirstContent();return e&&e.isAnimated()},n.isReadonly=function(){return Boolean(this.get("readonly"))},n.getContentSize=function(){return this.getContent().length},n.getImageInfo=function(e){var t=this.getContent()&&this.getContent().getFirstImageInfo(e);return t&&t.width&&t.height?t:s()({},t,{},C.a.getDefaultImageInfo())},n.getFirstImageURL=function(e){return this.getContent().getFirstImageURL(e)},n.getFirstSourceImageURL=function(){var e=this.getFirstContent();return e?e.getSource().getUrl():""},n.getFirstContent=function(){var e=this.getContent();if(e&&e.size())return e.first()},n.getImage=function(){var e=this;if(!this.get("image")){var t=S.a.factory(this.getImageInfo());this.listenTo(t,"scale",(function(t){e.set("scaleParams",t)})),this.setImage(t)}return this.get("image")},n.setImage=function(e){this.set("image",e)},n.getImageContent=function(){return this.getContent().getFirstPreviewInfo()},n.setOwner=function(e){this.set("owner",e)},n.getOwner=function(){return this.get("owner")},n.hasOwnerId=function(){return Boolean(this.get("owner_id"))},n.getOwnerLogin=function(){var e=this.getOwner();return e&&e.getLogin()},n.getOwnerDisplayName=function(){var e=this.getOwner();return e&&e.getDisplayName()},n.isOwnerVerified=function(){var e=this.getOwner();return Boolean(e&&e.isVerified())},n.setStat=function(e){this.set("stat",e)},n.getStat=function(){return this.get("stat")},n.isBanned=function(){return Boolean(this.get("is_banned"))},n.isVisible=function(){return Boolean(this.get("is_visible"))},n.getService=function(){return this.get("service")},n.getCreatingDate=function(){var e=this.getService();return e&&e.created_at},n.getClickUrl=function(){return this.get("click_url")},n.getSharesCount=function(){return this.getStat().shares_count||0},n.getCommentsCount=function(){return this.getStat().comments_count||0},n.getLikesCount=function(){return this.getStat().likes_count||0},n.addCommentStat=function(){this.setStat(Object.assign({},this.getStat(),{comments_count:this.getCommentsCount()+1}))},n.removeCommentStat=function(){this.getCommentsCount()>0&&this.setStat(s()({},this.getStat(),{comments_count:this.getCommentsCount()-1}))},n.addContent=function(e){this.getContent().push(e)},n.setComplaint=function(e){this.set("complaint",e)},n.getComplaint=function(){return this.get("complaint")},n.getLabels=function(){return this.get("labels")},n.setLabels=function(e){this.set("labels",e)},n.isLabelsContain=function(e){var t=this.getLabels();return!!Object(d.isArray)(t)&&-1!==t.indexOf(e)},n.getType=function(){return this.get("type")},n.getMineCards=function(){return this.get("mine_cards")},n.setMineCards=function(e){this.set("mine_cards",e)},n.isVirtual=function(){return g.e.VIRTUAL===this.getType()&&!this.hasOwnerId()},n.hasRestrictedOwner=function(){var e=this.getOwner();return e&&e.isRestricted()},n.getUsersLiked=function(e){return this.usersLiked||(this.usersLiked=new y([],{request:this.getRequestAdapter(),env:e})),this.usersLiked},n.getUsersShared=function(){return this.usersShared||(this.usersShared=new y([],{request:this.getRequestAdapter()})),this.usersShared},n.isWishFulfilled=function(){return this.isLabelsContain(g.Y)},n.fetchCard=function(){var e=this;return this.id&&!this.getDescription()?this.fetch().then((function(){return e}),(function(e){throw 404===e.status?new k.e("Card not found",404,e):403===e.status?new k.e("Forbidden access to card",404,e):400===e.status?new k.e("Invalid card id",404,e):new k.a("Card loading error: "+e.message,null,e)})):Promise.resolve(this)},n._updateWithId=function(e,n){var r=n.request;return this.setRequestAdapter(r),this.id!==e?t.dataFactory({id:e},{request:r}).fetchCard().then((function(e){return e.expectFields(["board","board.id"])})):Promise.resolve(this)},n.updateCurrentCard=function(e){var n=e.event,r=n.params.id,i=n.name,a=n.isFirstRender,o=e.request,s=e.env;return i!==L.a.CARD&&i!==L.a.COMMENTS?t.factory({request:o}):(a&&this.id&&(r=this.id),this._updateWithId(r,{request:o}).then((function(e){if(!e.id)throw new k.e("Card not found");if(0===e.getContentSize()&&!e.isBanned())throw new k.b(e.id);s.dispatch(Object(N.a)({key:"card",value:{id:e.id}}));var t=e.toViewJSON();return Promise.resolve(s.dispatch(Object(D.a)({id:e.id,value:t}))).catch((function(e){return console.error(e)})).then((function(){return e}))})))},n.postCard=function(){var e=this;return this.save(null,{patch:!0}).then((function(){return e}))},n.getPreviewImageUrl=function(){var e=this.getFirstContent();if(e){var t=e.getSource(),n=this.getThumbUrl(),r=t.getUrl();return e.isAnimated()?r:e.isVideo()||e.isLink()?n:n||r}},n.clearContests=function(){this.unset("competitions")},n.addContest=function(e){var t=this.getContests()||[];t.push(e),this.set("competitions",t)},n.hasContests=function(){var e=this.getContests();return Boolean(e&&e.length)},n.getContests=function(){return this.get("competitions")},n.getBallot=function(){return this.get("ballot")},n.saveVote=function(e){return this.getRequestAdapter().sync("create",this,{url:"/collections/api/votes/",contentType:"application/json",data:JSON.stringify({points:Number(e),ballot:{id:this.getBallot().id}})})},n.getNewBoardThumb=function(){var e=this.getFirstContent();if(e){var t=e.getSource(),n=t&&t.getPreview(),r=t&&t.getThumbId();return n||(e.getContent()?n=Object(I.a)(e,{hash:{size:"smart128"}}):r?Object(I.a)(e):e.getThumbUrl())}return this.getPreviewImageUrl()},n.getShareImageUrl=function(){var e=this.getFirstContent(),t=e?Object(I.a)(e,{hash:{size:"s1200"}}):"";return t?t+"?webp=false":t},n.getShareImageSize=function(){return this.getImageInfo({size:"s1200"})},n.isFilled=function(){return this.getBoard()&&this.getBoard().id&&this.getOwnerLogin()},n.share=function(){A.trigger("share",this)},n.getSeriesMeta=function(e){var t=e.width,n=e.scrollTop,r=e.state,i=e.gap,a=void 0===i?8:i,o=e.top,s=void 0===o?0:o,c=e.th,u=void 0===c?.3:c,l=function(e,t){return e.getFitImageInfo(t,1/0,{threshold:u})},d=this.getContent(),h=d.last(),f=d.slice(1,d.length-1);return{top:s,state:r,scrollTop:n,height:f.reduce((function(e,n){return e+l(n,t).height}),0)+f.length*a,lastHeight:h?l(h,t).height:0}},n.remove=function(t){var n=this,r=this.getBoard(),i=this.getId();return e.prototype.remove.call(this,t).then((function(){return r.fetchWithThumbs()})).then((function(){var e=n.getEnv();return e?e.invokeStrategy(R.a.CardRemoveStrategy,{cardId:i,board:r}).then((function(){return n})):n}))},n.destroy=function(){},n.setRequestAdapter=function(t){return t&&(e.prototype.setRequestAdapter.call(this,t),[this.getBoard(),this.getOwner()].forEach((function(e){e&&!e.getRequestAdapter()&&e.setRequestAdapter(t)}))),this},n.clone=function(){var t=e.prototype.clone.call(this),n=t.getContent(),r=this.extensions;return t.setContent(n.clone()),r&&t.setExtensions(r.clone(t)),t},n.toJSON=function(){var t=e.prototype.toJSON.call(this),n=this.getContent(),r=this.extensions;return n?t.content=n.toJSON():delete t.content,r&&(t=s()({},t,{},r.toJSON())),Object(d.omit)(t,"board","owner","stat","preview","service","image","file")},n.toViewJSON=function(){var t=e.prototype.toJSON.call(this),n=this.getOwner(),r=this.getContent(),i=this.getBoard();return t.content=r&&r.toJSON(),t.board=i&&i.toJSON(),t.owner=n&&n.toJSON(),t.stat=this.getStat(),t.service=this.getService(),t.last_comment=this.getLastComment(),t},n.getHintTarget=function(){return this.getId()},n.getShareHintText=function(){return w.hintShare},n.getLikeHintText=function(){return w.hintLike},n.parse=function(e){var t=this.getRequestAdapter();return e.source_meta&&e.source_meta.search?e.type=g.e.SEARCH:e.board||e.owner||(e.type=g.e.VIRTUAL),e.content instanceof j||(e.content=j.dataFactory(e.content||[],{parse:!0,request:t})),!e.board&&this.getBoard()||e.board instanceof v.a||(e.board=v.a.dataFactory(e.board,{parse:!0,request:t}),e.board&&(e.owner_id=e.board.getOwnerId())),!e.owner||e.owner instanceof m.a||(e.owner=m.a.dataFactory(e.owner,{parse:!0,request:t})),!e.labels&&this.getLabels()&&(e.labels=[]),this.getMineCards()||this.setMineCards([]),e},t.restore=function(e){return this.dataFactory(e,{parse:!0})},t}(h.a))||a)||a},cXYc:function(e,t,n){},cYeE:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("MTjZ"),c=n("RouB"),u=n("WyUc"),l=n("c+Ap"),d=n("0q89"),h=n("gLBg"),f=n("/bNA"),p=n("TChA"),b=n("rreP"),m=n("4RqY"),v=n("rcxC"),g=Object(m.a)((function(e,t){var n,r=t.dispatch;n=e===u.a.HIDE?v.cardHided():v.complaintSuccess(),r(Object(b.a)({message:n,removeOnScroll:!0}))})),O=n("+XmN"),_=n("pLEp"),y=n("nAK0"),C=n("cX81"),E=n("qz1P"),j=n("n73F");n.d(t,"a",(function(){return T}));var S={cards:function(e){return{card_id:e}},boards:function(e){return{board_id:e}}},w={cards:C.a,boards:j.a},k={boards:function(e){return{boardId:e}},cards:function(e){return{cardId:e}}},I={boards:y.d.clickBoardComplain,cards:y.d.clickCardComplain},T=Object(m.a)((function(e,t){var n,r,a,b,m,v,y,C,j,T,R,L,x,D,N,A,P;return i.a.async((function(B){for(;;)switch(B.prev=B.next){case 0:if(n=e.id,r=e.stateKey,a=e.reason,b=e.counter,m=e.sendCounter,v=void 0===m||m,y=t.getState,C=t.dispatch,j=t.di,v&&(b=o()({},b,{},k[r](n),{reason:a}),I[r](b)),Object(c.a)(Object(s.a)(y()))){B.next=12;break}if(T={},"cards"!==r){B.next=11;break}if(a!==u.a.HIDE){B.next=10;break}return C(g(a)),C(Object(p.a)({id:n})),B.abrupt("return");case 10:T.retpath={route:h.a.CARD,params:{id:n}};case 11:return B.abrupt("return",C(Object(O.a)(o()({passportLoc:d.a.COMPLAIN},T))));case 12:if(!(R=y().entities[r])){B.next=17;break}if(!(L=R[n])||!L.complaint){B.next=17;break}return B.abrupt("return");case 17:return x=o()({},S[r](n),{reason:a}),C(Object(_.a)({id:n,storeKey:r,value:{complaint:{reason:a}}})),"cards"===r&&(C(Object(p.a)({id:n})),C(g(a))),B.prev=20,B.next=23,i.a.awrap(j("request"));case 23:return D=B.sent,B.next=26,i.a.awrap(D.post("/collections/api/complain/",x));case 26:N=B.sent,(A=w[r])&&(A.getInstanceFromCache?(P=A.getInstanceFromCache({id:n}))&&P.setComplaint(new E.a(N)):A.dataFactory({id:n},{}).setComplaint(new E.a(N))),B.next=37;break;case 31:if(B.prev=31,B.t0=B.catch(20),B.t0.status!==l.v.CONFLICT){B.next=35;break}return B.abrupt("return");case 35:throw f.a.showXHRMessage(B.t0),B.t0;case 37:case"end":return B.stop()}}),null,null,[[20,31]])}))},chMB:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M15.9 4.5C15.9 3 14.4 2 13.3 2c-.8 0-1 .6-1 1.8l-.3 2c-.4 2-1.7 4.5-3 5.3V17c0 2.3.8 3 4 3h3.8c2.1 0 2.7-1.4 2.9-2l.6-.8 1-1.2a3 3 0 00.2-1.7v-.8l.2-.7c.2-.3.3-.7.3-1.3C22 10 21.3 9 19.7 9h-4.2l.4-4.5zM5.5 10A1.5 1.5 0 004 11.5v7a1.5 1.5 0 103 0v-7A1.5 1.5 0 005.5 10z"}))}i.defaultProps={width:"24",height:"24",id:"like-card-24-filled"},e.exports=i,i.default=i},cz7E:function(e,t,n){"use strict";var r=n("+Wyo");t.a=r.a.applyDecls()},dEsh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("pzCj");function i(e){return Boolean(Object(r.a)(e))}},"dFp+":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({feedRecipesNY:"Лучшие рецепты к Новогоднему столу",feedInteriorsNY:"Украсить дом к празднику",feedDiyNY:"Открытки и поздравления",feedFashionNY:"Составь идеальный лук на Новогоднюю вечеринку",feedTravelNY:"Новый год вокруг света",feedGeneralNY:"Лучшее за 2019",general:"Выбор редакции"})},"dG+d":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("ZDp4"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("RouB"),c=n("MTjZ"),u=n("+XmN");function l(e,t,n){var r=e.dispatch;return function(i){var a=e.onClick,o=e.onAccessDenied,s=e.onAccessGranted,c=e.preventDefault,l=e.retpath,d=e.passportLoc,h=e.authDialogSource,f=e.target;e.hasAccess?(s&&s(),n&&n.onClick&&n.onClick(i)):(c&&i.preventDefault(),o&&o(),r(Object(u.a)({counter:t,retpath:l,passportLoc:d,authDialogSource:h,target:f}))),a&&a(i)}}var d=Object(o.b)((function(e,t){return i()(t),{hasAccess:Object(s.a)(Object(c.a)(e))}}))((function(e){return a.createElement(a.Fragment,null,a.Children.map(e.children,(function(t){return a.cloneElement(t,{onClick:l(e,e.counter,t.props)})})))}))},dICJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("93Q7"),i=n("T6Rw"),a=n("ZK//"),o=Object(i.a)((function(e){var t=Object(r.a)(e);return t&&(e=a.a.reducer(e,{id:t.id,value:{participation:void 0}})),e}))},dJh7:function(e,t){e.exports=function(e,t){navigator.serviceWorker&&navigator.serviceWorker.register("/collections/sw-desktop.js",{scope:"/collections/"+e+"/"}).then(t)}},"dNc+":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a={};function o(e,t,n){var r=function(t,n,r){var i=r&&r.cache;if(i&&i.has(n))return{entities:t,obj:n};var a=e(t,n,r);return i&&"object"==typeof n&&null!==n&&i.add(n),a};return r.denormalize=t,r.parse=n,r}function s(e){return o((function(t,n,r){return Object.keys(e).reduce((function(t,n){if(t.obj[n]){var a,o=e[n](t.entities,t.obj[n],r);return o.obj===t.obj[n]?{entities:o.entities,obj:t.obj}:{entities:o.entities,obj:i()({},t.obj,(a={},a[n]=o.obj,a))}}return t}),{entities:t,obj:n})}),(function(t,n){return n?Object.keys(e).reduce((function(n,r){var a;return n[r]?i()({},n,((a={})[r]=e[r].denormalize(t,n[r]),a)):n}),n):n}),(function(t){return t?Object.keys(e).reduce((function(t,n){var r;return t[n]?i()({},t,((r={})[n]=e[n].parse(t[n]),r)):t}),t):t}))}function c(e,t,n,r){var a;return t&&(a=s(t)),o((function(t,n,o){if(a){var s=a(t,n,i()({},o,{replace:!1}));t=s.entities,n=s.obj}var c=Object.keys(n).length;if(n.id){var u=Boolean(r&&r.empty),l=r&&r.merge;if(c>1||u){var d,h,f=o&&o.replace?{}:t[e]&&t[e][n.id],p=i()({},f,{},n);l&&l.length&&(p=l.reduce((function(e,t){var r=i()({},f&&f[t]?f[t]:{},{},n&&n[t]?n[t]:{});return 0!==Object.keys(r).length&&(e[t]=r),e}),p)),t=i()({},t,((h={})[e]=i()({},t[e],((d={})[n.id]=p,d)),h));var b={id:n.id};n.entity_type&&(b.entity_type=n.entity_type),n._url&&(b._ver=n._ver,b._url=n._url,b._query=n._query),n=b}}return{entities:t,obj:n}}),(function(t,n){return n.id&&(n=t[e][n.id]),a?i()({},n,{},a.denormalize(t,n)):n}),(function(e){var t=a?a.parse(e):e;return n?n(t):t}))}function u(e,t){return void 0===t&&(t={}),o((function(n,r,o){if(r.results){var s=!1,c={},u=r._filters,l=r.results.reduce((function(r,l){var d=e(n,l,o),h=!1,f=!0;d.obj!==l&&(s=!0);var p=d.obj&&d.obj.id;if(t.uniqueOnly&&p&&!c[p]&&(c[p]=!0,h=!0),t.needFilter){var b=function(e,t){if(void 0===t&&(t=a),!e.filters||!e.filters.length)return{filters:t,shouldBeIncluded:!0};var n=!1;return{filters:e.filters.reduce((function(e,t){var r;return n=n||e[t],i()({},e,((r={})[t]=!0,r))}),t),shouldBeIncluded:!n}}(l,u);u=b.filters,f=b.shouldBeIncluded}return!f||t.uniqueOnly&&!h||r.push(d.obj),n=d.entities,r}),[]);(s||l.length!==r.results.length)&&(r=i()({},r,{results:l},t.needFilter?{_filters:u}:void 0))}return{obj:r,entities:n}}),(function(t,n){return n.results?i()({},n,{results:n.results.map((function(n){return e.denormalize(t,n)}))}):n}),(function(t){return t.results?i()({},t,{results:t.results.map((function(t){return e.parse(t)}))}):t}))}function l(e){return o((function(t,n,r){if(Array.isArray(n)){var i=!1,a=n.reduce((function(n,a){var o=e(t,a,r);return o.obj!==a&&(i=!0),n.push(o.obj),t=o.entities,n}),[]);i&&(n=a)}return{obj:n,entities:t}}),(function(t,n){return Array.isArray(n)?n.map((function(n){return e.denormalize(t,n)})):n}),(function(t){return Array.isArray(t)?t.map((function(t){return e.parse(t)})):t}))}function d(e){return u(o((function(t,n,r){var i=n.entity_type;return i&&e[i]?e[i](t,n,r):{entities:t,obj:n}}),(function(t,n){var r=n.entity_type;return r&&e[r]?e[r].denormalize(t,n):n}),(function(t){var n=t.entity_type;return n&&e[n]?e[n].parse(t):t})))}n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return w})),n.d(t,"h",(function(){return R})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return A}));var h=c("users",void 0,(function(e){return i()({id:e.login},e)})),f=u(h),p=l(h),b=c("boards",{owner:h},null,{merge:["stat"]}),m=c("boards",{owner:h,parent:b,collabs:p},(function(e){var t=e.owner&&(e.owner.uid||e.owner.login);return i()({id:e.slug+"/"+(t||"-"),my_permission:e.my_permission||0},e)}),{merge:["stat"]}),v=u(m),g=u(m,{needFilter:!0}),O=c("cards",{board:m,owner:h,last_comment:s({owner:h}),parent:s({owner:h})},(function(e){return i()({},e,{mine_cards:e.mine_cards?e.mine_cards:[]})})),_=u(O),y=u(O,{uniqueOnly:!0}),C=u(O,{uniqueOnly:!0,needFilter:!0}),E=c("cards",{owner:h,board:m,last_comment:s({owner:h}),parent:s({owner:h})},(function(e){return i()({},e,{id:e.id?e.id:"current-card-temp"})}),{empty:!0}),j=c("channels",void 0,(function(e){return i()({id:e.slug},e)})),S=u(j),w=c("contests",{cards:l(O)}),k=u(w),I=d({card:O,board:m}),T=c("geoPoints",void 0,(function(e){return{id:e._query["board.id"]||e._query["channel.slug"],type:"FeatureCollection",features:i()({},e)}})),R=c("tasks"),L=d({board:m,channel:j}),x=u(c("coauthors",{board:m,user:h})),D=u(c("ballots",{card:O})),N=function(e,t){var n=Object.keys(t),r=function(e,t){for(var r=Object.keys(e),i=0;i<r.length;i++)for(var a=r[i],o=0;o<n.length;o++){var s=n[o];a.slice(0,s.length)===s&&t(a,s)}};return o((function(n,a,o){var s=e(n,a,o);return r(s.obj,(function(e,n){var r,a=t[n](s.entities,s.obj[e]);a.obj!==s.obj[e]&&(s={entities:a.entities,obj:i()({},s.obj,(r={},r[e]=a.obj,r))})})),s}),(function(n,a){var o=e.denormalize(n,a);return r(o,(function(e,r){var a;o=i()({},o,((a={})[e]=t[r].denormalize(n,o[e]),a))})),o}),(function(t){return e.parse(t)}))}(s({user:h,profileUser:h,card:O,currentCard:E,dailyCard:O,task:R,board:m,channel:j,contest:w,contests:k,companies:f,boardCards:_,viewerBoardCards:_,favoritesCards:_,feedCards:_,channelCards:y,contestCards:_,userCards:_,searchCards:_,ballotsCards:_,ballots:D,boardBoards:v,userBoards:v,userBoardsSidebar:v,userObjects:I,searchBoards:v,boardRecommendations:g,boardSimilar:g,cardOtherCollections:g,cardSimilar:C,cardSimilarToCard:C,channelRelated:S,channelSpecialization:S,onboardingChannels:S,followingsUsers:f,followingsBoards:v,followingsChannels:S,followersUsers:f,boardFollowers:f,cardLikes:f,cardShares:f,boardCoauthors:x,addBoards:v,geoPoints:T,feedRecommendations:L,editorsChoice:v}),{cards$:_,users$:f,boards$:v});function A(e,t){var n;return N.parse(((n={})[e]=t,n))[e]}},dPRx:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M14.8 7.4l-8.4 8.3a2 2 0 00-.4.7l-1.7 3.1L7.6 18l.7-.4 8.3-8.4a5 5 0 00-.8-1 5 5 0 00-1-.8zm1.4-1.5a7.6 7.6 0 011.9 1.9l1.4-1.5c.2-.2.2-.4.2-.6L19 5l-.8-.6c-.2 0-.4 0-.6.2l-1.5 1.4zm-12 9.7l.8-1.3L16.3 3c.7-.7 1.8-.9 2.7-.5.5.2 1 .5 1.5 1s.8 1 1 1.5c.4 1 .2 2-.5 2.7L9.7 19a4 4 0 01-1.3.8L5 21.3A1.8 1.8 0 012.7 19l1.5-3.4z"}))}i.defaultProps={width:"24",height:"24",id:"edit-card-24-filled"},e.exports=i,i.default=i},dQn9:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,i,a,o,s,c=n("VbXa"),u=n.n(c),l=n("U+yc"),d=n.n(l),h=n("cDcd"),f=n("LH8O"),p=n("6ga4"),b=n("nAK0"),m=n("EvZm"),v=n("c+Ap"),g=n("D+d4");n("VMBN");var O=(r=Object(f.a)(),i=Object(f.a)(),a=Object(f.a)(),o=Object(f.a)(),s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={hidden:!1},t}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.onClickOut,!0),window.addEventListener("popstate",this.onBackClick)},n.componentWillUnmount=function(){window.removeEventListener("click",this.onClickOut,!0),window.removeEventListener("popstate",this.onBackClick)},n.hide=function(e){var t=this;this.state.hidden||(this.setState({hidden:!0}),setTimeout((function(){t.setState({hidden:!1}),e&&e()}),200))},n.closeDialog=function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.counter,r=t.onOut;b.d.clickDialogOut(n),this.hide(r)},n.onEscape=function(e,t){return this.closeDialog(t),!1},n.onClickOut=function(e){e&&e.target&&e.target===this.modal&&this.closeDialog(e)},n.onBackClick=function(){this.hide(this.props.onOut)},n.render=function(){var e=this,t=this.props,n=t.title,r=t.description,i=t.primaryLabel,a=t.secondaryLabel,o=t.secondaryDangerous,s=t.onSecondary,c=t.onPrimary,u=(t.onOut,t.e2eLabel,t.counter),l=this.state.hidden,d=h.createElement("div",{className:Object(p.a)("dialog",{show:!l}),ref:function(t){return e.modal=t}},h.createElement("div",{className:"dialog__wrap"},h.createElement("div",{className:"dialog__text"},h.createElement("div",{className:"dialog__title"},n),r&&h.createElement("div",{className:"dialog__description"},r),!1),h.createElement("div",{className:"dialog__buttons"},h.createElement(m.a,{ei:!0,type:"normal",className:Object(p.a)("dialog__button",o?{red:!0}:{}),size:"M",label:a,onClick:function(){b.d.clickDialogSecondary(u),e.hide(s)},props:{}}),h.createElement(m.a,{ei:!0,type:"action",className:"dialog__button",size:"M",label:i,onClick:function(){b.d.clickDialogPrimary(u),e.hide(c)},props:{}}))));return h.createElement(g.a,{keyCode:v.x.ESCAPE,callback:this.onEscape,options:{priority:101}},d)},t}(h.Component),d()(s.prototype,"closeDialog",[r],Object.getOwnPropertyDescriptor(s.prototype,"closeDialog"),s.prototype),d()(s.prototype,"onEscape",[i],Object.getOwnPropertyDescriptor(s.prototype,"onEscape"),s.prototype),d()(s.prototype,"onClickOut",[a],Object.getOwnPropertyDescriptor(s.prototype,"onClickOut"),s.prototype),d()(s.prototype,"onBackClick",[o],Object.getOwnPropertyDescriptor(s.prototype,"onBackClick"),s.prototype),s),_=Object(b.f)(O)},dS1U:function(e,t,n){},dbFI:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Wopx");function i(e){var t=Object(r.a)(e);return Boolean(t.isRestore)}},dcp2:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({site:function(e){return"Go to "+i(e.site)},serpFilm:"Go to film",serpSeries:"Go to TV show",serpBook:"Go to book",recipe:function(e){return"Full recipe on "+i(e.site)}})},dohL:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("c+Ap"),c=n("rreP"),u=n("T6Rw"),l=n("8kuQ"),d=Object(u.a)((function(e,t){var n=t.error,r=o()(t,["error"]),a=n.status,u=l.xhrErrorUnknown.r();return 0===a?u=l.xhrError0.r():a===s.v.NOT_FOUND?u=l.xhrError404.r():a===s.v.FORBIDDEN?u=l.xhrError403.r():a>=s.v.INTERNAL_SERVER_ERROR&&a<s.v.MAX_HTTP_CODE&&(u=l.xhrError500.r()),c.a.reducer(e,i()({message:u},r))}))},du0C:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a);function s(e,t){var n=e&&e[t];if(n&&n.next)return n.next}var c=n("W+cT"),u=n("YFOV"),l=Object(u.a)("ballots"),d=n("O/ol"),h=n("93Q7"),f=n("jm6t"),p=n("4RqY"),b=n("S7YN"),m=n("1ZVK"),v=n("gF9f");n.d(t,"a",(function(){return g}));var g=Object(p.a)((function(e,t){var n,r,a,u,p,g,O,_;return i.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(n=e.contestId,r=e.next,a=t.getState,u=t.dispatch,p=n?Object(d.a)(a(),n):Object(h.a)(a())){y.next=5;break}return y.abrupt("return");case 5:if(!r){y.next=10;break}return y.next=8,i.a.awrap(u(Object(m.a)({storeKey:"ballots"})));case 8:y.next=14;break;case 10:return g={page_size:2,sample:!0},g=Object(f.a)(p)?o()({card_of_the_day:1},g):o()({"competition.slug":p.slug},g),y.next=14,i.a.awrap(u(Object(b.a)({storeKey:"ballots",url:"/collections/api/ballots/",query:g})));case 14:if(O=Object(c.a)(a(),"ballots")){y.next=17;break}return y.abrupt("return");case 17:_=O.map((function(e){var t=e.id;return l(a(),t)})).filter(Boolean).map((function(e){return{id:e.card.id,ballotId:e.id}})),u(Object(v.a)({ballotsCards:{results:_,next:s(a(),"ballots")}}));case 19:case"end":return y.stop()}}))}))},dzdJ:function(e,t,n){"use strict";var r=n("Yhgf");t.a=r.a.applyDecls()},e1An:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("date"))},e9Bh:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({similarTo:"Similar to your",card:"card",fromChannel:"From the topic",recommended:"Recommended for you"})},eD6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return y}));var r=n("o0o1"),i=n.n(r),a=n("QodL"),o=n("7hiN"),s=n("+mVu"),c=n("oBAa"),u=n("Wopx"),l=n("P34R"),d=n("BKHA"),h=n("785c"),f=n("gLBg"),p=n("muJa"),b=n("/bNA"),m=n("TBxt"),v=n("4RqY"),g=n("1WnH"),O=n("nAK0"),_="bulk_data_",y=Object(v.a)((function(e,t){var n,r,v,_,y,C,E,j,S,w,k;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.cardId,r=e.isBulk,v=t.getState,_=t.dispatch,y=v(),E=Object(u.a)(y),n||r){i.next=6;break}return i.abrupt("return");case 6:if(n?C=Object(c.a)(Object(s.a)(y,n)):r&&(j=Object(d.a)(y)).cards&&(C=j.cards.some((function(e){return Boolean(Object(c.a)(y,e))}))),!C){i.next=10;break}return b.a.showEditCardReadonlyMessage(),i.abrupt("return");case 10:if(S=E&&(Object(l.a)(E)||E.isYandexRecent),!n){i.next=16;break}O.d.clickCardMove({cardId:n}),S?(w=E.isYandexRecent&&!E.isBrowserApp,k={cardid:n,autoclose:"yes"},w||(k.castNotification=!0),Object(o.a)(Object(f.D)(k),E)):_(Object(m.a)({id:n})),i.next=19;break;case 16:if(!r){i.next=19;break}return _(Object(p.openBulkMove)()),i.abrupt("return",_(Object(g.a)({type:a.c.ADD_CARD,id:h.b,options:{uiKey:h.a,singleColumn:!0}})));case 19:case"end":return i.stop()}}))}))},"eJ/D":function(e,t){var n=["ms","moz","webkit","o"];if("undefined"!=typeof window){for(var r=0;r<n.length&&!window.requestAnimationFrame;r++)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(0,16-(t-i)),r=setTimeout((function(){e(t+n)}),n);return i=t+n,r}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}},"eNY/":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18 9a8 8 0 0 1-1.1 3.5L12 20.9V15a6 6 0 1 1 6-6zm-3.8 0a2.2 2.2 0 1 0-4.4 0 2.2 2.2 0 0 0 4.4 0z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24"},e.exports=i,i.default=i},eTvZ:function(e,t,n){"use strict";function r(e,t){var n=t.tag,r=void 0===n?"":n,i=t.attribute,a=new RegExp(i+"=(?:\"|')(.*?)(?:\"|'|\\s)"),o=new RegExp("<"+r+"[^>]*"+i+"=(?:\"|')(.*?)(?:\"|'|\\s)[^>]*>","g");return(e.match(o)||[]).reduce((function(e,t){var n=t.match(a);if(n&&n.length){var r=n[0].slice(i.length+2,-1);return[].concat(e,[r])}return e}),[])}n.d(t,"a",(function(){return r}))},eaCv:function(e,t,n){"use strict";function r(e){return e&&e.event&&e.event.origRoute}n.d(t,"a",(function(){return r}))},ebQT:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M18 9a8 8 0 0 1-1.1 3.5L12 20.9V15a6 6 0 1 1 6-6zm-3.8 0a2.2 2.2 0 1 0-4.4 0 2.2 2.2 0 0 0 4.4 0z",fill:"#000",fillRule:"nonzero"}))}i.defaultProps={width:"24",height:"24"},e.exports=i,i.default=i},ebR4:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({showOnMaps:"Show on Yandex.Maps"})},ej5N:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("Qtgv"),a=n("i1uP"),o=Object(a.a)(r.a,i.a)},emua:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("6ga4"),s=n("Toh8"),c=(n("FDTi"),function(e){var t=e.className,n=e.fixed,r=e.showOwner;return a.createElement(s.a,i()({},e,{className:Object(o.a)("cl-board-grid-teaser-placeholder",{fixed:n,user:r},t),picture:!0,avatar:r,title:!0,desc:r}))})},eqMx:function(e,t,n){"use strict";function r(e){var t=e.data.view;if(t)return Boolean(t.getEnv().currentUser.isAuthorized());throw new Error("Cannot find view context")}n.d(t,"a",(function(){return r}))},euOF:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("iurk"),i=n("rANK");function a(e,t){return Boolean(Object(i.a)(e,t)&&!Object(r.a)(e,t)&&-1!==t.indexOf("/"))}},eyqA:function(e,t,n){},f8gw:function(e,t,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),a=n("om3R"),o=n("rT8E"),s=n("CZvv"),c=n("lpMR"),u=n("GGxO"),l=n("lc+m"),d=n("vB0I"),h=Object(d.a)("cardId",l.a),f=n("cW8/"),p=Object(f.a)({card:h}),b=n("izju"),m=n("tpMH"),v=n("9bY7"),g=n("pVnL"),O=n.n(g),_=n("6ga4");n("aCps");var y=function(e){var t,n=e.mod,i=e.mods,a=e.title,o=e.desc,s=e.altDesc,c=e.isWhiteLabel,u=e.isSimilar,l=e.children,d=e.linkFactory,h=s||o&&r.createElement("p",{className:Object(_.a)("teaser-extension__desc",{"white-label":c,similar:u})},o);return r.createElement("div",{className:Object(_.a)("teaser-extension",O()((t={},t[n]=Boolean(n),t),i))},d&&d({className:"teaser-extension__link",withoutTitle:!0}),a&&r.createElement("h3",{className:Object(_.a)("teaser-extension__title",{"white-label":c,similar:u})},a),h,l)},C=n("YQQ1"),E=n("c9IW");n("jQwR");var j=function(e){var t,n=e.cardId,i=e.storeKey,a=e.backgroundColor,o=e.isSimilar,s=e.link,c=e.wrapper,u="current-card-temp"!==n?function(e){return r.createElement(C.a,O()({cardId:n,storeKey:i},e))}:void 0,l=!Object(E.a)(a),d=r.createElement(y,O()({mod:"card-teaser",mods:{"white-label":l},linkFactory:s?u:void 0,isWhiteLabel:l,isSimilar:o},e));a&&(t={backgroundColor:a});var h=Object(_.a)("string"==typeof c?c:"cl-teaser__extension",{similar:o,"white-border":l});return Boolean(c)?r.createElement("div",{className:h,style:t},d):d},S=Object(i.a)(p)((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,o=e.isSimilar,s=e.wrapper,c=Object(a.a)(t),u=Object(v.a)(c),l=Object(m.a)(c);return c&&t&&(u||l)?r.createElement(j,{cardId:t.id,storeKey:n,link:!1,backgroundColor:i,isSimilar:o,wrapper:s,title:u,desc:l}):null})),w=n("2a6Q"),k=n("IonQ"),I=n("uDOU"),T=Object(i.a)((function(e,t){var n=t.cardId,r=Object(k.a)(e,n),i=Object(l.a)(e,n),o=Object(w.a)(e,n),s=Object(a.a)(i);return!o&&s&&s.source&&s.source.url&&(o=Object(I.a)(s.source.url)),{card:i,domain:o,text:r&&r.title}}))((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,a=e.isSimilar,o=e.wrapper,s=e.domain,c=e.text;return t?r.createElement(j,{cardId:t.id,storeKey:n,link:!1,backgroundColor:i,isSimilar:a,wrapper:o,title:c,desc:s}):null})),R=n("nAK0"),L=n("IV/k"),x=n("RoKP"),D=n("stuq"),N=n("kKIY"),A=n("uaqs"),P=n("PDNp"),B=n("M5xC"),M=n("m7Ew"),U=Object(i.a)(p)((function(e){var t,n=e.card,i=e.storeKey,a=e.backgroundColor,o=e.isSimilar,s=e.wrapper;if(!n)return null;if(o){var c=function(e,t,n){if(void 0===t&&(t=!0),!e||!e.market)return null;var r=e.market,i=r.price,a=r.currency,o=r.precise;return i?Object(A.a)(a)?t?P.marketTeaserPriceRouble.r({price:i}):P.marketTeaserPriceRoubleShort.r({price:i}):Object(N.a)(e.market,t,void 0):i&&o?Object(A.a)(a)?Object(D.a)(Math.round(Number(i))):Object(N.a)(e.market,t,void 0):t?o?P.marketNoPriceFull.r():P.marketNotPrecise.r():P.marketNotPreciseShort()}(n,!1),u=Object(B.a)(n.market);c&&u&&(t=r.createElement(M.a,{href:u,className:"view__context__market",props:{onClick:function(){return R.d.clickCardMarket({cardId:n.id})}}},c))}return r.createElement(j,{cardId:n.id,storeKey:i,link:!1,backgroundColor:a,isSimilar:o,wrapper:s,title:Object(x.a)(n.market),desc:Object(L.a)(n.market),altDesc:t})})),F=n("1RcF"),V=n("gdZZ"),H=n("74re"),W=n("Gmy3"),z=n("Y6Ru"),K=Object(i.a)(p)((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,a=e.isSimilar,o=e.wrapper;if(!t)return null;var s=t.object_answer.data,c=s.genres,u=s.release,l=s.platforms,d=[];return c&&d.push(Object(H.a)(t)),u&&u.year&&d.push(String(u.year)),l&&d.push(function(e){return Object(z.a)(e).join(", ")}(l)),r.createElement(j,{cardId:t.id,storeKey:n,link:!1,backgroundColor:i,isSimilar:a,wrapper:o,title:Object(W.a)(t)},d&&r.createElement("ul",{className:Object(_.a)("dot-list",{size:"M","teaser-extension":!0})},d.map((function(e,t){return r.createElement("li",{className:"dot-list__item",key:t},r.createElement("span",{className:"dot-list__text"},e))}))))})),Y=Object(i.a)(p)((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,a=e.isSimilar,o=e.wrapper;if(!t)return null;var s=t.object_answer.data,c=s.subtitle,u=s.description;return r.createElement(j,{cardId:t.id,storeKey:n,link:!1,backgroundColor:i,isSimilar:a,wrapper:o,title:Object(W.a)(t),desc:c||u})})),q=Object(i.a)(p)((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,a=e.isSimilar,o=e.wrapper;return t&&t.object_answer&&t.object_answer.data&&t.object_answer.type?(t.object_answer.type,Object(F.a)(t)?r.createElement(K,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:a,wrapper:o}):Object(V.a)(t)?r.createElement(Y,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:a,wrapper:o}):null):null})),G=n("GOua"),X=n("Yxky"),J=Object(i.a)(p)((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,a=e.isSimilar,o=e.wrapper;if(!t)return null;var s=t.organization;return r.createElement(j,{cardId:t.id,storeKey:n,link:!1,backgroundColor:i,isSimilar:a,wrapper:o,title:Object(X.a)(t),desc:Object(G.a)(s)})})),Z=n("DdyV"),Q=Object(i.a)((function(e,t){var n=t.cardId;return{card:Object(l.a)(e,n),title:Object(Z.a)(e,n)}}))((function(e){var t=e.card,n=e.title,i=e.storeKey,a=e.backgroundColor,o=e.isSimilar,s=e.wrapper;return t&&n?r.createElement(j,{cardId:t.id,storeKey:i,link:!1,backgroundColor:a,isSimilar:o,wrapper:s,title:n}):null})),$=n("RXja"),ee=n("ag8l"),te=n("Q6yW"),ne=Object(i.a)((function(e,t){var n=t.cardId;return{card:Object(l.a)(e,n),domain:Object(w.a)(e,n),pageUrl:Object(te.a)(e,n)}}))((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,a=e.isSimilar,o=e.wrapper,s=e.domain,c=e.pageUrl;if(!t)return null;var u=Object($.a)(t);return r.createElement(j,{cardId:t.id,storeKey:n,link:!1,backgroundColor:i,isSimilar:a,wrapper:o,title:Object(ee.a)(t)},s&&c&&r.createElement("ul",{className:Object(_.a)("dot-list",{size:"M","teaser-extension":!0})},s&&c&&r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},s)),u.map((function(e,t){return r.createElement("li",{className:"dot-list__item",key:t},r.createElement("span",{className:"dot-list__text"},e))}))))})),re=n("7z6F"),ie=n("WiFc"),ae=Object(i.a)((function(e,t){var n=t.cardId;return{card:Object(l.a)(e,n),title:Object(ie.a)(e,n)||Object(re.a)(e,n)}}))((function(e){var t=e.card,n=e.title,i=e.storeKey,a=e.backgroundColor,o=e.isSimilar,s=e.wrapper;return t&&n?r.createElement(j,{cardId:t.id,storeKey:i,link:!1,backgroundColor:a,isSimilar:o,wrapper:s,title:n}):null}));n.d(t,"a",(function(){return oe}));var oe=Object(i.a)(p)((function(e){var t=e.card,n=e.storeKey,i=e.backgroundColor,l=e.isSimilar,d=e.wrapper,h=Object(a.a)(t);if(!h||!t)return null;var f=t.market,p=t.object_answer,m=t.organization,v=t.recipe,g=Object(o.a)(h),O=Object(c.a)(h),_=Object(u.a)(g),y=g===b.a.LINK,C=Object(s.a)(t);return f?r.createElement(U,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):p?r.createElement(q,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):m?r.createElement(J,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):v?r.createElement(ne,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):O?r.createElement(ae,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):C?r.createElement(Q,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):_?r.createElement(S,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):y?r.createElement(T,{cardId:t.id,storeKey:n,backgroundColor:i,isSimilar:l,wrapper:d}):null}))},"fD+j":function(e,t,n){"use strict";var r=n("x9gI"),i=n("/Epz"),a=n("y6Xm"),o=n("qkRt"),s=Object(i.a)(o.a,Object(a.a)("mode")),c=n("ICaW");n.d(t,"a",(function(){return u}));var u=function(e){return s(e)||Object(r.a)(e,c.d.COLLECTIONS_DESKTOP_ADD_BULK)||void 0}},fFoT:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("tWT4"),c=n("IWXk"),u=n("8KBr"),l=n("l+/f"),d=n("BXUJ"),h=n("6muZ"),f=n("OyHf"),p=n("jGRQ"),b=n("prdO"),m=Object(o.a)((function(e,t){var n,r,i,a,o=t.verified,h=void 0===o||o,p=t.userId;if(p){var b=Object(c.a)(e,p);n=Object(u.a)(b),r=!t.hideVerified&&h&&Object(d.a)(b),a=Object(l.a)(b),i=b?Object(s.a)(b,{isCompany:a}):Object(f.e)()}return{displayName:n,isVerified:r,avatarUrl:i,isCompany:a}}))((function(e){var t=e.size,n=void 0===t?"M":t,r=e.insertHref,o=void 0===r||r,s=e.displayName,c=e.isVerified,u=e.avatarUrl,l=e.userId,d=e.isCompany,f=i()({},e,{size:n,avatarUrl:u,isVerified:c,displayName:s,isCompany:d,verifiedTitle:b.userVerified()});return o&&(f.wrapper=function(e){return a.createElement(p.a,i()({userId:l,className:"avatar__link"},e))}),a.createElement(h.a,f)}))},fUHm:function(e,t,n){},faye:function(e,t){e.exports=ReactDOM},"fjc+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="ALLOW_CHAT_TOOLTIP"]="allow_chat_tooltip"]=t,e[e[t="CHAT_SETTING_INFO_TOOLTIP"]="chat_setting_info_tooltip"]=t,e[e[t="COAUTHOR_WELCOME_TOOLTIP"]="show_coauthor_welcome_tooltip"]=t,e[e[t="COAUTHOR_SETTINGS_TOOLTIP"]="show_coauthor_settings_tooltip"]=t,e[e[t="SHARE_COLLECTION_TOOLTIP"]="show_share_tooltip"]=t,e[e[t="COAUTHORS_TOOLTIP_KEY"]="show_coauthor_tooltip"]=t,e[e[t="MY_BOARDS_COAUTHORS_KEY"]="ei_coauthors_myboards"]=t,e[e[t="EDIT_PROFILE"]="guide_edit_profile"]=t,e[e[t="EI_CARDS_STEP_KEY"]="ei_guide_cards_step"]=t,e[e[t="SIMILAR_VIEWER_TOOLTIP"]="show_viewer_similar_tooltip"]=t,e[e[t="FEED_LIKE_TOOLTIP"]="show_feed_like_tooltip"]=t,e[e[t="FEED_REPIN_TOOLTIP"]="show_feed_repin_tooltip"]=t,e}({})},fsSv:function(e,t,n){},ft62:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("isBrowserFavorites",!1))},g5xR:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/8f16.gif"},gF9f:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=Object(a.a)((function(e,t){return i()({},e,{},t)}))},gHHl:function(e,t,n){"use strict";function r(e){return e&&"iOS"===e.OSFamily}n.d(t,"a",(function(){return r}))},gLBg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"y",(function(){return a})),n.d(t,"s",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"F",(function(){return p})),n.d(t,"M",(function(){return b})),n.d(t,"J",(function(){return m})),n.d(t,"I",(function(){return v})),n.d(t,"K",(function(){return g})),n.d(t,"H",(function(){return O})),n.d(t,"G",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"t",(function(){return C})),n.d(t,"E",(function(){return E})),n.d(t,"q",(function(){return j})),n.d(t,"e",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"u",(function(){return k})),n.d(t,"O",(function(){return I})),n.d(t,"o",(function(){return T})),n.d(t,"n",(function(){return R})),n.d(t,"p",(function(){return L})),n.d(t,"D",(function(){return x})),n.d(t,"b",(function(){return D})),n.d(t,"g",(function(){return N})),n.d(t,"r",(function(){return A})),n.d(t,"x",(function(){return B})),n.d(t,"w",(function(){return M})),n.d(t,"C",(function(){return U})),n.d(t,"B",(function(){return F})),n.d(t,"A",(function(){return V})),n.d(t,"N",(function(){return H}));var r=n("3q8J");n.d(t,"v",(function(){return r.b})),n.d(t,"z",(function(){return r.c})),n.d(t,"L",(function(){return r.e}));var i=function(e,t){return e[e[t="HOME"]="home"]=t,e[e[t="FEED"]="feed"]=t,e[e[t="PROFILE_FEED"]="profileFeed"]=t,e[e[t="MAIN"]="main"]=t,e[e[t="CHANNEL"]="channel"]=t,e[e[t="GEO_CHANNEL"]="geoChannel"]=t,e[e[t="CARD"]="card"]=t,e[e[t="CARD_LIKES"]="cardLikes"]=t,e[e[t="CARD_SHARES"]="cardShares"]=t,e[e[t="CARDS"]="cards"]=t,e[e[t="COMMENTS"]="comments"]=t,e[e[t="BOARD"]="board"]=t,e[e[t="BOARD_SIMILAR"]="boardSimilar"]=t,e[e[t="GEO_BOARD"]="geoBoard"]=t,e[e[t="BOARD_COAUTHORS"]="boardCoauthors"]=t,e[e[t="BOARD_FOLLOWERS"]="boardFollowers"]=t,e[e[t="PROFILE"]="profile"]=t,e[e[t="MY_PROFILE"]="myProfile"]=t,e[e[t="FOLLOWINGS_USERS"]="followingsUsers"]=t,e[e[t="FOLLOWINGS_BOARDS"]="followingsBoards"]=t,e[e[t="FOLLOWINGS_CHANNELS"]="followingsChannels"]=t,e[e[t="FOLLOWERS"]="followers"]=t,e[e[t="FAVORITES_TYPE"]="favoritesType"]=t,e[e[t="VERTICAL_FEED"]="verticalFeed"]=t,e[e[t="CONTESTS"]="contests"]=t,e[e[t="CONTEST"]="contest"]=t,e[e[t="COMPANIES"]="companies"]=t,e[e[t="DAILY_PHOTO"]="dailyPhoto"]=t,e[e[t="SHARE"]="share"]=t,e[e[t="ADD_FLOW"]="addFlow"]=t,e[e[t="SEARCH"]="search"]=t,e[e[t="SEARCH_BOARDS"]="searchBoards"]=t,e[e[t="UNDERSIDE"]="underside"]=t,e[e[t="IMAGES_TOUCH"]="imagesTouch"]=t,e[e[t="IMAGES_DESKTOP"]="imagesDesktop"]=t,e[e[t="VERIFICATION_BY_NUMBER"]="verificationByNumber"]=t,e[e[t="EDITORS_CHOICE"]="editorsChoice"]=t,e[e[t="STATISTICS"]="statistics"]=t,e[e[t="PLUGIN"]="plugin"]=t,e[e[t="PLUGIN_SUCCESS"]="pluginSuccess"]=t,e[e[t="EMBED"]="embed"]=t,e[e[t="RETPATH"]="retpath"]=t,e[e[t="APP_RECENT"]="appRecent"]=t,e[e[t="APP_FEED"]="appFeed"]=t,e[e[t="BRO_MAIN"]="broMain"]=t,e[e[t="BRO_FEED"]="broFeed"]=t,e[e[t="ADD_FLOW_BRO"]="addFlowBro"]=t,e[e[t="ADD_FLOW_APP"]="addFlowApp"]=t,e[e[t="BRO_BOOKMARKS"]="broBookmarks"]=t,e[e[t="OFFLINE"]="offline"]=t,e[e[t="PUBLIC_OFFLINE"]="publicOffline"]=t,e[e[t="NOT_FOUND"]="errorNotFound"]=t,e}({});function a(e){return Object(r.d)("/",e)}function o(e){return Object(r.d)("/feed/",e)}function s(e){return Object(r.d)("/app/feed/",e)}function c(e){return Object(r.d)("/app/recent/",e)}function u(e){return Object(r.d)("/bro/feed/",e)}function l(e){return Object(r.d)("/bro/bookmarks/",e)}function d(e,t){return Object(r.d)("/card/"+encodeURIComponent(e)+"/",t)}function h(e,t){return d(e)+"likes/"+Object(r.a)(t)}function f(e,t){return d(e)+"shares/"+Object(r.a)(t)}function p(e){return Object(r.e)(e)+"_cards/"}function b(e){return Object(r.e)(e)+"statistics/"}function m(e){return Object(r.e)(e)+"_followings/channels/"}function v(e){return Object(r.e)(e)+"_followings/boards/"}function g(e){return Object(r.e)(e)+"_followings/"}function O(e){return Object(r.e)(e)+"_followers/"}function _(e){return Object(r.e)(e)+"_companies/"}function y(e,t,n){return Object(r.e)(e)+encodeURIComponent(t)+"/"+Object(r.a)(n)}function C(e,t,n){return Object(r.e)(e)+encodeURIComponent(t)+"/geo/"+Object(r.a)(n)}function E(e,t,n){return y(e,t)+"similar/"+Object(r.a)(n)}function j(e,t){var n=e?"/"+encodeURIComponent(e):"";return Object(r.d)(n+"/editors-choice/"+Object(r.a)(t))}function S(e,t){return y(e,t)+"_followers/"}function w(e,t){return Object(r.d)("/channel/"+encodeURIComponent(e)+"/",t)}function k(e,t){return Object(r.d)("/channel/"+encodeURIComponent(e)+"/geo/",t)}function I(e,t){return Object(r.d)("/"+encodeURIComponent(e)+"/",t)}function T(){return Object(r.d)("/contests/")}function R(e){return Object(r.d)("/contest/"+encodeURIComponent(e)+"/")}function L(){return Object(r.d)("/contest/photo-of-the-day/")}function x(e){return Object(r.d)("/share/",e)}function D(e){return Object(r.d)("/add/",e)}function N(e){return Object(r.d)("/bro/add/",e)}function A(e,t){return Object(r.d)("/favorites-"+encodeURIComponent(e)+"/",t)}function P(e,t){return"/images"+e+Object(r.a)(t)}function B(e){return P("/search",e)}function M(e){return P("/",e)}function U(e){return Object(r.d)("/search/",e)}function F(e){return Object(r.d)("/search/boards/",e)}function V(e){return Object(r.d)("/retpath/",e)}function H(e){return Object(r.d)("/verification-by-number/",e)}},gLuS:function(e,t,n){"use strict";var r=n("JSWB");t.a=r.a.applyDecls()},"gM/r":function(e,t,n){"use strict";var r=n("Hyyo");t.a=r.a.applyDecls()},gQdx:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("dNc+"),i=n("3lXt"),a=n("Tff5"),o=n("aKBe"),s=n("T6Rw"),c=n("K5nR"),u=Object(c.a)({normalizer:r.a,getEntity:i.a}),l=Object(s.a)((function(e,t){var n=t.id,r=Object(i.a)(e,n),s=t.value,c=u.reducer(e,t);return r&&s&&"boolean"==typeof s.is_private&&s.is_private!==r.is_private&&(c=Object.keys(e&&e.entities&&e.entities.cards||{}).reduce((function(t,r){var i=Object(a.a)(e,r);return n===i?o.a.reducer(t,{id:r,value:{is_private:s.is_private}}):t}),c)),c}))},gdZZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Jtf9");function i(e){return!(!e||!e.object_answer)&&e.object_answer.type===r.a.GEO}},ggah:function(e,t,n){"use strict";function r(){return function(e){var t=e.prototype;t.onRender,t.destroy}}n.d(t,"a",(function(){return r}))},gh0E:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rdt4");function i(e){if(!e)return"";var t=new Date,n=new r.a(e),i=t.getFullYear()!==n.getDate().getFullYear()?"D MMMM YYYY":"D MMMM";return n.format(i)}},gjSN:function(e,t,n){},gksT:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({move:"Move it where?",saveTitle:"Where do you want to save the card?",save:"Save",edit:"Edit",share:"Add it where?"})},gl2N:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("SiKM"),o=n("Iv6v"),s=n("mdRN"),c=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.setUrl=function(e){this.set("url",e)},n.getUrl=function(){return this.get("url")},n.getUrls=function(){return this.get("urls")},n.getThumbId=function(){return this.get("thumb_id")},n.getPreview=function(){return this.get("preview")},n.setTitle=function(e){this.set("title",e)},n.getTitle=function(){return this.get("title")},n.getHosting=function(){return this.get("hosting")},n.isYouTube=function(){return"youtube"===this.getHosting()},n.isDataImage=function(){var e=this.getUrl();return Boolean(e&&String(e).match(/^data/))},n.getEmbedURL=function(){if(this.isYouTube())return"https://www.youtube.com/embed/"+this.id},n.getMetadata=function(){return this.get("metadata")||{}},n.getDuration=function(){return this.getMetadata().duration||0},n.getQuality=function(){return this.getMetadata().definition||""},n.isHD=function(){return"hd"===this.getQuality()},n.getPlayerId=function(){return(this.get("player")||{}).id},n.getPlayerHTML=function(){return(this.get("player")||{}).html},n.toJSON=function(){var t=e.prototype.toJSON.call(this);return this.isDataImage()&&(t.url="data:image"),t},t}(o.a);Object(s.a)({defaults:{alt:"",title:"",url:""}})(c);var u,l=n("K9S7"),d=n("Ot8I"),h=n("7BjU"),f=Object.keys(h.a).map((function(e){return h.a[e]})).sort((function(e,t){return t-e})),p=n("c+Ap"),b=n("6f8s"),m=n("6EC7"),v=n("izju");n.d(t,"a",(function(){return O}));var g=/\.gif$/i,O=Object(l.a)()(u=Object(s.a)({defaults:{source_type:v.a.IMAGE},url:"/collections/api/content/"})(u=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.getSource=function(){return this.get("source")},n.getSourceType=function(){return this.get("source_type")},n.getContent=function(){return this.get("content")},n.setContent=function(e){this.set("content",e)},n.getOrigSize=function(){return this.getImageInfo({size:"orig"})},n.clearContent=function(){var e=this.getSource();e&&e.setUrl(""),this.setContent(null),this.setId(void 0),this.trigger("clear")},n.getImageInfo=function(e){var n=void 0===e?{}:e,r=n.size,i=void 0===r?"preview":r,a=n.multiply,o=void 0===a?1:a,s=this.getContent();if(i=this.normalizeSize({size:i}),s&&s.sizes){var c=s.sizes;if(c[i]&&c[i].width&&c[i].height)return{width:c[i].width*o,height:c[i].height*o};if(c.orig)return Object(m.b)(i,c.orig,o)}var u=this.getSource();if(u){var l=u.toJSON();if(l&&l.thumb_width&&l.thumb_height)return{width:Number(l.thumb_width),height:Number(l.thumb_height)}}return t.getDefaultImageInfo()},n.setFallbackUrl=function(e){this.set("_fallbackUrl",e)},n.getFallbackUrl=function(){return this.get("_fallbackUrl")},n.setThumbUrl=function(e){this.set("_thumbUrl",e)},n.getThumbUrl=function(){return this.get("_thumbUrl")},n.getFitImageInfo=function(e,t,n){void 0===n&&(n={});var r=n.size?this.getImageInfo({size:n.size}):this.getOrigSize();return Object(b.a)(e,t,r.width,r.height,n.threshold)},n.getBestSize=function(e){var t=e.width,n=e.pixelRatio,r=e.env,i=e.allowOrig,a=void 0===i||i;return this.isAnimated()&&a?"orig":function(e){var t=e.env,n=e.width,r=e.pixelRatio;return n=n||t&&t.getWindowWidth(),r=r||t&&t.getPixelRatio()||1,void 0===n?"s280":(r<=1.5&&(r=1),r>=2&&(r=2),n=Math.round(n*r),"s"+(f.find((function(e){return n>=e}))||h.a.s280))}({width:t,pixelRatio:n,env:r})},n.getImageURL=function(e){var t=e.forceProd,n=e.size,r=this.getContent(),i=this.getSource();return r?Object(d.b)(r,{size:this.normalizeSize({size:n}),forceProd:t}):i&&i.getThumbId()?this.getImageIndexUrl(i):Object(d.b)(this.toJSON(),{size:this.normalizeSize({size:n}),forceProd:t})||this.getThumbUrl()||this.getFallbackUrl()},n.getImageIndexUrl=function(e){var t=e.getUrls();return t?t[0]:""},n.normalizeSize=function(e){var t=e.size;return"preview"===t?this.isAnimated()?"orig":"preview846":p.D[t]||t},n.isAnimated=function(){var e=this.getContent(),t=this.getSource(),n=e&&e.avatars_meta;return n?Boolean("image/gif"===n.orig_format):Boolean(t)&&g.test(t.getUrl())},n.isVideo=function(){return this.getSourceType()===v.a.VIDEO},n.isLink=function(){return this.getSourceType()===v.a.LINK},n.getVideoMeta=function(){return this.get("metadata")},n.parse=function(e){var t=this.getSource(),n=t?t.toViewJSON():{};return e.source instanceof c||(e.source=c.dataFactory(Object.assign(n,e.source))),e.source&&e.source.getPlayerHTML()&&(e.source_type=v.a.VIDEO),e},n.toJSON=function(){var t=e.prototype.toJSON.call(this),n=this.getSource();return n&&(t.source=n.toJSON()),Object(a.omit)(t,"_fallbackUrl","_thumbUrl","file")},t.getDefaultImageInfo=function(){return{width:p.n.WIDTH,height:p.n.HEIGHT}},t.restore=function(e){return this.dataFactory(e,{parse:!0})},t}(o.a))||u)||u},gyQa:function(e,t,n){"use strict";function r(e){if(e&&e.source)return e.source.metadata}n.d(t,"a",(function(){return r}))},h3n8:function(e,t,n){"use strict";var r=1e3,i=10;function a(e,t){return e?t?function(e,t){if(void 0===t&&(t=0),!e||e<r)return e;var n=Math.pow(i,t);return Math.floor(e*n/r)/n+"K"}(e):e:""}n.d(t,"a",(function(){return a}))},hA21:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/5e36.gif"},hDfK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("isYandexApp",!1))},hDul:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("tWT4");function i(e,t){return Object(r.a)(e,t&&t.hash)}},hFHJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n("HVa/"),i=r.b.action(),a=r.b.action(),o=r.b.action(),s=r.b.action(),c=r.b.action(),u=r.b.action(),l=r.b.action(),d=r.b.action(),h=r.b.action(),f=r.b.action(),p=r.b.action(),b=r.b.permanentOptionsAction()},hKrz:function(e,t,n){"use strict";var r=n("SiKM"),i=n("VbXa"),a=n.n(i),o=n("mdRN"),s=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t}(n("1H70").a);Object(o.a)({url:"/collections/api/subscriptions/"})(s);var c=n("/bNA");n.d(t,"a",(function(){return l}));var u={isSubscribed:function(){return this.get("is_subscribed")},setIsSubscribed:function(e){this.set("is_subscribed",e)},addSubscription:function(){var e=this;return this.isSubscribed()?Promise.reject(new Error("User already subscribed")):this.sync("create",this,{url:"/collections/api/subscriptions/",method:"POST",contentType:"application/json",data:JSON.stringify(this.toSubscriptionJSON()),dataType:"text"}).then((function(){return e.setIsSubscribed(!0)}))},removeSubscription:function(){var e=this;return this.isSubscribed()?this.sync("delete",this,{url:"/collections/api/subscriptions/",method:"DELETE",contentType:"application/json",data:JSON.stringify(this.toSubscriptionJSON()),dataType:"text"}).then((function(){return e.setIsSubscribed(!1)})):Promise.reject(new Error("User is not subscribed"))},toggleSubscription:function(e){var t=this;return void 0===e&&(e=this.isSubscribed()),(e?this.removeSubscription():this.addSubscription()).then((function(){return t.trigger("change:subscription"),t.fetch()}),(function(e){return t.fetch().then((function(){throw e}),(function(t){throw console.error(t),e}))})).catch(c.a.createXHRErrorHandler())},onSubscriptionChange:function(){return this.fetch()},setSubscribeOptions:function(e){this._subscribtionOptions=e},getSubscribeOptions:function(){return this._subscribtionOptions||{}}};function l(){return function(e){var t=e.prototype;Object(r.forEach)(u,(function(e,n){t.hasOwnProperty(n)||(t[n]=e)}))}}},hN3q:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M15.9 4.5C15.9 3 14.4 2 13.3 2c-.8 0-1 .6-1 1.8l-.3 2c-.4 2-1.7 4.5-3 5.3V17c0 2.3.8 3 4 3h3.8c2.1 0 2.7-1.4 2.9-2l.6-.8 1-1.2a3 3 0 0 0 .2-1.7v-.8l.2-.7c.2-.3.3-.7.3-1.3C22 10 21.3 9 19.7 9h-4.2l.4-4.5zM5.5 10A1.5 1.5 0 0 0 4 11.5v7a1.5 1.5 0 1 0 3 0v-7A1.5 1.5 0 0 0 5.5 10z"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},hP3i:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({collectionBanned:"Коллекция заблокирована, поэтому карточки не добавлены",collectionLimit:"Коллекция заблокирована, поэтому карточки не добавлены"})},hPHD:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({browserText:{v:"Bookmarks<br>can be edited<br>in Yandex Browser",r:function(e){return i.createElement(i.Fragment,null,"Bookmarks",i.createElement("br",{}),"can be edited",i.createElement("br",{}),"in Yandex Browser")},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t(["Bookmarks",n("br","",{},[],{view:this}),"can be edited",n("br","",{},[],{view:this}),"in Yandex Browser"])}}})},hV2r:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={};function i(e){if(!e||!e.event)return r;var t=e.event.query;if(!t)return r;var n=Object.keys(t),i=n.filter((function(e){return"_"!==e[0]}));return n.length===i.length?t:i.reduce((function(e,n){return e[n]=t[n],e}),{})}},hYN3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1XU/"),i=n("c+Ap");function a(e){return i.V?e:Object(r.a)("https://collections.yandex.ru",void 0,"")+e}},hfWR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("origin","https://yandex.ru"))},hiE1:function(e,t,n){"use strict";n("j4di"),n("uzv4"),n("kkX7"),n("1kqo");var r=n("PEpF"),i=(Object(r.declMod)({action:"exit"},{block:"user2",elem:"menu-item",attrs:function(){return this.__base.apply(this,arguments)}}),n("LLjh"),n("zfyC"),n("GVJg"),n("EDes"),n("pCKa"));t.a=i.a.applyDecls()},hjO5:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({editorsChoice:"Выбор редакции",editorsChoiceNY:"Новый год 2020"})},hlG7:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M17.3 8H8.7l-.3-1a1.3 1.3 0 0 0-1.2-1H5.7a.7.7 0 0 0 0 1.3h1.5l1.7 6.3a1.3 1.3 0 0 0 1.5 1l6.8-1.2a1.3 1.3 0 0 0 1.1-1.3V9a1 1 0 0 0-1-1zm-9 10a1.3 1.3 0 1 0 0-2.7 1.3 1.3 0 0 0 0 2.7zm6.7 0a1.3 1.3 0 1 0 0-2.7 1.3 1.3 0 0 0 0 2.7z",fill:"#000",fillRule:"evenodd"}))}i.defaultProps={width:"24",height:"24"},e.exports=i,i.default=i},hqMG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("xhsZ"),o=n("T6Rw"),s=n("3WeZ"),c=Object(o.a)((function(e,t){var n,r,o=t.id,c=t.stateKey,u=t.value,l=Object(a.a)(e);return l=i()({},l,((r={})[c]=i()({},l[c],((n={})[o]=i()({},l[c]&&l[c][o],{},u),n)),r)),Object(s.a)(e,{entities:l})}))},htIp:function(e,t,n){"use strict";var r=n("/FG0"),i=n("cDcd"),a=n("JxqJ"),o=n("dQn9"),s=n("50Z2"),c=n("CUhL"),u=Object(a.a)()((function(e){var t=e.resolve,n=e.reject;return i.createElement(c.a,{dialogType:"removeAdd"},i.createElement(o.a,{title:s.title(),description:s.description(),primaryLabel:s.cancelLabel(),secondaryLabel:s.confirmLabel(),onPrimary:function(){n(new Error("don't close dialog"))},onSecondary:function(){t()},onOut:function(){n(new Error("don't close dialog"))}}))}));n.d(t,"a",(function(){return l}));var l=Object(r.a)({dialogComponent:u})},"i+Us":function(e,t,n){"use strict";var r=n("EgTM"),i=n("vB0I"),a=Object(i.a)("channelId",r.a),o=n("cW8/");n.d(t,"a",(function(){return s}));var s=Object(o.a)({channel:a})},i1uP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=2;function i(e,t){return function(){return arguments.length===r?t(e(arguments[0],arguments[1])):t(arguments[0])}}},i5L7:function(e,t,n){},i7uI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("stat"))},"i87+":function(e,t,n){},iABh:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({userVerified:"Verified user",banMore:"Details",banTitle:{v:"This card was recently reported<br>so it cannot be viewed",r:function(e){return i.createElement(i.Fragment,null,"This card was recently reported",i.createElement("br",{}),"so it cannot be viewed")},h:function(e){return(this.isRestored?c:s)(["This card was recently reported",(this.isRestored?o:a)("br","",{},[],{view:this}),"so it cannot be viewed"])}},videoError:"Couldn't upload video",videoWatchExternal:"Перейти на страницу c видео",site:function(e){return"Go to "+u(e.site)},expand:"Expand",loaded:"Uploaded",loadedByUser:"Uploaded by user",savedFromSource:"Saved from ",savedFromParentSource:"Taken from ",removeFromSeries:"Remove from gallery",seriesEditFile:{v:"<em>Select a file</em> or drag and drop it here",r:function(e){return i.createElement(i.Fragment,null,i.createElement("em",{},"Select a file")," or drag and drop it here")},h:function(e){return(this.isRestored?c:s)([(this.isRestored?o:a)("em","",{},["Select a file"],{view:this})," or drag and drop it here"])}},seriesEditTitle:"Add image to gallery",hintLike:'Now you can click "Like"',hintShare:"Now you can add cards to a collection",contestPlace:[function(e){return u(e.count)+" place"},function(e){return u(e.count)+" place"}],cardDescriptionMaxLength:"The maximum description length is 2,048 characters",cardPriceMaxLength:"Максимальная длина цены — 11 символов",cardPriceEmpty:"Цена товара не может быть пустой"})},iFr2:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M22 11.5C22 9.4 20.8 8 18.7 8h-3l.2-2.5c0-2-1.8-3.5-3.6-3.5-1.5 0-1.9.8-2 2.7l-.2 1-.2 1.1c-.3 1.4-1 3-1.7 3.9l-.5-.4c-.4-.2-.9-.3-1.5-.3h-.4c-.6 0-1.1.1-1.5.3a2.3 2.3 0 00-1 1c-.2.4-.3.9-.3 1.5v5.4c0 .6.1 1.1.3 1.5a2.3 2.3 0 001 1c.4.2.9.3 1.5.3h.4c.6 0 1.1-.1 1.5-.3l.6-.5c.7.5 1.7.8 3 .8h4.5c1.5 0 2.5-.6 3.2-1.5l.6-1.2.2-.2.2-.2.4-.3.7-1.1c.4-.8.5-1.3.4-2.2v-.6l.1-.4V13c.3-.5.4-1 .4-1.6zM12 5.9l.2-1 .2-.9c.7 0 1.5.8 1.5 1.5 0 1 0 2-.2 3.4a1 1 0 001 1.1h4c.9 0 1.3.5 1.3 1.5 0 .4 0 .5-.2.9v.1l-.3.8v1.1l-.1 1.2-.5.6-.3.2-.3.4-.6.8c0 .4-.1.5-.3.7-.3.5-.8.7-1.6.7h-4.5C9.5 19 9 18.4 9 17v-4.4c1.3-1 2.5-3.3 2.9-5.4l.2-1.3zm-6.8 6.2l.6-.1h.4l.6.1.1.1.1.6v5.4l-.1.6-.1.1-.6.1h-.4l-.6-.1-.1-.1-.1-.6v-5.4l.1-.6.1-.1z"}))}i.defaultProps={width:"24",height:"24",id:"like-card-24"},e.exports=i,i.default=i},iGfq:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({notify:["Notification","Notifications"]})},iMkj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("80cV"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("comments_count",0))},iROX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("VbXa"),i=n.n(r);function a(e,t,n){Error.call(this,e),this.name=this.constructor.name,this.params=t,this.message=e,this.previous=n,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack}n("VL+A"),a.prototype=Object.create(Error.prototype),a.prototype.constructor=a;var o="PageNotFoundError",s=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.name=o,i}return i()(t,e),t}(a),c=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return i()(t,e),t}(a),u=function(e){function t(t){var n=t.map((function(e){return e.name+" "+e.type})).join();return e.call(this,"Invalid files type: "+n)||this}return i()(t,e),t}(a),l=function(e){function t(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.call.apply(e,[this,"Card with empty content: "+t].concat(r))||this}return i()(t,e),t}(s)},iUTV:function(e,t,n){"use strict";function r(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}}n.d(t,"a",(function(){return r}))},iWNo:function(e,t,n){"use strict";var r,i,a,o,s,c,u,l=n("pVnL"),d=n.n(l),h=n("8OQS"),f=n.n(h),p=n("o0o1"),b=n.n(p),m=n("VbXa"),v=n.n(m),g=n("U+yc"),O=n.n(g),_=n("cDcd"),y=n("JxqJ"),C=n("LH8O"),E=n("QodL"),j=n("y1pN"),S=n("bceo"),w=n("2sfb"),k=n("bphC"),I=n("lc+m"),T=n("/KRU"),R=n("i1uP"),L=n("y6Xm"),x=Object(R.a)(I.a,Object(L.a)("info_id")),D=n("Jxqj"),N=n("nmYb"),A=n("oBAa"),P=n("U9Ap"),B=n("x9gI"),M=n("XPFG"),U=n("PWnn"),F=n("MTjZ"),V=n("RouB"),H=n("nUi2"),W=n("jksR"),z=n("zT9S"),K=n("WyUc"),Y=n("ICaW"),q=n("AF+Z"),G=n("eD6j"),X=n("4lBT"),J=n("FH3s"),Z=n("cYeE"),Q=n("l61k"),$=n("1WnH"),ee=n("1RGr"),te=n("irYq"),ne=n("hPHD");n.d(t,"a",(function(){return ie}));var re=(r=Object(C.a)(),i=Object(C.a)(),a=Object(C.a)(),o=Object(C.a)(),s=Object(C.a)(),c=Object(C.a)(),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).inProgress=!1,t}v()(t,e);var n=t.prototype;return n.showDebugInfo=function(){var e=this.props,t=e.cardId,n=e.infoId;this.props.dispatch(Object($.a)({type:E.c.DEBUG_INFO,animationType:E.a.MODAL,options:{infoId:n,cardId:t}}))},n.hideCard=function(){this.setReason(K.a.HIDE).catch((function(e){return console.error(e)}))},n.setReason=function(e){var t,n,r;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.inProgress){i.next=2;break}return i.abrupt("return");case 2:return t=this.props,n=t.cardId,r=t.dispatch,i.prev=3,this.inProgress=!0,i.next=7,b.a.awrap(r(Object(Z.a)({id:n,stateKey:"cards",reason:e})));case 7:return i.prev=7,this.inProgress=!1,i.finish(7);case 10:case"end":return i.stop()}}),null,this,[[3,,7,10]])},n.unsubUser=function(){var e=this.props.cardOwner;this.unsubscribe(e.id,"users").catch((function(e){return console.error(e)}))},n.unsubBoard=function(){this.unsubscribe(this.props.boardId,"boards").catch((function(e){return console.error(e)}))},n.unsubChannel=function(){var e=this.props.reason,t=e&&e.channel&&e.channel.slug;this.unsubscribe(t,"channels").catch((function(e){return console.error(e)}))},n.unsubscribe=function(e,t){var n,r,i;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=this.props,r=n.dispatch,i=n.counter,!this.inProgress){a.next=3;break}return a.abrupt("return");case 3:if(!e){a.next=16;break}return a.prev=4,this.inProgress=!0,a.next=8,b.a.awrap(r(Object(Q.a)({storeKey:t,id:e,isSubscribed:!1,counter:i,showNotification:!0})));case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),console.log(a.t0);case 13:return a.prev=13,this.inProgress=!1,a.finish(13);case 16:case"end":return a.stop()}}),null,this,[[4,10,13,16]])},n.callComplain=function(){var e=this.props,t=e.dispatch,n=e.cardId,r=e.counter;return t(Object(J.b)({id:n,type:J.a.default,storeKey:"cards",counter:r}))},n.getKebabList=function(){var e=this.props,t=e.cardId,n=e.isMyCard,r=e.isMyBoard,i=e.isAuthorized,a=e.isProfileCompanyParticipant,o=e.isBoardSubscribed,s=e.isUserSubscribed,c=e.isBoardCoauthor,u=e.showDebugInfo,l=e.disableBulk,d=e.hasBulkExp,h=e.reason,f=e.dispatch,p=e.counter,b=[],m={onClick:function(){return f(Object(q.a)(t))},title:te.edit(),e2eLabel:"edit"},v={onClick:function(){return f(Object(X.a)({cardId:t}))},title:te.delete(),e2eLabel:"delete"};return u&&b.push({onClick:this.showDebugInfo,title:te.debugInfo()}),n?(i&&(b.push({onClick:function(){return f(Object(G.b)({cardId:t}))},title:te.move(),e2eLabel:"move"}),b.push(m),d&&!l&&b.push({onClick:function(){f(Object($.a)({id:"modal_bulk",type:E.c.BULK,animationType:E.a.NONE,preventOverlay:!0,options:{counter:p,id:t}}))},title:te.bulk(),e2eLabel:"bulk"})),b.push(v)):r?b.push(v):a?(b.push(m),b.push(v)):(b.push({onClick:this.hideCard,title:te.hide(),e2eLabel:"hide"}),c||b.push({onClick:this.callComplain,title:te.complain(),e2eLabel:"complain"})),o&&b.push({onClick:this.unsubBoard,title:te.unsubBoard(),e2eLabel:"unsubBoard"}),s&&b.push({onClick:this.unsubUser,title:te.unsubUser(),e2eLabel:"unsubUser"}),h&&h.reason===z.a.CHANNEL_SUBSCRIPTION&&b.push({onClick:this.unsubChannel,title:te.unsubChannel(),e2eLabel:"unsubChannel"}),b},n.render=function(){var e=this.props.isCardReadonly,t=this.props,n=(t.counter,f()(t,["counter"]));return _.createElement(ee.a,d()({},n,{list:e?[]:this.getKebabList()}),e&&_.createElement("div",{className:"cl-popup-menu__desc"},ne.browserText.r()))},t}(_.PureComponent),O()(u.prototype,"showDebugInfo",[r],Object.getOwnPropertyDescriptor(u.prototype,"showDebugInfo"),u.prototype),O()(u.prototype,"hideCard",[i],Object.getOwnPropertyDescriptor(u.prototype,"hideCard"),u.prototype),O()(u.prototype,"unsubUser",[a],Object.getOwnPropertyDescriptor(u.prototype,"unsubUser"),u.prototype),O()(u.prototype,"unsubBoard",[o],Object.getOwnPropertyDescriptor(u.prototype,"unsubBoard"),u.prototype),O()(u.prototype,"unsubChannel",[s],Object.getOwnPropertyDescriptor(u.prototype,"unsubChannel"),u.prototype),O()(u.prototype,"callComplain",[c],Object.getOwnPropertyDescriptor(u.prototype,"callComplain"),u.prototype),u),ie=Object(y.b)((function(e,t){var n=t.cardId,r=Object(I.a)(e,n),i=Object(D.a)(e,n),a=Object(F.a)(e),o=Object(T.a)(e,n),s=Object(j.a)(e,o),c=Object(M.a)(o),u=x(r);return{boardId:c,cardOwner:i,infoId:u,isAuthorized:Object(V.a)(a),isBoardCoauthor:Object(S.a)(o),isBoardSubscribed:Object(w.a)(o),isCardReadonly:Boolean(Object(A.a)(r)),isMyBoard:Object(k.a)(e,c),isProfileCompanyParticipant:Object(H.a)(s),isMyCard:Object(P.a)(e,n),isUserSubscribed:Object(W.a)(i),reason:Object(N.a)(e,n),showDebugInfo:Object(U.a)(e,n,u),hasBulkExp:Object(B.a)(e,Y.a.COLLECTIONS_DESKTOP_BULK)}}))(re)},iXZa:function(e,t,n){},idzK:function(e,t,n){"use strict";n.r(t);var r=n("EVdn"),i=n.n(r),a=n("jOGB"),o=n("CmRB"),s=n("v8AM"),c=n.n(s);window.$=window.jQuery=i.a,window.Marionette=a.d,window.Backbone=o.b,window._=c.a,window.Promise=Promise,i.a.ajaxSettings.traditional=!0},"ie+5":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({address:"Address",phone:"Telephone",website:"Website",workingHours:"Open"})},igqB:function(e,t,n){},iipH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("+wVo"),i=n("We6+"),a=Object(i.a)(r.a)},ikWr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("description"))},irOb:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M-22 2c0-1.1.9-2 2-2H0A2 2 0 0 1 2 1.2l3.7 8a2 2 0 0 1 0 1.6l-3.7 8A2 2 0 0 1 0 20H-20a2 2 0 0 1-2-2V2z",fillRule:"nonzero"}))}i.defaultProps={width:"6",height:"20"},e.exports=i,i.default=i},irYq:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({cancel:"Cancel",delete:"Delete",complain:"Report",search:"Search",unlock:"Make visible to everyone",move:"Move",bulk:"Select multiple items",save:"Save",like:"Like",cardRemove:"Remove card",add:"Add",share:"To collection",edit:"Edit",open:"Open",unsubUser:"Unsubscribe from user",unsubBoard:"Unsubscribe from collection",unsubChannel:"Unsubscribe from topic",debugInfo:"Why are you showing me this?",hide:"Hide card",backToCollection:"Вернуться в коллекцию"})},iurk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("service"))},ivQ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=/^https?:\/\/.+/i;function i(e){return r.test(e)}},iw2m:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("qhb3");function i(e,t){var n=r,i=t.prefix||"",a=t.eventName,o=n[a+i+e]||n[a+e]||n["default"+e];return o?o(t):""}},iwIO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("6ga4"),s=n("6huc"),c=n("0MRR"),u=n("az6Z"),l=function(e){var t=e.mods,n=e.className,r=e.content,l=e.rating,d=e.useType,h=void 0===d||d;if(!r)return null;var f=Object(s.a)(r),p=!1;return h&&(p=f),a.createElement(c.a,i()({},e,{mods:i()({type:p},t),className:Object(o.a)("cl-picture-media",{},n)}),l&&a.createElement(u.a,{rating:l}))}},ixsu:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("GhlN"),s=function(e){var t,n=e.mod,r=e.mods,s=e.className,c=e.alt,u=e.src,l=e.srcSet,d=e.crossOrigin,h=e.type,f=e.label,p=e.style,b=e.imageStyle,m=e.children,v=e.onImageError,g=e.onImageLoad,O=e.onImageRef,_=e.linkFactory,y=Object(o.a)("cl-picture",i()(((t={})[n]=Boolean(n),t.type=h,t),r),s),C=u&&a.createElement("img",{className:"cl-picture__image",alt:c,src:u,srcSet:l,style:b,crossOrigin:d,ref:O,onLoad:g,onError:v}),E=a.createElement(a.Fragment,null,_?_({children:C,className:"cl-picture__link"}):C);return a.createElement(a.Fragment,null,a.createElement("div",i()({className:y,style:p},e.props),m?a.createElement("div",{className:"cl-picture__wrap"},E,m):E),f)}},izju:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="BOOK"]="book"]=t,e[e[t="FILM"]="film"]=t,e[e[t="GEO"]="geo"]=t,e[e[t="IMAGE"]="image"]=t,e[e[t="LINK"]="link"]=t,e[e[t="ORGANIZATION"]="organization"]=t,e[e[t="SERIES"]="series"]=t,e[e[t="VIDEO"]="video"]=t,e[e[t="NEWS"]="news"]=t,e[e[t="PRODUCT"]="product"]=t,e}({})},j1o0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3lXt"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){return Boolean(e&&(e.ban||e.complaint))}))},j2mZ:function(e,t,n){},j3NW:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("1H70"),c=n("c+Ap"),u=function(e,t){return e[e[t="NEXT"]=1]=t,e[e[t="PREV"]=-1]=t,e}({}),l=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n.setCount=function(e){this.getCount()!==e&&(this._count=e,this.trigger("pagination:change:count"))},n.getCount=function(){return this._count},n.setFullyLoaded=function(){this._isFullyLoaded=!0},n.getNext=function(){return this._next},n.setNext=function(e){this._next=e},n.getPrev=function(){return this._prev},n.setPrev=function(e){this._prev=e},n.isEmpty=function(){return this.isFullyLoaded()&&!this.length},n.isFullyLoaded=function(){return!this._latestFetch&&Boolean(this._isFullyLoaded)},n.isPrevFullyLoaded=function(){return!this._latestFetch&&Boolean(this._isPrevFullyLoaded)},n.isLoading=function(){return Boolean(this._latestFetch)},n.getPageSize=function(){var e=this._iterator?this._iterator.params:void 0;return e&&e.page_size?Number(e.page_size):c.o},n.hasIterator=function(){return Boolean(this._iterator)},n.iteratorReset=function(e,t){var n=this.transformFetchData(e,t),r=this.transformFetchOptions(n,t);return this._iterator={params:n,options:r},this.iteratorRewind()},n.iteratorClean=function(){this._iterator=void 0,this._isFullyLoaded=!1,this._isPrevFullyLoaded=!1,this.setNext(void 0),this.setPrev(void 0)},n.iteratorRewind=function(){if(!this._iterator)throw new Error("Collection iterator not initialized yet");var e=this._iterator,t=e.params,n=e.options;return this._isFullyLoaded=!1,this._isPrevFullyLoaded=!1,this.setNext(t),this.setPrev(void 0),this._iteratorFetch(t,i()({reset:!0},n))},n.fetchNext=function(){if(!this._iterator)throw new Error("Collection iterator not initialized yet");if(this.isFullyLoaded())return this._warn("Pagination.fetchNext for fully loaded collection");var e=this.getNext(),t=this._iterator.options;return e?this._iteratorFetch(e,t):this._warn("Pagination.fetchNext fetch params is empty")},n.fetchPrev=function(e){var t=void 0===e?{}:e,n=t.force,r=t.forceParams;if(!this._iterator)throw new Error("Collection iterator not initialized yet");if(this.isPrevFullyLoaded()&&!n)return this._warn("Pagination.fetchPrev for fully loaded collection");var a=this.getPrev(),o=this._iterator.options;if(!a){if(!n)return this._warn("Pagination.fetchPrev fetch params is empty");a=r}return this._iteratorFetch(a,i()({disablePreflight:!0,at:0,merge:!0,iterator:u.PREV},o))},n._iteratorFetch=function(e,t){var n=this;return!this._latestFetch||t&&t.reset?(this._latestFetch=this.fetch(i()({data:e,remove:!1,parse:!0,iterator:u.NEXT},t)),this._latestFetch.then((function(e){n._latestFetch=null,t&&t.fetchLimit&&t.fetchLimit<=n.size()&&n.setFullyLoaded(),n.trigger("pagination:fetch");var r=e&&e.results&&0===e.results.length;return!n.isFullyLoaded()&&r?n.fetchNext():n})).catch((function(e){throw 0!==e.status&&(n._isFullyLoaded=!0,n._isPrevFullyLoaded=!0,n.setNext(void 0),n.setPrev(void 0)),n._latestFetch=null,e}))):this._latestFetch.catch((function(){})).then((function(){return n.fetchNext()}))},n.transformFetchData=function(e){return e},n.transformFetchOptions=function(e,t){return t},n.parse=function(e,t){return e.results?(this.setCount(e.count),e.iterator&&this.restorePagination(e),t&&t.iterator&&((t.iterator===u.PREV||t.reset)&&this.setPrev(e.previous),(t.iterator===u.NEXT||t.reset)&&this.setNext(e.next),this._latestFetch=null,this._isFullyLoaded=!this.getNext(),this._isPrevFullyLoaded=!this.getPrev(),(!e.results.length||!e.next&&this.size())&&this.setCount(this.size()+e.results.length)),e.results):e},n.serializePagination=function(){function e(e){return e||void 0}return{iterator:this._iterator,count:this.getCount(),prev:e(this.getPrev()),next:e(this.getNext())}},n.restorePagination=function(e){this._iterator=e.iterator,this.setCount(e.count),this.setPrev(e.prev),this.setNext(e.next),this._isFullyLoaded=!this.getNext(),this._isPrevFullyLoaded=!this.getPrev()},n._warn=function(e){return console.warn(e),Promise.resolve(this)},t}(s.a)},j3kT:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,i=n("pVnL"),a=n.n(i),o=n("VbXa"),s=n.n(o),c=n("SiKM"),u=n("aqFj"),l=n("n73F"),d=n("mdRN"),h=n("K9S7"),f=n("c+Ap"),p=n("/bNA"),b={page_size:f.o,previews_count:f.J,sort:"-service.updated_at"},m=Object(d.a)({url:"/collections/api/boards/",model:l.a})(r=Object(h.a)()(r=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.getCount=function(){return e.prototype.getCount.call(this)+this.filter((function(e){return e.id.includes("/")})).length},n.initialize=function(t,n){var r=this;e.prototype.initialize.call(this,t,n),this.listenTo(p.a,"board:create",this.onGlobalBoardCreate),this.on("change:complaint",(function(e){r.remove(e)}))},n.onGlobalBoardCreate=function(e){this.isCurrentUserBoards()&&(this.add(e,{at:0}),this.setCount(this.getCount()+1))},n.createEmptyBoard=function(e,t){return this._prepareModel(a()({},e),t)},n.transformFetchOptions=function(e,t){var n=Object.assign({},t);return e&&e.text&&!t.url&&(n.url="/collections/api/boards/search/"),n},n.fetchCurrentUserBoards=function(e){return this.fetchWithOptions(a()({},e?{saveable_for_source_type:e}:{},{add_default:!0}))},n.fetchByLogin=function(e,t,n){return e?this.fetchWithOptions(Object.assign({},t,{"owner.login":e,parent:"null"}),n):Promise.resolve(this)},n.fetchByTitleAndLogin=function(e){var t=e.login,n=e.title;return t&&n?this.fetchWithOptions({"owner.login":t,parent:"null",title:n}):Promise.resolve(this)},n.fetchWithOptions=function(e,n){var r=void 0===n?{}:n,i=r.create,a=void 0!==i&&i,o=r.disablePreflight,s=void 0!==o&&o,u=r.ignoreDefaultParams;return void 0!==u&&u||(e=Object.assign({},this.fetchParams||b,e)),e=Object(c.omit)(e,c.isNull),JSON.stringify(this.oldFetchParams)!==JSON.stringify(e)?(this.oldFetchParams||(a=!1),a?t.factory({request:this.getRequestAdapter()}).fetchWithOptions(e):(this.fetchParams=this.oldFetchParams=e,this.iteratorReset(this.fetchParams,{disablePreflight:s}))):Promise.resolve(this)},n.isCurrentUserBoards=function(){var e=this.currentUser,t=this.fetchParams;return Boolean(e&&t&&t["owner.login"]===e.getLogin())},n.iteratorClean=function(){this.oldFetchParams=null,this.fetchParams=null,e.prototype.iteratorClean.call(this)},n.resetOldFetchParams=function(){return this.reset(),this.oldFetchParams={},this},n.updateDependencies=function(e){var t=e.request,n=e.env,r=e.currentUser;this.setRequestAdapter(t),this.env=n,this.currentUser=r},t.restore=function(e){var t=this.dataFactory(e,{parse:!0});return t.fetchParams=t.oldFetchParams=e.fetchParams,t},t}(u.a))||r)||r},j8Tf:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M16.5 4h-9C6.7 4 6 4.7 6 5.5V19a1 1 0 0 0 1.6.8l4.4-3.6 4.4 3.6A1 1 0 0 0 18 19V5.5c0-.8-.7-1.5-1.5-1.5zM8 17V6h8v11l-2.7-2.3a2 2 0 0 0-2.6 0L8 16.9z",fill:"#000",fillRule:"evenodd"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},jExA:function(e,t,n){},jExO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="add_flow",i="add_flow_internal"},jGRQ:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("gLBg"),c=n("nAK0"),u=n("MTjZ"),l=n("8KBr"),d=n("IWXk"),h=n("CsIx"),f=n("nt9X"),p=n("CHZ4"),b=n("3q8J"),m=n("ZMRC"),v=function(e){var t=e.href,n=e.params,r=e.login,i=e.showName,o=e.displayName,s=e.userAvatar,c=e.isRestricted,u=e.style,l=e.className,d=e.blank,h=e.onClick,f=e.children,p=t;return p||(p=c||!r?Object(b.c)(n):Object(b.e)(r,n)),a.createElement("a",{href:p,className:l,style:u,title:i&&o?o:void 0,target:d?"_blank":void 0,onClick:h},s,i&&a.createElement(m.a,{noWrapper:!0,displayName:o}),f)},g=n("Wopx"),O=n("K7k/");n.d(t,"a",(function(){return y}));var _={isBrowserFavorites:1},y=Object(o.b)((function(e,t){var n=t.userId?Object(d.a)(e,t.userId):Object(u.a)(e),r=Object(p.a)(e,s.a.ADD_FLOW),a=Object(g.a)(e),o=a.isYandexAppMultiMorda,c=a.isYandexApp,b=a.isYandexRecent,m=a.isMultiMordaApp,v=a.utm,y=Object(f.a)(n),C=t.blank||Boolean(r||m||b),E=b?i()({},v,{},_):v,j=Object(h.a)(n)||!y?Object(s.z)(E):Object(s.L)(y,E);return{href:j&&(o||c&&b)?Object(O.a)(j):j,blank:C,login:y,displayName:Object(l.a)(n)||""}}))((function(e){return a.createElement(v,i()({onClick:function(t){c.d.clickUser(i()({},e.counter,{userLogin:e.login})),e.onClick&&e.onClick(t)}},e))}))},jOGB:function(e,t,n){"use strict";var r=n("i35k"),i=n("LPcz"),a=n("Zlwl");n.d(t,"a",(function(){return a.a}));var o=n("dTt+"),s=n("zbeB"),c=n("U60d");n.d(t,"c",(function(){return c.a}));var u=n("P/0C"),l=n("X/zs");n.d(t,"b",(function(){return l.a}));var d=n("/MON"),h=n("bNAM"),f=n("uL7A"),p={Controller:r.a,Object:i.a,Behavior:a.a,View:o.a,ItemView:s.a,LayoutView:c.a,CompositeView:u.a,CollectionView:l.a,Region:d.a,RegionManager:h.a,getOption:f.d};t.d=p},jQwR:function(e,t,n){},jXGm:function(e,t,n){},jgrJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),a=n("cDcd"),o=n("faye"),s=n("/MKj"),c=n("4RqY"),u=!1,l=Object(c.a)((function(e,t){var n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.di,r.abrupt("return",new Promise((function(t,r){var c,l,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(!u){f.next=4;break}r(new Error("modal dialog in progress")),f.next=13;break;case 4:return c=function(){Object(o.unmountComponentAtNode)(d),document.body.removeChild(d),u=!1},f.next=7,i.a.awrap(n("redux"));case 7:l=f.sent,d=document.createElement("div"),u=!0,document.body.appendChild(d),h=Object(a.createElement)(s.Provider,{store:l},a.cloneElement(e,{resolve:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c(),t(e)})),reject:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c(),r(e)}))})),Object(o.render)(h,d);case 13:case"end":return f.stop()}}))})));case 2:case"end":return r.stop()}}))}))},jjJ1:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/a3e1.gif"},jksR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("is_subscribed"))},jm6t:function(e,t,n){"use strict";function r(e){return"photo-of-the-day"===e.id}n.d(t,"a",(function(){return r}))},jmcv:function(e,t,n){},jwGQ:function(e,t,n){"use strict";var r=n("hHB1");t.a=r.a.applyDecls()},"k/eQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Y+Td");function i(e,t){return void 0===t&&(t={}),function(n,i,a){return{configurable:!0,enumerable:a.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:a.enumerable,value:Object(r.debounce)(a.value.bind(this),e,t)}),this[i]}}}}},k0aB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dNc+"),i=n("3lXt"),a=n("80YD"),o=Object(a.a)(i.a,r.a)},k7Yw:function(e,t,n){},kKIY:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("stuq"),i=n("uaqs"),a=n("mPQA"),o={RUB:"% ₽",RUR:"% ₽",BYN:"% б. р.",BYR:"% б. р.",USD:"$ %",EUR:"% €"};function s(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),!e||!n&&!e.price)return null;var s=e.currency,c=e.price,u=e.precise;if(!c&&n)return u?a.marketNoPriceFull.r():a.marketNotPrecise.r();var l=Object(r.a)(Math.round(Number(c))),d=o[s];if(Object(i.a)(s))return t?a.marketTeaserPriceRouble.r({price:l}):a.marketTeaserPriceRoubleShort.r({price:l});var h=d?d.replace("%",l):l+" "+s;return t?a.marketTeaserPrice({price:h}):h}},kWnB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("om3R"),i=n("Opci"),a=n("cX81");function o(e,t){if(e){if(!(e instanceof a.a))return Object(i.a)(Object(r.a)(e),t);var n=e.getFirstContent();if(n)return Object(i.a)(n.toJSON(),t)}return Object(i.a)(void 0,t)}},kdr8:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n("pVnL"),i=n.n(r),a=n("qDXE"),o=n("7hiN"),s=n("P34R"),c=n("wy9A"),u=n("nAK0"),l=n("riXN");function d(e,t){var n,r=e.env,d="function"==typeof t?t.call(e,e,r):t,h=i()({env:r},d,{mode:d.mode||c.a.AUTH});if(n=h.loc?h.loc:r.isEmbed?"embed":r.isShare?"share":"outer",u.d.clickUserAuth({loc:n,mode:h.mode}),r.isEmbed)l.a.showLoginWindow(r,h);else{var f=l.a.authUrl(h);Object(s.a)(r)||Boolean(r&&r.isYandexRecent)?Object(o.a)(f,r):"_parent"!==h.target?"_blank"!==h.target?Object(a.a)(f):window.open(f,h.target):parent.location.href=f}}var h=function(e,t){var n,r=t,i={},a=function(){return!0};"object"==typeof t&&t&&(r=t.methodName,i=t.methodOptions,n=t.permission,t.check&&(a=t.check));var o=e.prototype[r];o&&(e.prototype[r]=function(){var e=this.getEnv(),t=e.currentUser,r="function"==typeof n?n(this):n,s=r?e.hasAccess(r):t.isAuthorized();if(s=s&&a(this)){for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];o.call.apply(o,[this].concat(u))}else d(this,i)})};function f(e,t){return function(n){Array.isArray(e)?e.forEach((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,[n].concat(t))})):h(n,t&&"string"==typeof e?{methodName:e,methodOptions:{passportLoc:t}}:e)}}},ko4N:function(e,t,n){"use strict";n("rpDg"),n("lhyZ").a.applyDecls()},kqS7:function(e,t,n){},kxMj:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({boards:"Collections",channels:"Topics",authors:"Contributors",cards:"Cards",myCards:"My cards",allFoundBoards:"All collections that were found"})},kxd7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=Object(a.a)((function(e,t){var n,r=t.storeKey,a=t.id,o=e[r];return o&&o.results?i()({},e,((n={})[r]=i()({},o,{results:o.results.filter((function(e){return e.id!==a}))}),n)):e}))},"l+/f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7kld");function i(e){return Boolean(Object(r.a)(e))}},l2Z7:function(e,t,n){},l61k:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("xalX"),c=n("QodL"),u=n("w1Ut"),l=n("y1pN"),d=n("WLYw"),h=n("hfWR"),f=n("MTjZ"),p=n("nt9X"),b=n("RouB"),m=n("c+Ap"),v=n("gLBg"),g=n("/bNA"),O=n("+3en"),_=n("W+cT"),y=n("x9gI"),C=n("+r4z"),E=n("ICaW"),j=n("4RqY"),S=n("gF9f"),w=n("CYZy"),k=Object(j.a)((function(e,t){var n=e.id,r=e.isSubscribed,i=e.counter,a=t.getState,o=t.dispatch,s=a(),c=Object(C.a)(s);if(r&&c===v.a.BOARD){var u=Object(O.a)(s)||{id:null},l=Object(y.a)(s,E.d.COLLECTIONS_RECOMMENDATION_AFTER_SUBSCRIPTION),d=Object(_.a)(s,"shakerEntries")||[],h=i.subscribeButtonPlace&&"header"===i.subscribeButtonPlace;l&&h&&n===u.id&&(d.find((function(e){return e.type===w.a.SIMILAR_BOARDS_AFTER_SUBSCRIPTION}))||(d=[{storeKey:"boardSimilarAfterSubscription",type:w.a.SIMILAR_BOARDS_AFTER_SUBSCRIPTION,start:0,step:1,items:[{id:"afterSubscription/"+n+"/"+Date.now()}]}].concat(d),o(Object(S.a)({shakerEntries:{results:d}}))))}})),I=n("IWXk"),T=n("8KBr"),R=n("rreP"),L=n("4EGB"),x={channels:function(e){return e?L.channelSubscribed.r:L.channelUnsubscribed.r},boards:function(e){return e?L.boardSubscribed.r:L.boardUnsubscribed.r},users:function(e){return e?L.userSubscribed.r:L.userUnsubscribed.r}},D={channels:function(e,t){return{channel_url:Object(h.a)(t)+Object(v.m)(e.slug),channel_title:e.title}},boards:function(e,t){var n=Object(I.a)(t,e.owner.id)||{};return{board_url:Object(h.a)(t)+Object(v.f)(n.login,e.slug),board_title:e.title}},users:function(e,t){return{user_url:Object(h.a)(t)+Object(v.L)(e.login),user_display_name:Object(T.a)(e)}}},N=Object(j.a)((function(e,t){var n=e.storeKey,r=e.entity,i=e.isSubscribed,a=t.dispatch,o=(0,t.getState)(),s=D[n](r,o),c=x[n](i)(s);c&&a(Object(R.a)({message:c}))})),A=n("S7YN"),P=n("pLEp"),B=n("1WnH"),M=n("om3R"),U=n("pzCj");function F(e){return e&&e.content&&e.content.group_id}var V=n("dEsh");function H(e){return Boolean(F(e))}var W,z,K,Y,q,G,X,J,Z=n("Qtgv"),Q=n("i1uP"),$=Object(Q.a)(I.a,Z.a),ee=n("sioy"),te=Object(j.a)((function(e,t){var n,r,a,o,s,c,u,l,d,h;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.dispatch,a=t.di,e.next=3,i.a.awrap(a("request"));case 3:if(o=e.sent,s=n(),(c=Object(f.a)(s))&&c.id){e.next=8;break}return e.abrupt("return");case 8:if((u=$(c))&&u.length){e.next=20;break}return l=Object(p.a)(c),e.prev=11,e.next=14,i.a.awrap(o.get("/collections/api/cards/",{data:{"owner.login":l,sort:"-service.created_at",page_size:3}}));case 14:(d=e.sent).results&&d.results.length&&(h=[],d.results.forEach((function(e){var t=Object(M.a)(e);H(t)&&Object(V.a)(t)&&h.push({id:t.id,image:{group_id:F(t),avatars_key:Object(U.a)(t)}})})),r(Object(ee.a)({id:c.id,value:{card_previews:h}}))),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(11);case 20:case"end":return e.stop()}}),null,null,[[11,18]])})),ne=n("nAK0"),re=n("n73F"),ie=n("VbXa"),ae=n.n(ie),oe=n("SiKM"),se=n("Iv6v"),ce=n("gl2N"),ue=n("mdRN"),le=n("K9S7"),de=n("hKrz"),he=((K={}).ban=((W={}).card={reason:"Предписания РКН по 139 ФЗ",applicable_to:"this",move:!1,notify:!0,comment:""},W.board={reason:"Предписания РКН по 139 ФЗ",move:!1,notify:!0,comment:""},W.user={reason:"Предписания РКН по 139 ФЗ",notify:!0,comment:"",restrict:"commenting"},W),K.unban=((z={}).card={reason:"Обращение в ФОС",notify:!0,comment:""},z.board={reason:"Обращение в ФОС",notify:!0,comment:""},z),(Y={}).card=function(e){return e.params?e.params.id:""},Y.board=function(e){return e.params?{owner_login:e.params.login,slug:String(e.params.slug)}:""},Y.user=function(e){return e.params?e.params.login:""},(q={}).card="/collections/card/:id/",q.board="/collections/user/:login/:slug/",q.user="/collections/user/:login/","size1x1"),fe=[he,"size1x2","size2x2","size2x3","sizeWx2"],pe=((G={})[he]="S",G.size1x2="M",G.size2x3="L",(X={})[he]={width:507,height:237},X.size1x2={width:507,height:477},X.size2x3={width:1017,height:717},n("iROX")),be=Object(le.a)()(J=Object(de.a)()(J=Object(ue.a)({urlRoot:"/collections/api/channels/",idAttribute:"slug",defaults:{aliases:[],short_title:"",stat:{subscribers_count:0}}})(J=function(e){function t(){return e.apply(this,arguments)||this}ae()(t,e);var n=t.prototype;return n.getTitle=function(){return this.get("title")},n.setTitle=function(e){this.set("title",e)},n.getDescription=function(){return this.get("description")},n.setDescription=function(e){this.set("description",e)},n.getSlug=function(){return this.get("slug")},n.getAliases=function(){return this.get("aliases")},n.getStat=function(){return this.get("stat")},n.setSlug=function(e){this.set("slug",e)},n.getImages=function(){return this.get("images")},n.setImages=function(e){this.set("images",e)},n.getContents=function(){var e=this.getImages();return fe.map((function(t){return e[t]}))},n.toSubscriptionJSON=function(){return{"channel.slug":this.getSlug()}},n.getContent=function(e){void 0===e&&(e=m.f);var t=this.getImages();return t&&t[e]},n.getVerticals=function(){return this.get("verticals")},n.getFirstVertical=function(){var e=this.getVerticals();return e&&e[0]},n.parse=function(e,t){void 0===t&&(t={});var n=t.request||this.getRequestAdapter();return e.images=e.images||{},e.verticals&&e.verticals.length&&"retsepty"===e.verticals[0].slug&&(e.verticals[0].slug="eda"),fe.forEach((function(t){e.images[t]instanceof ce.a||(e.images[t]=ce.a.dataFactory(e.images[t]||{},{request:n,parse:!0}))})),e},n.setRequestAdapter=function(t){var n=this.getImages();return n&&keys(n).forEach((function(e){n[e]&&n[e].setRequestAdapter&&n[e].setRequestAdapter(t)})),e.prototype.setRequestAdapter.call(this,t)},n.toJSON=function(){var t=e.prototype.toJSON.call(this),n=this.getImages();return n&&(t.images=Object(oe.mapValues)(n,(function(e){return e instanceof ce.a?e.toJSON():e}))),t},n.clone=function(){var t=e.prototype.clone.call(this);return t.setImages(Object(oe.mapValues)(this.getImages(),(function(e){return e instanceof ce.a?e.clone():Array.isArray(e)?e.map((function(e){e.clone()})):void 0}))),t},n.save=function(t,n,r){var i,a=this;return i=this.getContents().map((function(e){return e&&e._contentPromise?e._contentPromise:Promise.resolve()})),Promise.all(i).then((function(){return e.prototype.save.call(a,t,n,r)}))},n.getReloadUrlParams=function(){return{name:"channel",params:{id:this.getSlug(),hintAction:m.u.channelSubscribe,hintTarget:this.getHintTarget()}}},n.getHintTarget=function(){return this.getSlug()},n.updateDependenciesFromEvent=function(e){var t=e.request,n=e.baseState,r=e.event.params.id,i=this.constructor;if(this.setRequestAdapter(t),n.setChannel(this),this.getId()!==r){var a=i.dataFactory({slug:r},{request:t});return n.setChannel(a),a.fetch().then((function(){return a})).catch((function(e){throw 404===e.status?new pe.e("Channel "+r+" not found",{},e):e}))}},t.restore=function(e){return this.dataFactory(e,{parse:!0})},t}(se.a))||J)||J)||J,me=n("SUYq"),ve=n("QEzC");n.d(t,"a",(function(){return Te}));var ge={channels:function(e){return{channelSlug:e.slug,recId:e.recommendations_id}},boards:function(e){return{boardId:e.id,recId:e.recommendations_id}},users:function(e){return{userLogin:e.login}}},Oe={channels:ne.d.clickChannelSubscribe,boards:ne.d.clickBoardSubscribe,users:ne.d.clickUserSubscribe},_e={channels:ne.d.finishChannelSubscribe,boards:ne.d.finishBoardSubscribe,users:ne.d.finishUserSubscribe},ye={channels:function(e){return{storeKey:"channel",url:"/collections/api/channels/"+encodeURIComponent(e),query:{}}}},Ce={channels:function(e){return{"channel.slug":e.slug}},boards:function(e){return{"board.id":e.id}},users:function(e){return{"user.id":e.id}}},Ee={channels:"channel_subscriptions",boards:"board_subscriptions",users:"user_subscriptions"},je={channels:"subscribers_count",boards:"subscribers_count",users:"subscribers"},Se={channels:"stat",boards:"stat",users:"stats"},we={boards:k},ke={channels:be,boards:re.a,users:me.a},Ie={channels:function(e,t){return Object(v.m)(e.slug,t)},boards:function(e,t,n){var r=Object(l.a)(n,e.id),i=Object(p.a)(r),a=Object(d.a)(e);if(i&&a)return Object(v.f)(i,a,t)},users:function(e,t){return Object(v.L)(e.login,t)}},Te=Object(j.a)((function(e,t){var n,r,a,l,d,p,v,O,_,y,C,E,j,S,w,k,I;return i.a.async((function(T){for(;;)switch(T.prev=T.next){case 0:if(n=e.id,r=e.storeKey,a=e.isSubscribed,l=e.showNotification,d=e.counter,p=e.unAuthModalType,v=e.retpath,O=t.getState,_=t.dispatch,y=t.di,E=(C=function(){var e=O().entities[r];return e&&e[n]})()){T.next=14;break}if(!(j=ye[r])){T.next=12;break}return T.next=9,i.a.awrap(_(Object(A.a)(j(n))));case 9:E=C(),T.next=14;break;case 12:return console.error("Only channel fetch implemented"),T.abrupt("return");case 14:if(E){T.next=16;break}throw new Error("Cannot find entity "+r+" "+n);case 16:if(S=O(),w=Object(f.a)(S),Object(b.a)(w)||!a){T.next=22;break}return k=Object(u.a)(),ve.a.setItem("subscribe_hash",k),T.abrupt("return",_(Object(B.a)({type:p||c.c.UNAUTH_SUBSCRIBE,animationType:c.a.MODAL,options:{retpath:v||Object(h.a)(S)+Ie[r](E,{needSubscribe:k},S)}})));case 22:return d=o()({},d,{},ge[r](E),{subscribed:a}),Oe[r](d),_(Object(P.a)({id:n,storeKey:r,value:{is_subscribed:a}})),I=!1,T.abrupt("return",Promise.resolve().then((function(){return y("request")})).then((function(e){return a?e.post("/collections/api/subscriptions/",Ce[r](E)):e.del("/collections/api/subscriptions/",Ce[r](E))})).catch((function(e){if(!(I=e&&e.status===m.v.CONFLICT))throw _(Object(P.a)({id:n,storeKey:r,value:{is_subscribed:!a}})),g.a.showXHRMessage(e),e})).then((function(){var e,t=O(),i=Object(f.a)(t),c=C(),u=Ee[r],h=je[r],p=Se[r],b=we[r];if(!c)throw new Error("Entity lost");var m=I?0:a?1:-1,v=o()({},i.stats,((e={})[u]=Math.max(0,(i.stats[u]||0)+m),e));if(i.id&&(_(Object(ee.a)({id:i.id,value:{stats:v}})),_(te(null))),me.a.dataFactory(Object(s.a)(i),{parse:!0}).set("stats",v),h){var g,y,E,j=o()({},c[p],((g={})[h]=Math.max(0,(c[p][h]||0)+m),g));_(Object(P.a)({id:n,storeKey:r,value:(y={},y[p]=j,y)})),l&&_(N({storeKey:r,entity:c,isSubscribed:a})),ke[r]&&ke[r].dataFactory(Object(s.a)(c),{parse:!0}).set(((E={is_subscribed:a})[p]=j,E)).trigger("change:subscription",{disableNotifications:!0,disableClck:!0})}b&&_(b({id:n,isSubscribed:a,counter:d})),_e[r](d)})));case 27:case"end":return T.stop()}}))}))},l6Du:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("cDcd");function i(e){var t=r.lazy(e);return t.preload=e,t}function a(e){return function(t){return{default:t[e]}}}},lDMf:function(e,t,n){},lPPs:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=n("o/z3"),s=Object(a.a)("title"),c=Object(i.a)(r.a,(function(e){var t=s(e);return""===t?o.emptyCollectionName():t}))},lQce:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pVnL"),i=n.n(r),a=n("hqMG");function o(e){return function(t){var n=function(n){return Object(a.a)(i()({stateKey:e},t))(n)};return n.data=t,n}}},"lc+m":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YFOV"),i=Object(r.a)("cards")},lhXF:function(e,t,n){"use strict";var r,i=n("o0o1"),a=n.n(i),o=n("pVnL"),s=n.n(o),c=n("MTjZ"),u=n("Am/A"),l=n("4RqY"),d=n("sioy"),h=Object(l.a)((function(e,t){var n,i,o,c,u,l,d;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return n=e.value,i=t.di,o=s()({request:"request"},{currentUser:"currentUser"}),h.next=5,a.a.awrap(i(o));case 5:return c=h.sent,u=c.request,l=c.currentUser,d=Promise.resolve(r).then((function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(u.patch("/collections/api/user/",{preferences:n}));case 2:l&&(e=l.getPreferences()).set(e.parse(n));case 3:case"end":return t.stop()}}))})),r=d.catch((function(){})),h.next=12,a.a.awrap(d);case 12:case"end":return h.stop()}}))}));n.d(t,"a",(function(){return f}));var f=Object(l.a)((function(e,t){var n,r,i,o,l,f,p,b,m,v,g;return a.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return r=e.key,i=e.mutation,o=t.getState,l=t.dispatch,f=o(),p=Object(c.a)(f),b=Object(u.a)(p),m=b&&b.general&&b.general[r],v=i(m),g=s()({},b,{general:s()({},b&&b.general,(n={},n[r]=v,n))}),l(Object(d.a)({id:p.id,value:{preferences:g}})),O.prev=9,O.next=12,a.a.awrap(l(h({value:g})));case 12:O.next=18;break;case 14:throw O.prev=14,O.t0=O.catch(9),l(Object(d.a)({id:p.id,value:{preferences:b}})),O.t0;case 18:case"end":return O.stop()}}),null,null,[[9,14]])}))},lm0t:function(e,t,n){"use strict";var r,i=n("Qr5T"),a=n("Oaat"),o=5e3;function s(e){return("complete"===document.readyState?Promise.resolve():(r||(r=Promise.race([Object(a.a)(o),new Promise((function(e){window.addEventListener("load",(function(){return e()}))}))])),r)).then((function(){return Object(i.a)(e)}))}n.d(t,"a",(function(){return s}))},lm6b:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("Wf7Z"),c=n("y1pN"),u=n("WLYw"),l=n("/KRU"),d=n("Pm7h"),h=n("L9DS"),f=n("WSI5"),p=n("t9gz"),b=n("nt9X"),m=n("gLBg"),v=n("wRV7"),g=n("PQ62"),O=n("4RqY"),_=n("3tUY"),y=n("u9cf"),C=n("LXzm"),E=Object(O.a)((function(e,t){var n,r,a,O,E,j,S,w,k,I,T,R,L,x,D,N,A,P;return i.a.async((function(B){for(;;)switch(B.prev=B.next){case 0:if(P=function(e){var t,a,o,d,h,f;return i.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.route,a=e.query,!t||!a){p.next=11;break}return p.next=4,i.a.awrap(O("router"));case 4:return o=p.sent,p.next=7,i.a.awrap(o.navigateToReverse(t,a,{trigger:!1,replace:R}));case 7:return Object(s.a)(r(),{pageName:t,metrika:!0}),p.abrupt("return");case 11:if(!(d=Object(l.a)(L,D.id))){p.next=17;break}if(h=Object(b.a)(Object(c.a)(r(),d)),f=Object(u.a)(L,d.id),!h||!f){p.next=17;break}return p.abrupt("return",n(Object(_.a)({url:Object(m.f)(h,f),replace:R})));case 17:return p.abrupt("return",n(Object(_.a)({url:Object(m.y)()})));case 18:case"end":return p.stop()}}))},n=t.dispatch,r=t.getState,a=t.setState,O=t.di,E=e.gesture,j=e.skipNavigate,S=e.skipStack,w=e.scrollToTop,k=e.unsetCard,I=e.counter,T=e.replace,R=void 0!==T&&T,L=r(),x=Object(p.a)(L),D=Object(d.a)(L),v.a.reset(),D){B.next=10;break}return x.close&&n(Object(C.a)({close:!1})),B.abrupt("return");case 10:if(!(N=x.stack)||!N.length||S||E){B.next=16;break}return A=N[N.length-1],n(Object(C.a)({stack:N.slice(0,-1)})),n(Object(v.b)({stateKey:x.stateKey,cardId:A,counter:o()({},I,{type:"close"})})),B.abrupt("return");case 16:if(Object(f.a)(L)!==m.a.CARD||!x.autoclose){B.next=21;break}return Object(h.a)(),setTimeout((function(){n(Object(C.a)({autoclose:!1})),n(Object(_.a)({url:Object(m.y)()}))}),1e3),B.abrupt("return");case 21:if(k?(L=g.a.reducer(L,{cardId:void 0}),L=y.a.reducer(L,!1),L=C.a.reducer(L,{close:!1})):L=C.a.reducer(L,{gesture:E,initialEvent:void 0,close:!0,scaled:!1,isVoting:!1,stack:[],scrollToTop:w,autoclose:!1}),a(L),j){B.next=26;break}return B.next=26,i.a.awrap(P(o()({},x.initialEvent)));case 26:case"end":return B.stop()}}))}))},lpMR:function(e,t,n){"use strict";function r(e){return!!e&&"video"===e.source_type}n.d(t,"a",(function(){return r}))},lu7j:function(e,t,n){},lv8r:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("EgTM"),i=n("NuA5"),a=Object(i.a)("channel",r.a)},lyF8:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("vmv2"),c=n("3lXt"),u=n("y1pN"),l=n("UQOb"),d=n("+3en"),h=n("VRo3"),f=n("lc+m"),p=n("/KRU"),b=n("om3R"),m=n("tvS1"),v=n("+mVu"),g=n("5+Qg"),O=n("7/cf"),_=n("fD+j"),y=n("FIs7"),C=n("JaHL"),E=n("CZvv"),j=n("izju");function S(e){var t=Object(O.b)(e),n=Object(C.a)(t),r=Object(_.a)(e)===y.a;return n===j.a.IMAGE&&r&&!Object(E.a)(t)}var w=n("cBfX"),k=n("6g1q"),I=n("4gOc"),T=n("XIU/"),R=n("wjhi"),L=n("x9gI"),x=n("XPFG"),D=n("Wopx"),N=n("7JBc"),A=n("+r4z"),P=n("ukm6"),B=n("MTjZ"),M=n("IWXk"),U=n("nt9X"),F=n("nUi2"),V=n("84fb"),H=n("785c"),W=n("aXbB"),z=n("c+Ap"),K=n("ICaW"),Y=n("osxO"),q=n("jExO"),G=n("2/d/"),X=n("gLBg"),J=n("hFHJ"),Z=n("0ikO"),Q=n("YWra"),$=n("xalX"),ee=n("oOFl"),te=n("rANK"),ne=n("euOF"),re=n("nIVP"),ie=function(e){if(e.errors)return Object.keys(e.errors).reduce((function(t,n){return e.errors[n].forEach((function(e){t.push(n+": "+e)})),t}),[])},ae=n("P2hP"),oe=n("Q6yW"),se=n("LyO5"),ce=n("z+Ux"),ue=n("8KwP"),le=n("y144"),de=n("U0LE"),he=n("4RqY"),fe=n("ETjY"),pe=n("V7jS"),be=n("nAK0"),me=n("9yiq"),ve=n("hP3i"),ge="board: Board's cards limit already reached",Oe=Object(he.a)((function(e,t){var n,r,a,s,u,d,f,p,b,m,v,g,_,y,E,j,S,w,I,T,R,L,x,D,N,A,P,B,M,U,F,V,H,W,K,q,G,X,J,Q;return i.a.async((function(he){for(;;)switch(he.prev=he.next){case 0:if(n=t.getState,r=t.dispatch,a=t.di,s=e.counter,u=e.boardId,d=e.isNewBoard,f=e.asCompanyLogin,p=n(),b=Object(O.b)(p),m=Object($.a)(b),v=Object(c.a)(p,u),g=Object(ne.a)(p,u),_=Object(te.a)(p,u),y=Object(C.a)(b),d||be.d.clickBoard(o()({},s,{isDefault:_,boardId:u})),!m||!m.content){he.next=82;break}if(j=[],!m.selected_contents){he.next=82;break}if(m.selected_contents.forEach((function(e){var t=m.content.find((function(t){var n=t.id;return e===n})),n=Object(se.a)(t);t&&j.push(o()({description:t._description||""},n&&n.url?{source_meta:m.source_meta}:{},{content:[{id:e}],board:g?null:u}))})),!j.length){he.next=82;break}return he.next=17,i.a.awrap(a("request"));case 17:return w=he.sent,I=f?"/collections/api/cards/bulk/?"+Object(me.a)({as_company:f}):"/collections/api/cards/bulk/",he.prev=19,he.next=22,i.a.awrap(w.post(I,j));case 22:S=he.sent,he.next=33;break;case 25:if(he.prev=25,he.t0=he.catch(19),r(Object(le.a)({value:{board:void 0}})),he.t0.status!==z.v.BAD_REQUEST){he.next=32;break}S=he.t0.responseJSON,he.next=33;break;case 32:throw new Error("Server error");case 33:if(!S){he.next=82;break}T=0,R=0,L=0,x=[],D=[],N=[],A=[],P=Object.keys(S),B=0;case 43:if(!(B<P.length)){he.next=62;break}if(M=P[B],U=S[M],F=S[M],V=ie(F),U.id&&(T++,r(Object(ce.a)(U)),E=U,H=Boolean(Object(oe.a)(U)),N.push(U.id),A.push(H),be.d.finishCardCreate(o()({},s,{cardId:U.id,seriesCount:U.content?U.content.length:0,isDefault:_,type:y,metaType:Object(ae.a)(U),hasUrl:H}))),!V){he.next=59;break}if(!V.includes("_creation: Violates constraints")){he.next=53;break}return R++,he.abrupt("continue",59);case 53:W=m.selected_contents[M],x.push(W),L++,V.includes("_creation: Unexpected error occurred")&&D.push("_creation: Unexpected error occurred"),V.includes("board: Banned.")&&D.push("board: Banned."),V.includes(ge)&&D.push(ge);case 59:B++,he.next=43;break;case 62:if((K=T+R)>0&&r(Object(de.a)({type:Y.b.ADDED_BULK,data:{boardId:u,count:K}})),!(T>0)){he.next=78;break}if(r(Object(ue.a)(void 0)),r(Object(fe.a)()),r(Object(pe.a)({})),q=Object(l.a)(v),G=Object(ee.a)(v)||0,X=Object(l.a)(n(),u),J=Object(h.a)(v),Q=Object(k.a)(E),!v||!q||X!==q){he.next=76;break}return he.next=76,i.a.awrap(r(Object(Z.a)({id:u,value:o()({cards_count:q+T},J&&Q?{fulfilled_count:G+T}:{})})));case 76:be.d.finishCardsCreate(o()({},s,{cardIds:N.join(","),hasUrls:A.join(","),count:T,isDefault:_,type:y})),be.d.finishCardTech(o()({type:"create",cardIds:N.join(",")},Object(re.a)(p,u)));case 78:if(D.includes("board: Banned.")?r(Object(de.a)({type:Y.b.ERROR,data:{message:ve.collectionBanned()}})):D.includes(ge)&&r(Object(de.a)({type:Y.b.LIMIT_CARDS})),!(L>0)){he.next=82;break}throw r(Object(le.a)({value:{selected_contents:x}})),new Error("Cards partially created");case 82:case"end":return he.stop()}}),null,null,[[19,25]])})),_e=n("PN4Q"),ye=n("WVyS"),Ce=n("Zzog"),Ee=n("0Boe"),je=Object(he.a)((function(e,t){var n,r,a,s,c,u,l,d,h,f,p,b,m,v,g,_,y,E;return i.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(n=e.boardId,r=e.counter,a=e.isNewBoard,s=e.asCompanyLogin,c=t.getState,u=t.di,l=t.dispatch,d=c(),h=Object(O.b)(d),f=Object(ne.a)(d,n),p=Object(te.a)(d,n),a||be.d.clickBoard(o()({},r,{isDefault:p,boardId:n})),(m=Object($.a)(h))&&m.content&&(m.description||(m.description=""),m.selected_contents?m.content=Object(_e.a)(m.content,m.selected_contents):m.content=m.content.map((function(e){return Object(ye.a)(e)}))),!m){S.next=25;break}return m.id===O.a&&delete m.id,v=o()({},m,{},f?{}:{board_id:n}),(g=Object(C.a)(h))===j.a.LINK&&v.board&&delete v.board,S.next=16,i.a.awrap(u("request"));case 16:return _=S.sent,y=g===j.a.LINK?"/collections/api/v1.0/cards/":"/collections/api/cards/",E=Object(Ee.a)(y,{as_company:s}),S.next=21,i.a.awrap(_.post(E,v));case 21:return b=S.sent,Object(Ce.a)(c(),{boardId:n,card:b,counter:r}),l(Object(fe.a)()),S.abrupt("return",b);case 25:case"end":return S.stop()}}))})),Se=n("qtAy"),we=n("93Q7"),ke=n("pLEp"),Ie=Object(he.a)((function(e,t){var n,r,a,o,s;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=e.counter,r=t.getState,a=t.dispatch,o=r(),(s=Object(we.a)(o))&&(be.d.passContestSubmission(n),a(Object(ke.a)({storeKey:"contests",id:s.id,value:{participation:W.b.PENDING}})));case 5:case"end":return i.stop()}}))})),Te=n("3Twp"),Re=n("aKBe"),Le=n("dohL"),xe=n("bphC"),De=n("CHZ4"),Ne=n("fjc+"),Ae=n("Zoo8"),Pe=n("R2yN"),Be=n("u6Zt"),Me=n("V3IX"),Ue=Object(he.a)((function(e,t){var n,r,a,o,s,c,u;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=e.tooltipKey,r=e.experimentFlag,a=t.getState,o=t.dispatch,1===(s=Object(L.a)(a(),r))?o(Object(Me.a)({tooltipKey:n})):2===s&&(c=Object(Pe.a)(a()),(!(u=c[n])||-1!==u&&u<Date.now()/Ae.e)&&o(Object(Be.a)({key:n,value:0})));case 4:case"end":return i.stop()}}))})),Fe=n("lhXF"),Ve=Object(he.a)((function(e,t){var n=t.getState,r=t.dispatch,i=n();if(Object(De.a)(i,X.a.MAIN)&&Object(L.a)(i,K.d.COLLECTIONS_DESKTOP_COAUTHORS_PROMO_MYBOARDS))r(Ue({tooltipKey:Ne.a.MY_BOARDS_COAUTHORS_KEY,experimentFlag:K.d.COLLECTIONS_DESKTOP_COAUTHORS_PROMO_MYBOARDS}));else if(Object(De.a)(i,X.a.BOARD)&&Object(L.a)(i,K.d.COLLECTIONS_DESKTOP_COAUTHROS_PROMO_BOARD)){var a=Object(d.a)(i);Object(xe.a)(i,a)&&r(Object(Fe.a)({key:Ne.a.COAUTHORS_TOOLTIP_KEY,mutation:function(){return 0}}))}})),He=n("SDCS"),We=n("lPPs"),ze=n("rreP"),Ke=n("E097"),Ye=Object(he.a)((function(e,t){var n,r,a,o,s,c,l,d,h,f,b;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=e.card,r=e.asCompanyLogin,a=t.getState,o=t.dispatch,s=a(),c=Object(p.a)(s,n.id),l=Object(u.a)(s,c),d=Object(L.a)(s,K.d.COLLECTIONS_TOOLTIP_COLLECTION_SHARE),c&&l&&(h=d?Object(X.f)(l.login,c.slug,((f={})[Ne.a.SHARE_COLLECTION_TOOLTIP]=String(Math.round(Date.now()/1e3)),f)):Object(X.f)(l.login,c.slug),b={board_url:h,board_title:Object(We.a)(s,c.id)},o(Object(ze.a)({message:Ke.cardSave.r(b),type:Y.b.ADDED,data:{cardId:n.id,asCompanyLogin:r}})));case 7:case"end":return i.stop()}}))})),qe=n("bzdH"),Ge=n("IxYx"),Xe=n("1WnH"),Je=n("cX81"),Ze=n("riXN");n.d(t,"a",(function(){return Qe}));var Qe=Object(he.a)((function(e,t){var n,r,a,_,y,C,E,j,$,ee,te,ne,re,ie,ae,oe,se,he,be,me,ve,ge,_e,ye,Ce,Ee,we,ke,xe,De,Ne,Ae,Pe,Be,Me,Ue,Fe,We,ze,Ke,Qe,$e,et,tt,nt,rt,it,at,ot,st,ct,ut,lt,dt;return i.a.async((function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(n=e.boardId,r=e.counter,a=e.isNewBoard,_=t.getState,y=t.di,C=t.dispatch,E=_(),j=Boolean(Object(L.a)(E,K.d.COLLECTIONS_DESKTOP_REPIN_ONECLICK)),$=Object(O.b)(E),ee=Object(c.a)(E,n),te=$&&$.owner?Object(M.a)(E,$.owner.id):null,ne=Object(B.a)(E),re=ne&&te&&ne.login===te.login,ie=$.id&&$.id!==O.a,ae=$.original_id,oe=Boolean(ae),se=Object(p.a)(E,ae||$.id),he=se&&Object(u.a)(E,se.id),be=ne&&he&&ne.login===he.login,me=Boolean($.competitions),(_e=Object(A.a)(E))!==X.a.BOARD&&_e!==X.a.BOARD_SIMILAR||(ye=Object(d.a)(E),ve=Object(u.a)(E,Object(x.a)(ye))),Object(F.a)(ve)&&(ge=Object(U.a)(ve)),we={boardId:n,isNewBoard:a,asCompanyLogin:ge,counter:r},!ee||ee.is_private||!Object(V.a)(E)){ht.next=27;break}return ke=Object(D.a)(E),xe=Object(N.a)(E),De=function(){var e=ae?Object(X.k)(ae):xe;C(Object(He.a)({place:H.b,retpath:Ze.a.getRetpathUrl(ke,e)}))},C(Object(J.e)()).then(De),ht.abrupt("return");case 27:if(!$.selected_contents){ht.next=33;break}if(Ne=$&&$.content||[],!Object(I.a)(Ne,$.selected_contents)){ht.next=33;break}return C(Object(de.a)({type:Y.b.UPLOAD_WAIT})),ht.abrupt("return",Promise.reject(new Error("Cards still loading")));case 33:if(Object(T.a)(E)&&(Ce=Te.a,Ee=G.a.SHARE),re&&(ie||oe)&&(Ce=Se.a,Ee=G.a.MOVE),me||!S(E)||Object(w.a)(E)||(Ce=Oe,Ee=G.a.ADD_BULK),ie||oe||Ee===G.a.ADD_BULK||(Ce=je,Ee=G.a.ADD),!Ce){ht.next=97;break}return Ae=function(){var e=_();return Object(R.a)(e)["add-card-save"]},Pe=function(e){var t;C(Object(Ge.a)(((t={})["add-card-save"]=e,t)))},Be=Object(c.a)(_(),$.board),Me=Object(c.a)(_(),n),ht.prev=42,Pe(!0),Ue=function(){return C(Ce(we))},C(Object(le.a)({value:{board:{id:n}}})),ht.next=48,i.a.awrap(s.a.add(Ue,q.b,{dispatch:C,getState:_}));case 48:if(Fe=ht.sent,Ee!==G.a.ADD_BULK){ht.next=52;break}return C(Object(J.e)()),ht.abrupt("return");case 52:if(C(Object(Re.a)({id:Fe.id,value:Fe})),Ee!==G.a.SHARE||!ae){ht.next=63;break}if(We=Object(f.a)(E,ae),ze=Object(m.a)(We)||0,!We){ht.next=63;break}return Ke=o()({},We.stat,{shares_count:ze+1}),Qe=[].concat(Object(g.a)(We)||[],[Fe.id]),ht.next=61,i.a.awrap(y("env"));case 61:$e=ht.sent,Je.a.dataFactory(Object(v.a)(_(),ae),{env:$e,parse:!0}).set({stat:Ke,mine_cards:Qe});case 63:if(ie&&re&&be||C(Object(ue.a)(void 0)),C(Object(ce.a)(Fe)),C(Object(fe.a)()),C(Ye({card:Fe,asCompanyLogin:ge})),C(Object(J.e)()),C(Object(pe.a)({})),C(Ve()),me&&C(Ie({counter:r})),!Me){ht.next=88;break}if(et=Object(l.a)(_(),n),tt=Object(h.a)(Be),nt=Object(h.a)(Me),rt=Object(k.a)(Fe),!(it=Me.stat)||et!==it.cards_count){ht.next=80;break}return ht.next=80,i.a.awrap(C(Object(Z.a)({id:n,value:{cards_count:it.cards_count+1,fulfilled_count:nt&&rt?(it.fulfilled_count||0)+1:it.fulfilled_count}})));case 80:if(Ee!==G.a.ADD&&j&&(ot=Object(P.a)(E).favoriteBoard,at=Object(b.a)(Fe)||{},Fe&&Fe.board&&at.source_type&&C(Object(qe.a)(o()({},ot,((st={})[at.source_type]=Fe.board.id,st))))),!Be||!Be.id||Ee!==G.a.MOVE){ht.next=88;break}if(ct=Object(l.a)(_(),Be.id),!((ut=Be.stat)&&ct===ut.cards_count&&ut.cards_count>0)){ht.next=88;break}return ht.next=87,i.a.awrap(C(Object(Z.a)({id:Be.id,value:{cards_count:ut.cards_count-1,fulfilled_count:tt&&rt?(ut.fulfilled_count||0)-1:ut.fulfilled_count}})));case 87:C(Object(Q.a)({cardId:Fe.id,previousBoardId:Be.id,currentBoardId:Me.id}));case 88:ht.next=94;break;case 90:throw ht.prev=90,ht.t0=ht.catch(42),Ee!==G.a.ADD_BULK&&(ht.t0.status===z.v.BAD_REQUEST?(lt=ht.t0.responseJSON,(dt=lt.code&&lt.code[0])===W.a.ALREADY_IN?C(Object(de.a)({type:Y.b.ALREADY_IN_COMPETITION})):dt===W.a.PRIVATE&&C(Object(de.a)({type:Y.b.PRIVATE_COMPETITION}))):ht.t0.status===z.v.CONFLICT?C(Object(de.a)({type:Y.b.CONFLICT})):ht.t0.status===z.v.FORBIDDEN?(C(Object(de.a)({type:Y.b.LIMIT_CARDS})),C(Object(Xe.a)(null))):Ae()&&C(Object(Le.a)({error:ht.t0})),C(Object(le.a)({value:{board:Be}}))),ht.t0;case 94:return ht.prev=94,Pe(!1),ht.finish(94);case 97:case"end":return ht.stop()}}),null,null,[[42,90,94,97]])}))},m0oI:function(e,t,n){},m2PT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i=n("WoCj"),a=n("yzJw"),o=n("o/z3"),s=((r={})[i.a.space]=o.boardTitleIncorrect,r[i.a.empty]=o.boardTitleEmpty,r[i.a.long]=o.boardTitleLong,r);function c(e){var t=Object(a.a)(e);return t.code&&s[t.code]&&(t.message=s[t.code]),t}},m4ti:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("is_forbid"))},m4u8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Z0W1");function i(e){var t=Object(r.a)(e);return t&&"YandexBrowser"===t.BrowserName}},m7Ew:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("nAK0"),c=n("s6gp"),u=n("FzJZ"),l=Object(o.b)()((function(e){var t=e.href,n=e.className,r=e.children,o=e.props,l=e.counter,d=e.onClick;if(!Object(u.a)(t))return a.createElement(a.Fragment,null,r);var h=i()({},o,{"data-disable-counters":"1",onClick:function(e){s.d.clickLinkExternal(i()({},l,{href:t})),d&&d(e)}});return a.createElement("a",i()({href:t,target:"_blank",rel:"nofollow noopener",className:n,"data-href":Object(c.b)(t)},h),r)}))},m7uJ:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({metaTitle:"Выбор редакции в Яндекс.Коллекциях",metaVerticalTitle:function(e){return"Выбор редакции на тему «"+i(e.vertical_title)+"» в Яндекс.Коллекциях"}})},mHLZ:function(e,t,n){},mPQA:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({marketTeaserPrice:function(e){return"Buy for "+u(e.price)},marketTeaserPriceRouble:{v:'Buy for <span class="rur">RUB</span> __price__',r:function(e){return i.createElement(i.Fragment,null,"Buy for ",i.createElement("span",{className:"rur"},"RUB")," ",e.price)},h:function(e){return(this.isRestored?c:s)(["Buy for ",(this.isRestored?o:a)("span","",{class:"rur"},["RUB"],{view:this})," ",e.price])}},marketTeaserPriceRoubleShort:{v:'<span class="rur">RUB</span> __price__',r:function(e){return i.createElement(i.Fragment,null,i.createElement("span",{className:"rur"},"RUB")," ",e.price)},h:function(e){return(this.isRestored?c:s)([(this.isRestored?o:a)("span","",{class:"rur"},["RUB"],{view:this})," ",e.price])}},marketNotPrecise:{v:"Find on <i>Yandex.</i>Market",r:function(e){return i.createElement(i.Fragment,null,"Find on ",i.createElement("i",{},"Yandex."),"Market")},h:function(e){return(this.isRestored?c:s)(["Find on ",(this.isRestored?o:a)("i","",{},["Yandex."],{view:this}),"Market"])}},marketNotPreciseShort:"On Yandex.Market",marketNoPriceFull:{v:"Buy on <i>Yandex.</i>Market",r:function(e){return i.createElement(i.Fragment,null,"Buy on ",i.createElement("i",{},"Yandex."),"Market")},h:function(e){return(this.isRestored?c:s)(["Buy on ",(this.isRestored?o:a)("i","",{},["Yandex."],{view:this}),"Market"])}}})},mTSw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("x9gI"),c=n("ICaW"),u=n("4RqY"),l=n("riXN");function d(e,t){var n,r=Object(s.a)({env:t},c.d.COLLECTIONS_AAB_COOKIE);return o()({timeDelta:e.timeDelta||0,tld:e.tld,language:e.language,host:e.host,region:e.regionId,logos:e.logos,query:t&&t.query?t.query:e.event.query,href:t&&t.href?t.href:e.href,regionId:e.getRegionId(),isRobot:e.isRobot,isTablet:e.isTablet,isEmbed:e.isEmbed,isLegacy:e.isLegacy,isBrowserApp:e.isBrowserApp,isMultiMordaApp:e.isMultiMordaApp,isBrowserFavorites:e.isBrowserFavorites,isNativeAppPage:e.isNativeAppPage,isYandexBroWebView:e.isYandexBroWebView,isYandexApp:e.isYandexApp,isYandexAppMultiMorda:e.isYandexAppMultiMorda,isYandexRecent:e.isYandexRecent,hideHeader:e.hideHeader,showHeader:e.showHeader,requestId:e.getRequestId(),windowWidth:e.getWindowWidth(),windowHeight:e.getWindowHeight(),pixelRatio:e.getPixelRatio(),network:e.network},{},{loginUrl:l.a.authUrl({env:e}),logoutUrl:l.a.logoutUrl({env:e}),origin:e.origin,cookies:t&&t.cookies||(n={yandexuid:e.cookies.yandexuid,yp:e.cookies.yp},n[r]=e.cookies[r],n.clcss=e.cookies.clcss,n),contextNonce:e.contextNonce,header3Nonce:e.header3Nonce,testBoxes:e.boxes.map((function(e){return e.testId+",0,"+e.bucketId})).join(";"),platform:e.platform})}var h=Object(u.a)((function(e,t){var n,r,a,s,c,u;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.setState,a=t.di,e.next=3,i.a.awrap(a("env"));case 3:s=e.sent,c=n(),u=c&&c.env,r(o()({},c,{env:o()({},u,{},d(s,u))}),"updateEnv");case 7:case"end":return e.stop()}}))}))},mUSw:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("9qcP"),i=n("urtd"),a=n("7r1C"),o=n("plYr");function s(e){var t,n;return Object(o.a)((function(){var o=e();return o.then((function(){n&&(t&&(t.remove(),t=null),n=!1)})),o.catch((function(e){if(!n){var o=i.a.factory();Object(a.a)(o.getState())&&!e.status&&(e.status=0),t=r.a.factory().showXHRMessage(e,{persistent:!0}),n=!0}})),o}))}function c(e){return e.length?new Promise((function(t,n){var r=e.length;e.forEach((function(e){e.then(t),e.catch((function(e){--r||n(e)}))}))})):Promise.reject(new Error("Promises cannot be empty"))}},mUcO:function(e,t,n){},mXxN:function(e,t,n){"use strict";var r=n("6HbP");t.a=r.a.applyDecls()},mYVR:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({text:"Отличная коллекция! Сделайте её открытой и видимой для всех"})},mbBf:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M6 5.5C6 4.67157 6.67157 4 7.5 4H16.5C17.3284 4 18 4.67157 18 5.5V18.9985C18 19.8389 17.0262 20.3045 16.3721 19.7769L12 16.25L7.62785 19.7769C6.97375 20.3045 6 19.8389 6 18.9985L6 5.5Z"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},mbbi:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("xhsZ"),o=n("T6Rw"),s=n("3WeZ"),c=Object(o.a)((function(e,t){var n=t.clear,r=t.value,o=Object(a.a)(e),c=i()({},o.editorsChoice,{},r);return o=i()({},o,{editorsChoice:i()({},n?{}:c)}),Object(s.a)(e,{entities:o})}))},mdRN:function(e,t,n){"use strict";function r(e){return function(t){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Object.defineProperty(t.prototype,i,{configurable:!0,enumerable:!1,writable:!0,value:e[i]})}}}n.d(t,"a",(function(){return r}))},med0:function(e,t,n){},mgUW:function(e,t,n){"use strict";n("yHZp"),n("z1sr");var r=n("sqKG");t.a=r.a.applyDecls()},miTa:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("y1pN"),i=n("XPFG");function a(e,t){var n=Object(r.a)(e,t);return Object(i.a)(n)}},mjwL:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({selfDisplayName:"You",hintSubscribe:"Now you can subscribe to users",hintSubscribeDone:"You are already subscribed to this user",userDescriptionLong:"Try shortening the description"})},muJa:function(e,t,n){"use strict";n.r(t),n.d(t,"openBulkMove",(function(){return E}));var r=n("56Ik"),i=n("VDDL"),a=n("785c"),o=n("hFHJ"),s=n("HVa/"),c=n("vdFK"),u=n("I7lw"),l=n("DB3B"),d=n("3Ci6"),h=n("txgp"),f=n("aC9m"),p=n("lyF8"),b=n("7Hn5"),m=n("7Jbl"),v=n("MlGB"),g=n("GZH0"),O=n("htIp"),_=n("gksT"),y=n("1lnf"),C=n("CER0"),E=s.b.action(),j=r.a.point(a.c.BOARDS_LIST,h.b,{title:_.move(),hideFooter:!0}),S=r.a.point(a.c.BOARD_CREATE,void 0,{title:_.saveTitle()}),w=r.a.point(a.c.CARD_SERIES_ADD,void 0,{hideBack:!0,nextLabel:_.save()}),k=r.a.point(a.c.BOARDS_LIST_BULK,h.b,{disableDrag:!0,singleColumn:!0}),I=r.a.point(a.c.BOARD_CREATE_BULK,void 0,{singleColumn:!0}),T=Object(i.a)([g.a,m.a]),R=Object(i.a)([O.a,f.a,m.a]);s.b.link(s.a,j,l.a),s.b.link(j,s.a,u.removeCardClick,R,{loading:!1}),s.b.link(j,s.a,o.c,p.a,{loading:!1}),s.b.link(j,s.a,o.e,m.a),s.b.link(j,s.a,o.g,m.a),s.b.link(j,s.a,o.f,m.a),s.b.link(j,S,o.h),s.b.link(j,w,c.v),s.b.link(S,j,o.b),s.b.link(S,s.a,o.d,d.a),s.b.link(S,s.a,o.e,m.a),s.b.link(S,s.a,o.g,T,{loading:!1}),s.b.link(w,j,o.i,b.a),s.b.link(w,s.a,o.g,T,{loading:!1}),s.b.link(w,s.a,o.e,m.a),s.b.link(s.a,k,E),s.b.link(k,s.a,o.c,y.a,{loading:!1,skipError:!0}),s.b.link(k,s.a,o.g,v.a),s.b.link(k,s.a,o.e,v.a),s.b.link(k,s.a,o.b,v.a),s.b.link(k,I,o.h),s.b.link(I,s.a,o.d,C.a,{loading:!1}),s.b.link(I,k,o.b),s.b.link(I,s.a,o.g,v.a),s.b.link(I,s.a,o.e,v.a)},muyD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XZwp"),i=n("nAK0"),a=Object(r.a)(["loc","feedSessionId","cardsSessionId"],"boardIds",i.d.viewBoards)},mxxA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("T6Rw"),i=n("3WeZ"),a=Object(r.a)((function(e,t){return Object(i.a)(e,{sideblock:t})}))},myIH:function(e,t,n){"use strict";var r=n("Rr0h"),i=n("3lXt"),a=n("i1uP"),o=n("y6Xm"),s=Object(a.a)(i.a,Object(o.a)("additional_attributes")),c=n("RLYd"),u=Object(c.a)(s,Object(o.a)("suggested_to_unprivate",!1)),l=n("x9gI"),d=n("CHZ4"),h=n("MTjZ"),f=n("2WP6"),p=n("ICaW"),b=n("gLBg");n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g}));var m="show_unlock_tooltip",v="Unlock";function g(e,t){if(!t||!t.options)return!1;var n=t.options.boardId,i=Object(h.a)(e),a=Object(f.a)(i)||{},o=Object(r.a)(e,n),s=u(e,n);return o&&s&&(Object(d.a)(e,b.a.BOARD)&&Object(l.a)(e,p.a.COLLECTIONS_DESKTOP_PUBLIC_TOOLTIP_BOARD)||Object(d.a)(e,b.a.MAIN)&&Object(l.a)(e,p.a.COLLECTIONS_DESKTOP_PUBLIC_TOOLTIP_USER)||(Object(d.a)(e,b.a.PROFILE)||Object(d.a)(e,b.a.MY_PROFILE))&&Object(l.a)(e,p.a.COLLECTIONS_DESKTOP_PUBLIC_TOOLTIP_PROFILE))&&(!a[m]||-1!==a[m][n])}},mzyW:function(e,t,n){},"n+Kn":function(e,t,n){"use strict";var r=n("W8MJ"),i=n.n(r),a=n("EVdn"),o=n("9TW5"),s=function(e){var t=this&&this.isRestored,n=t?o.er:o.e;return(t?o.fr:o.f)([n(e.tagName,e.className,{},[e.content])])},c=n("LGxj");n.d(t,"a",(function(){return l}));var u=new c.a,l=function(){function e(e){this.isRendered=!1,this.isDestroyed=!1,this.isRestored=!1,this._children=[],Object.assign(this,e),this.options=e,e.content&&(this.template=e.content),this.initialize&&this.initialize(e)}var t=e.prototype;return t.render=function(){return this.isRestored?(this._el=this.options.el,this._renderContent().restore(this._el.childNodes),this.events&&this._listenEvents()):this._el?(this.empty(),this._setContent(this._renderContent())):(this._el=this._createElement(this._renderContent()),this.events&&this._listenEvents()),this.isRendered=!0,this.onRender&&this.onRender(),this.isRestored=!1,this._el},t.safeRender=function(){this.isDestroyed||this.render()},t.empty=function(){this._el.innerHTML="",this._destroyChildren()},t.attachToParent=function(t){var n=this;if(this.isRendered||this.render(),t instanceof e)throw new Error("Not implemented");return t.on("destroy",(function(){return n.destroy()})),this._el},t.attachChildView=function(t){return t.isRendered||t.render(),this._children.push(t),t instanceof e?t._el:(t.onShow&&t.onShow(),t.el)},t.destroy=function(){this.isDestroyed||(this.isDestroyed=!0,this._el.parentNode&&this._el.parentNode.removeChild(this._el),this._destroyChildren(),this.trigger("destroy"),this.stopListening())},t.$=function(e){return a(e)},t.closest=function(e){return a(this._el).closest(e)[0]},t.find=function(e){return a(this._el).find(e)[0]},t.addClass=function(e){a(this._el).addClass(e)},t.toggleClass=function(e,t){a(this._el).toggleClass(e,t)},t.appendChild=function(e){this._el.appendChild(e)},t.isIntact=function(){return this.isRendered&&!this.isDestroyed},t.deferToAttach=function(e,t){var n=this;setTimeout((function(){n.isIntact()&&e.call(n)}),t)},t.getEnv=function(){return this.env},t.serializeData=function(){return{}},t._renderContent=function(){var e,t=this.template;return t&&t.default&&(t=t.default),t&&(e=t.call(this,this.serializeData())),e},t._setContent=function(e){this.appendChild(e)},t._createElement=function(e){return s.call(this,{tagName:this._result(this.tagName)||"div",className:this._result(this.className),attributes:this._result(this.attributes)||{},content:e})},t._listenEvents=function(){var e=this;Object.keys(this.events).forEach((function(t){e._el.addEventListener(t,(function(n){return e[e.events[t]](n)}))}))},t._result=function(e){return"function"==typeof e?e.call(this):e},t._destroyChildren=function(){this._children.forEach((function(e){return e.destroy()})),this._children=[]},t.on=function(e,t){u.on.call(this,e,t)},t.once=function(e,t){u.once.call(this,e,t)},t.off=function(e,t){u.off.call(this,e,t)},t.listenTo=function(e,t,n){u.listenTo.call(this,e,t,n)},t.listenToOnce=function(e,t,n){u.listenToOnce.call(this,e,t,n)},t.stopListening=function(e,t,n){u.stopListening.call(this,e,t,n)},t.trigger=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.trigger.apply(this,[e].concat(n))},e.restore=function(e,t){Object.assign(t,e,{el:e.el||document.querySelector("#"+e.id)||document.documentElement});var n=new this(t);return n.isRestored=!0,n},i()(e,[{key:"$el",get:function(){return this._$el||(this._$el=a(this._el)),this._$el}}]),e}()},n4Cm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,i,a=(r=function(e){var t=0,n=0;if(e&&"string"==typeof e){var r=e.split(",");if(2===r.length){if(t=Number(r[0]),n=Number(r[1]),!t||!n)return[0,0];n<2&&(n=2)}}return[t,n]},i=new Map,function(e){var t=e;return i.has(t)||i.set(t,r(t)),i.get(t)})},n73F:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r,i,a,o,s,c,u=n("o0o1"),l=n.n(u),d=n("VbXa"),h=n.n(d),f=n("U+yc"),p=n.n(f),b=n("k/eQ"),m=n("K9S7"),v=n("mdRN"),g=n("hKrz"),O=n("wYmg"),_=n("HpZU"),y=n("m2PT"),C=n("c+Ap"),E=n("/bNA"),j=n("DQJ2"),S=n("Iv6v"),w=n("SUYq"),k=n("o/z3"),I=n("iROX"),T=n("t0kG"),R=(r=Object(v.a)({urlRoot:"/collections/api/boards/"}),i=Object(g.a)(),a=Object(m.a)(),o=Object(b.a)(),r(s=i(s=a((c=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.defaults=function(){return{title:"",is_new:!1,is_wishlist:!1,is_private:!1,complaint:null,stat:{fulfilled_count:0,cards_count:0,subscribers_count:0}}},n.initialize=function(e,t){var n=this,r=!t||!t.disableCreateNotification;this.on("change:title",this.checkValid),this.once("destroy",(function(){n.set("id",null),E.a.showBoardRemoveMessage(n)})),this.once("save:create",(function(e){e.showNotification=r,E.a.showBoardCreateMessage(n,e)})),this.once("save:update",(function(){return E.a.showBoardUpdateMessage(n)})),this.on("change",(function(){var e=n.getEnv();e&&e.invokeStrategy(T.a.BoardToReduxStrategy,{board:n}).catch((function(e){console.error(e)}))}))},n.remove=function(t){var n=this,r=this.id;return e.prototype.remove.call(this,t).then((function(){var e=n.getEnv();return e&&r?e.dispatch(Object(j.a)({boardId:r})).then((function(){return n})):n}))},n.setTitle=function(e){this.set("title",e)},n.getTitle=function(){return this.get("title")},n.getDescription=function(){return this.get("description")},n.setOwner=function(e){this.set("owner",e)},n.getOwner=function(){return this.get("owner")},n.setSlug=function(e){this.set("slug",e)},n.getSlug=function(){return this.get("slug")},n.getService=function(){return this.get("service")},n.isBanned=function(){return Boolean(this.get("ban"))},n.getStat=function(){return this.get("stat")},n.setStat=function(e){this.set("stat",e)},n.setComplaint=function(e){this.set("complaint",e)},n.getComplaint=function(){return this.get("complaint")},n.isDefault=function(){return this.get("is_default")},n.isReadonly=function(){return Boolean(this.get("readonly"))},n.hasEmptyId=function(){return this.isDefault()&&!this.getService()},n.getRecommendationsId=function(){return this.get("recommendations_id")},n.fetchBySlug=function(e,t){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n={url:this.urlRoot,data:{"owner.login":e,slug:t}},r.prev=1,r.next=4,l.a.awrap(this.fetch(n));case 4:return r.abrupt("return",r.sent);case 7:if(r.prev=7,r.t0=r.catch(1),!(400===r.t0.statusCode||r.t0.response&&400===r.t0.response.statusCode)){r.next=11;break}throw new I.e("Board not found",{login:e,slug:t});case 11:throw r.t0;case 12:case"end":return r.stop()}}),null,this,[[1,7]])},n.fetchWithThumbs=function(){return this.hasEmptyId()?Promise.resolve(this):this.fetch({data:{previews_count:C.J}})},n.fetchStat=function(){var e=this.getSlug(),t=this.getOwnerLogin();return this.fetchBySlug(t,e)},n.getCardPreviews=function(){return this.get("card_previews")},n.getFirstCardPreview=function(){var e=this.getCardPreviews();return e&&e[0]&&e[0].image},n.isMatchFilter=function(e){return!e||this.getTitle().toLowerCase().indexOf(e.toLowerCase())>-1},n.clone=function(){return e.prototype.clone.call(this).fillFrom(this)},n.fillFrom=function(e){return this.set(this.parse(e.toJSON())),this.setRequestAdapter(e.getRequestAdapter()),this},n.getShareImageUrl=function(){return Object(O.a)(this.getOwnerLogin(),this.getSlug())},n.toSubscriptionJSON=function(){return{"board.id":this.id}},n.getOwnerId=function(){var e=this.getOwner();return e?e.getLogin():null},n.isWishlist=function(){return Boolean(this.get("is_wishlist"))},n.setPrivate=function(e){this.set("is_private",e)},n.isPrivate=function(){return this.get("is_private")},n.parse=function(e){var t=e;if(e.results&&(t=e.results[0]),t&&!t.id&&t.slug){var n=t.owner&&(t.owner.uid||t.owner.login);t.id=t.slug+"/"+(n||"-")}return t&&t.owner&&(t.owner=w.a.dataFactory(t.owner,{request:this.getRequestAdapter(),parse:!0})),t},n.getOwnerLogin=function(){var e=this.getOwner();return e&&e.getLogin()},n.getOwnerDisplayName=function(){var e=this.getOwner();return e&&e.getDisplayName()},n.checkValid=function(){return this.isValid(!0)},n.isValid=function(e){for(var t=this,n=[],r=0,i=[{name:"title",value:this.getTitle(),validator:y.a},{name:"description",value:this.getDescription(),validator:_.a}];r<i.length;r++){var a=i[r],o=a.name,s=a.value,c=(0,a.validator)(s);c.valid?this.trigger("validation:"+o+":success"):n.push({name:o,message:c.message})}return!n.length||(n.forEach((function(n){var r=n.name,i=n.message;t.trigger("validation:"+r+":error",i,null,e)})),!1)},n.duplicateNameError=function(){this.trigger("validation:title:error",k.boardCreateDuplicate)},n.triggerBoardTitleError=function(e){this.trigger("validation:title:error",e)},n.getReloadUrlParams=function(){return{name:"board",params:{login:this.getOwnerLogin(),slug:this.getSlug(),hintAction:C.u.boardSubscribe,hintTarget:this.getHintTarget()}}},n.getHintTarget=function(){return this.getSlug()},n.toJSON=function(){var t=e.prototype.toJSON.call(this),n=this.getOwner();return n&&n.toJSON&&(t.owner=n.toJSON()),t.title=String(t.title).trim(),t},n.shouldBeCached=function(){var e=String(this.getId());return!e||-1===e.indexOf("/")},n.compare=function(e){return Boolean(e&&e.id===this.id)},n.isBoardCoauthorOwner=function(){var e=this.getEnv().currentUser,t=e&&e.getLogin()===this.getOwnerLogin(),n=this.getStat().collabs_count;return Boolean(n>0&&t)},t.restore=function(e){return this.dataFactory(e,{parse:!0})},t}(S.a),p()(c.prototype,"checkValid",[o],Object.getOwnPropertyDescriptor(c.prototype,"checkValid"),c.prototype),s=c))||s)||s)||s)},n7L5:function(e,t,n){"use strict";var r=n("9TW5");t.a=function(e){var t=this&&this.isRestored,n=t?r.cr:r.c;return(t?r.fr:r.f)([n()])}},n9iN:function(e,t,n){"use strict";function r(e){return e.uiCurrentVisibleTooltipKey||""}n.d(t,"a",(function(){return r}))},nAK0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return p}));var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=function(e,t){return e[e[t="access"]="access"]=t,e[e[t="errorResource"]="error.resource"]=t,e[e[t="errorRuntime"]="error.runtime"]=t,e[e[t="startSession"]="start.session"]=t,e[e[t="finishSession"]="finish.session"]=t,e[e[t="trackObjects"]="track.objects"]=t,e[e[t="clickBoardCreate"]="click.board.create"]=t,e[e[t="clickBoardCreateBack"]="click.boards.create.back"]=t,e[e[t="finishBoardCreate"]="finish.board.create"]=t,e[e[t="clickBoardRemove"]="click.board.remove"]=t,e[e[t="finishBoardRemove"]="finish.board.remove"]=t,e[e[t="clickBoardEdit"]="click.board.edit"]=t,e[e[t="finishBoardEdit"]="finish.board.edit"]=t,e[e[t="clickBoardCoauthor"]="click.board.coauthor"]=t,e[e[t="clickBoardEditClose"]="click.board.edit.close"]=t,e[e[t="clickBoardSubscribe"]="click.board.subscribe"]=t,e[e[t="finishBoardSubscribe"]="finish.board.subscribe"]=t,e[e[t="clickBoardFormClose"]="click.board.form.close"]=t,e[e[t="clickBoard"]="click.board"]=t,e[e[t="clickBoardHide"]="click.board.hide"]=t,e[e[t="finishBoardHide"]="finish.board.hide"]=t,e[e[t="finishBoardUnHide"]="finish.board.unhide"]=t,e[e[t="clickBoardComplain"]="click.board.complain"]=t,e[e[t="clickBoardUnlock"]="click.board.unlock"]=t,e[e[t="finishBoardUnlock"]="finish.board.unlock"]=t,e[e[t="viewBoards"]="view.boards"]=t,e[e[t="clickBoardComments"]="click.board.comments"]=t,e[e[t="clickCardDislike"]="click.card.dislike"]=t,e[e[t="clickCardLike"]="click.card.like"]=t,e[e[t="finishCardLike"]="finish.card.like"]=t,e[e[t="clickCardShare"]="click.card.share"]=t,e[e[t="finishCardShare"]="finish.card.share"]=t,e[e[t="clickCardCreate"]="click.card.create"]=t,e[e[t="finishCardCreate"]="finish.card.create"]=t,e[e[t="finishCardsCreate"]="finish.cards.create"]=t,e[e[t="finishCardTech"]="finish.card.tech"]=t,e[e[t="clickCardMove"]="click.card.move"]=t,e[e[t="finishCardMove"]="finish.card.move"]=t,e[e[t="clickCardRemove"]="click.card.remove"]=t,e[e[t="finishCardRemove"]="finish.card.remove"]=t,e[e[t="clickCardEdit"]="click.card.edit"]=t,e[e[t="finishCardUpdate"]="finish.card.update"]=t,e[e[t="clickCardWish"]="click.card.wish"]=t,e[e[t="finishCardWish"]="finish.card.wish"]=t,e[e[t="clickCardSerp"]="click.card.serp"]=t,e[e[t="clickCardRecipe"]="click.card.recipe"]=t,e[e[t="clickCardMarket"]="click.card.market"]=t,e[e[t="clickCardObjectAnswer"]="click.card.object.answer"]=t,e[e[t="clickCardOrganization"]="click.card.organization"]=t,e[e[t="clickCardTurbo"]="click.card.turbo"]=t,e[e[t="clickCardComplain"]="click.card.complain"]=t,e[e[t="closeCardComplain"]="close.card.complain"]=t,e[e[t="clickCardComments"]="click.card.comments"]=t,e[e[t="clickCardSharesList"]="click.card.shares_list"]=t,e[e[t="clickCardLikesList"]="click.card.likes_list"]=t,e[e[t="clickCardExpandDescription"]="click.card.expand.description"]=t,e[e[t="clickCardExpandExtDescription"]="click.card.expand.ext.description"]=t,e[e[t="clickCardExpandContext"]="click.card.expand.context"]=t,e[e[t="clickCard"]="click.card"]=t,e[e[t="clickCardSimilar"]="click.card.similar"]=t,e[e[t="clickCardSeries"]="click.card.series"]=t,e[e[t="showCard"]="show.card"]=t,e[e[t="showCardVideoPlayer"]="show.card.videoplayer"]=t,e[e[t="playingCardHeartbeat"]="playing.card.heartbeat"]=t,e[e[t="showCardCollections"]="show.card.collections"]=t,e[e[t="clickCommentComplain"]="click.comment.complain"]=t,e[e[t="showCards"]="show.cards"]=t,e[e[t="viewCards"]="view.cards"]=t,e[e[t="clickLink"]="click.link"]=t,e[e[t="clickLinkExternal"]="click.link_external"]=t,e[e[t="showAuthorsTypes"]="show.authors.types"]=t,e[e[t="clickAuthorsTypes"]="click.authors.types"]=t,e[e[t="clickAuthorsClose"]="click.authors.close"]=t,e[e[t="clickAuthorsBack"]="click.authors.back"]=t,e[e[t="clickAuthorsSelectAll"]="click.authors.selectAll"]=t,e[e[t="clickAuthorsSeriesUpload"]="click.authors.series.upload"]=t,e[e[t="clickAuthorsSeriesSave"]="click.authors.series.save"]=t,e[e[t="clickAuthorsSeriesSelect"]="click.authors.series.select"]=t,e[e[t="clickAuthorsPreviewSeriesEdit"]="click.authors.preview.series.edit"]=t,e[e[t="clickAuthorsPreviewSlide"]="click.authors.preview.slide"]=t,e[e[t="clickAuthorsPreviewCover"]="click.authors.preview.cover"]=t,e[e[t="clickAuthorsImageUpload"]="click.authors.image.upload"]=t,e[e[t="clickAuthorsLinkSubmit"]="click.authors.link.submit"]=t,e[e[t="finishAuthorsLinkSubmit"]="finish.authors.link.submit"]=t,e[e[t="clickAuthorsCollectionPrivate"]="click.authors.collection.private"]=t,e[e[t="clickAuthorsCollectionWishlist"]="click.authors.collection.wishlist"]=t,e[e[t="clickDialogPrimary"]="click.dialog.primary"]=t,e[e[t="clickDialogSecondary"]="click.dialog.secondary"]=t,e[e[t="clickDialogOut"]="click.dialog.out"]=t,e[e[t="showPluginStore"]="show.plugin.store"]=t,e[e[t="showPluginBanner"]="show.plugin.banner"]=t,e[e[t="hidePluginBanner"]="hide.plugin.banner"]=t,e[e[t="showPluginGuide"]="show.plugin.guide"]=t,e[e[t="skipPluginGuide"]="skip.plugin.guide"]=t,e[e[t="clickUserAuth"]="click.user.auth"]=t,e[e[t="clickUserAuthType"]="click.user.auth.type"]=t,e[e[t="finishUserAuth"]="finish.user.auth"]=t,e[e[t="showUserAuth"]="show.user.auth"]=t,e[e[t="clickUserLogout"]="click.user.logout"]=t,e[e[t="clickUserSubscribe"]="click.user.subscribe"]=t,e[e[t="finishUserSubscribe"]="finish.user.subscribe"]=t,e[e[t="clickUser"]="click.user"]=t,e[e[t="clickUserCards"]="click.user.cards"]=t,e[e[t="clickUserEdit"]="click.user.edit"]=t,e[e[t="finishUserEdit"]="finish.user.edit"]=t,e[e[t="clickSocialAuth"]="click.social.auth"]=t,e[e[t="clickUserAllowChat"]="click.user.allow.chat"]=t,e[e[t="clickChannelSubscribe"]="click.channel.subscribe"]=t,e[e[t="finishChannelSubscribe"]="finish.channel.subscribe"]=t,e[e[t="clickChannelHide"]="click.channel.hide"]=t,e[e[t="finishChannelHide"]="finish.channel.hide"]=t,e[e[t="finishChannelUnHide"]="finish.channel.unhide"]=t,e[e[t="clickChannelShowMore"]="click.channel.show_more"]=t,e[e[t="clickChannel"]="click.channel"]=t,e[e[t="clickChannelTab"]="click.channel.tab"]=t,e[e[t="showChannelFooter"]="show.channel.footer"]=t,e[e[t="showChannelRelated"]="show.channel.related"]=t,e[e[t="viewChannels"]="view.channels"]=t,e[e[t="clickSearchToggle"]="click.search_toggle"]=t,e[e[t="clickTimeline"]="click.timeline"]=t,e[e[t="clickMyBoards"]="click.my_boards"]=t,e[e[t="clickListView"]="click.list_view"]=t,e[e[t="clickLinkFeed"]="click.link.feed"]=t,e[e[t="clickLinkHome"]="click.link.home"]=t,e[e[t="clickLinkQuery"]="click.link.query"]=t,e[e[t="clickLinkRecommendation"]="click.link.recommendation"]=t,e[e[t="clickFilterToggle"]="click.filter.toggle"]=t,e[e[t="clickFilterTab"]="click.filter.tab"]=t,e[e[t="clickThemesToggle"]="click.themes.toggle"]=t,e[e[t="finishThemesSelection"]="finish.themes.selection"]=t,e[e[t="clickYaShare"]="click.ya_share"]=t,e[e[t="showSocialShare"]="show.social.share"]=t,e[e[t="closeSocialShare"]="close.social.share"]=t,e[e[t="clickSocialShare"]="click.social.share"]=t,e[e[t="showGuide"]="show.guide"]=t,e[e[t="clickGuideHide"]="click.guide.hide"]=t,e[e[t="clickGuideNext"]="click.guide.next"]=t,e[e[t="showHint"]="show.hint"]=t,e[e[t="closeHint"]="close.hint"]=t,e[e[t="clickHintAccept"]="click.hint.accept"]=t,e[e[t="clickSearch"]="click.search"]=t,e[e[t="clickSearchAppend"]="click.search.append"]=t,e[e[t="clickSearchCbir"]="click.search.cbir"]=t,e[e[t="clickSearchMic"]="click.search.mic"]=t,e[e[t="clickSearchNav"]="click.search.nav"]=t,e[e[t="clickCbir"]="click.cbir"]=t,e[e[t="finishCbir"]="finish.cbir"]=t,e[e[t="clickFavorites"]="click.favorites"]=t,e[e[t="showFavoritesEmpty"]="show.favorites.empty"]=t,e[e[t="clickFeed"]="click.feed"]=t,e[e[t="clickFeedMore"]="click.feed.more"]=t,e[e[t="clickFeedTop"]="click.feed.top"]=t,e[e[t="showFeedAuthIncut"]="show.feed.incut.auth"]=t,e[e[t="clickFeedAuthIncutClose"]="click.feed.incut.auth.close"]=t,e[e[t="clickContests"]="click.contests"]=t,e[e[t="clickContestDescription"]="click.contest.description"]=t,e[e[t="clickContestSubmission"]="click.contest.submission"]=t,e[e[t="passContestSubmission"]="pass.contest.submission"]=t,e[e[t="clickContestEvaluation"]="click.contest.evaluation"]=t,e[e[t="clickContestLike"]="click.contest.like"]=t,e[e[t="clickContestDislike"]="click.contest.dislike"]=t,e[e[t="clickCardContestLink"]="click.card.contest.link"]=t,e[e[t="clickPhotoDailySubscribe"]="click.photo.daily.subscribe"]=t,e[e[t="finishPhotoDailySubscribe"]="finish.photo.daily.subscribe"]=t,e[e[t="clickBoardsListAdd"]="click.boards.list.add"]=t,e[e[t="clickFileUpload"]="click.file.upload"]=t,e[e[t="clickPictureSelect"]="click.picture.select"]=t,e[e[t="clickSidebarCtrl"]="click.sidebar.ctrl"]=t,e[e[t="clickCardPreview"]="click.card.preview"]=t,e[e[t="clickVerticals"]="click.verticals"]=t,e[e[t="clickPageScroll"]="click.page.scroll"]=t,e[e[t="clickPageClose"]="click.page.close"]=t,e[e[t="clickPageUp"]="click.page.up"]=t,e[e[t="clickFeedCustomize"]="click.feed.customize"]=t,e[e[t="clickModalClose"]="click.modal.close"]=t,e[e[t="clickModalAction"]="click.modal.action"]=t,e[e[t="clickModalLink"]="click.modal.link"]=t,e[e[t="showModal"]="show.modal"]=t,e[e[t="showPage"]="show.page"]=t,e[e[t="showInvite"]="show.invite"]=t,e[e[t="clickCoauthorRemove"]="click.coauthor.remove"]=t,e[e[t="finishCoauthorRemove"]="finish.coauthor.remove"]=t,e[e[t="finishInvitationAccept"]="finish.invitation.accept"]=t,e[e[t="showCoauthorSettings"]="show.coauthor.settings"]=t,e[e[t="clickCoauthorSettingsButton"]="click.coauthor.settings.button"]=t,e[e[t="finishCoauthorSettingsButton"]="finish.coauthor.settings.button"]=t,e[e[t="showCoauthorButton"]="show.coauthor.button"]=t,e[e[t="clickCoauthorButton"]="click.coauthor.button"]=t,e[e[t="finishCoauthorButton"]="finish.coauthor.button"]=t,e[e[t="showBulkModal"]="show.bulk.modal"]=t,e[e[t="clickBulkModalClose"]="click.bulk.modal.close"]=t,e[e[t="clickBulkModalMove"]="click.bulk.modal.move"]=t,e[e[t="clickBulkModalRemove"]="click.bulk.modal.remove"]=t,e[e[t="finishBulkModalMove"]="finish.bulk.modal.move"]=t,e[e[t="finishBulkModalRemove"]="finish.bulk.modal.remove"]=t,e[e[t="showEventPopup"]="show.event.popup"]=t,e[e[t="clickEventPopupClose"]="click.event.popup.close"]=t,e[e[t="clickEventPopupAction"]="click.event.popup.action"]=t,e[e[t="showPopupAdd"]="favorites.popup.show.add"]=t,e[e[t="clickCollectionSearch"]="favorites.popup.show.add.click.search"]=t,e[e[t="showPopupCollectionNew"]="favorites.popup.show.add.newcollection"]=t,e[e[t="clickEditPopupAdd"]="favorites.popup.show.add.click.desc.edit"]=t,e[e[t="cancelEditPopupAdd"]="favorites.popup.show.add.click.desc.cancel"]=t,e[e[t="submitEditPopupAdd"]="favorites.popup.show.add.click.desc.submit"]=t,e[e[t="finishPopupAdd"]="favorites.popup.show.add.added"]=t,e[e[t="clickDirect"]="click.direct"]=t,e[e[t="velocityProcess"]="velocity.process"]=t,e[e[t="velocityResources"]="velocity.resources"]=t,e[e[t="velocitySpinner"]="velocity.spinner"]=t,e[e[t="velocitySpinnerError"]="velocity.spinner.error"]=t,e[e[t="clickMain"]="click.main"]=t,e[e[t="clickMainLogo"]="click.main.logo"]=t,e[e[t="showTooltip"]="show.tooltip"]=t,e[e[t="clickTooltipAction"]="click.tooltip.action"]=t,e[e[t="clickIncut"]="click.incut"]=t,e[e[t="clickBookmarksSync"]="click.bookmarks.sync"]=t,e[e[t="showShortPopupAdd"]="favorites.element.show"]=t,e[e[t="showShortPopupEdit"]="favorites.element.show.edit"]=t,e[e[t="clickShortPopupAddCollections"]="favorites.element.show.add.collection"]=t,e[e[t="clickShortPopupAddDefault"]="favorites.element.show.add.default"]=t,e[e[t="clickShortPopupAddNew"]="favorites.element.show.add.new"]=t,e[e[t="clickShortPopupAddMore"]="favorites.element.show.add.more"]=t,e[e[t="closeShortPopupAdd"]="favorites.element.close.added"]=t,e[e[t="closeShortPopupMove"]="favorites.element.close.edited"]=t,e[e[t="closeShortPopupNoop"]="favorites.element.close.no-action"]=t,e[e[t="showAddTooltip"]="favorites.tooltip.success"]=t,e[e[t="clickAddTooltipCollections"]="favorites.tooltip.success.collections"]=t,e[e[t="clickAddTooltipCollectionsMove"]="favorites.tooltip.success.edit"]=t,e[e[t="clickKebab"]="click.kebab"]=t,e[e[t="clickVideo"]="click.video"]=t,e[e[t="clickVideoPlay"]="click.video.play"]=t,e[e[t="clickVideoStop"]="click.video.stop"]=t,e[e[t="showNotification"]="show.notification"]=t,e[e[t="clickNotificationAction"]="click.notification.action"]=t,e[e[t="techHeartbeat"]="tech.heartbeat"]=t,e[e[t="techParseRequest"]="tech.parse.request"]=t,e[e[t="showChatButton"]="show.chat.button"]=t,e[e[t="openChat"]="open.chat"]=t,e[e[t="clickSideblockOpen"]="click.sideblock.open"]=t,e[e[t="clickSideblockClose"]="click.sideblock.close"]=t,e[e[t="clickCoverUpload"]="click.cover.upload"]=t,e[e[t="finishCoverUpload"]="finish.cover.upload"]=t,e[e[t="clickCoverRemove"]="click.cover.remove"]=t,e[e[t="finishCoverRemove"]="finish.cover.remove"]=t,e}({});function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.pop()||{},a={};return n.forEach((function(e){return Object.assign(a,e)})),i.hash?Object.assign(a,i.hash):Object.assign(a,i),l(e,a)}function u(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return e[t]||!1===e[t]||0===e[t]?"/"+t+"="+encodeURIComponent(e[t]):""})).join("")}function l(e,t){return function(e){return o[e]||e}(e)+u(t)}var d={},h={};Object.keys(o).forEach((function(e){d[e]=function(t){return l(e,t)},h[e]=function(t,n){"function"==typeof c&&c(l(e,t),n)}}));var f=a.createContext({});function p(e){return function(t){return a.createElement(f.Consumer,null,(function(n){return a.createElement(e,i()({},t,{counter:n}))}))}}},nAyz:function(e,t,n){},nIVP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lPPs"),i=n("W+cT"),a=n("txgp");function o(e,t){var n=Object(i.a)(e,a.a)||[],o=0,s=n.map((function(n,i){var a=i+1;return n.id===t&&(o=a),{index:a,id:n.id,title:Object(r.a)(e,n.id)}}));return{boardId:t,title:t?Object(r.a)(e,t):"default",index:o,jsonBoardsInfo:JSON.stringify(s)}}},nJOc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("Yl8S");function a(e){var t=e.icon,n=e.className,a=r.useContext(i.a),o=Boolean(!a||a(t)),s=t&&t.defaultProps||{},c=s.id,u=s.width,l=s.height;return o?r.createElement(t,{className:n}):r.createElement("svg",{className:n,width:u,height:l},r.createElement("use",{xlinkHref:"#"+c}))}},nKoU:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f}));var r=n("Zoo8"),i=n("X4fP"),a=n("+3en"),o=n("bphC"),s=n("+wBA"),c=n("MTjZ"),u=n("2WP6"),l=n("fjc+").a.COAUTHORS_TOOLTIP_KEY,d="DesktopCoauthorAvatar";function h(e){var t=Object(c.a)(e),n=(Object(u.a)(t)||{})[l],s=Object(a.a)(e),d=Object(o.a)(e,s),h=Boolean(Object(i.a)(s)),f=n&&(-1===n||n>Date.now()/r.e);return d&&!h&&!f}function f(e){return!Object(s.a)(e,l,-1)}},nNBK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("EgTM"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("description"))},nO3P:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n("Y16l"),a=n("gLBg"),o=((r={})[a.a.HOME]={route:a.v},r[a.a.FEED]={route:a.s},r[a.a.MAIN]={route:a.y},r[a.a.CHANNEL]={route:a.m,args:["slug"]},r[a.a.GEO_CHANNEL]={route:a.u,args:["slug"]},r[a.a.CARD]={route:a.k,args:["id"]},r[a.a.CARDS]={route:a.F,args:["login"]},r[a.a.BOARD]={route:a.f,args:["login","slug"]},r[a.a.GEO_BOARD]={route:a.t,args:["login","slug"]},r[a.a.BOARD_FOLLOWERS]={route:a.e,args:["login","slug"]},r[a.a.PROFILE]={route:a.L,args:["login"]},r[a.a.MY_PROFILE]={route:a.z},r[a.a.FOLLOWINGS_USERS]={route:a.K,args:["login"]},r[a.a.FOLLOWINGS_BOARDS]={route:a.I,args:["login"]},r[a.a.FOLLOWINGS_CHANNELS]={route:a.J,args:["login"]},r[a.a.FOLLOWERS]={route:a.H,args:["login"]},r[a.a.COMPANIES]={route:a.G,args:["login"]},r[a.a.STATISTICS]={route:a.M,args:["login"]},r[a.a.FAVORITES_TYPE]={route:a.r,args:["type"]},r[a.a.VERTICAL_FEED]={route:a.O,args:["slug"]},r[a.a.CONTESTS]={route:a.o},r[a.a.CONTEST]={route:a.n,args:["id"]},r[a.a.DAILY_PHOTO]={route:a.p},r[a.a.SHARE]={route:a.D},r[a.a.ADD_FLOW]={route:a.b},r[a.a.ADD_FLOW_BRO]={route:a.g},r[a.a.SEARCH]={route:a.C},r[a.a.SEARCH_BOARDS]={route:a.B},r[a.a.IMAGES_DESKTOP]={route:a.w},r[a.a.IMAGES_TOUCH]={route:a.w},r[a.a.VERIFICATION_BY_NUMBER]={route:a.N},r[a.a.APP_RECENT]={route:a.d},r[a.a.APP_FEED]={route:a.c},r[a.a.BRO_FEED]={route:a.i},r[a.a.BRO_BOOKMARKS]={route:a.h},r[a.a.EDITORS_CHOICE]={route:a.q,args:["slug"]},r);function s(e,t){void 0===t&&(t={});var n="";if(e){var r=e&&o[e];if(r){var a=r.args;if(Array.isArray(a)){var s=Object(i.a)(t,a);a=a.map((function(e){return t[e]})),n=r.route.apply(null,a.concat(s))}else n=r.route(t)}}return n}},nRiq:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M22 17.8V4H9V2h15v17l-2-1.2zM5 6h15v17l-7.5-4.5L5 23V6z"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=i,i.default=i},nUi2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("plOZ"),i=n("l+/f");function a(e){return Boolean(e&&Object(i.a)(e)&&Object(r.a)(e))}},ng36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("A2YD"),i=n("G7p/");function a(e,t,n){var a,o=t.threshold,s=void 0===o?0:o,c=window.IntersectionObserver,u=navigator.userAgent.indexOf("UCBrowser")>-1;if(c&&!u){var l=new c((function(e){var t=e.some((function(e){return e.isIntersecting}));t!==a&&n(a=t)}),{threshold:s});return l.observe(e),function(){l.disconnect()}}var d=!1;function h(){if(e&&!d){var t=e.getBoundingClientRect(),r=t.top,i=t.bottom,o=t.left,c=t.right,u=document.body,l=u.clientHeight,h=u.clientWidth,f=r<l&&i>0&&o<h&&c>0;s>0&&f&&(Math.min(l,i)-Math.max(0,r))*(Math.min(h,c)-Math.max(0,o))/((i-r)*(c-o))<s&&(f=!1),a!==f&&n(a=f)}}var f=!r.a||{passive:!0,capture:!0};return window.addEventListener("resize",h,f),window.addEventListener("scroll",h,f),Object(i.b)(h),function(){d=!0,window.removeEventListener("resize",h,!0),window.removeEventListener("scroll",h,!0)}}},njkS:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({feedback:"Feedback",help:"Help",contestsConditions:"Условия проведения конкурсов"})},nlEi:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({commentsLabel:"Комментировать"})},nmYb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("reason"))},nt9X:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("login"))},nyNT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n("+wBA"),i=n("fjc+").a.COAUTHOR_WELCOME_TOOLTIP,a="CoauthorWelcome";function o(e){return Object(r.a)(e,i,1)||!Object(r.a)(e,i)&&!Object(r.a)(e,i,-1)}function s(e){return Object(r.a)(e,i,0)}},"o/ci":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_banned"))},"o/z3":function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({emptyCollectionName:"Collection",favorites:"Favorites",bookFavorites:"Favorite books",geoFavorites:"Favorite places",organizationFavorites:"Favorite organizations",imageFavorites:"My images",videoFavorites:"My videos",seriesFavorites:"My TV shows",filmFavorites:"My films",linkFavorites:"My links",boardEmptyFollowers:{v:"No followers yet.<br>Be the first to follow!",r:function(e){return i.createElement(i.Fragment,null,"No followers yet.",i.createElement("br",{}),"Be the first to follow!")},h:function(e){return(this.isRestored?c:s)(["No followers yet.",(this.isRestored?o:a)("br","",{},[],{view:this}),"Be the first to follow!"])}},boardEmptyFollowersMine:"Here you will see those who have subscribed for updates",blockedText:"Collection is locked and is visible only to you.",boardTitleEmpty:"Come up with a title for your collection",boardTitleLong:"This name is a bit too long",boardDescriptionLong:"Try shortening the description",boardCreateDuplicate:"You already have a collection with that name",boardTitleIncorrect:"There should be at least one letter or digit in the name of your collection",hintSubscribe:"Now you can subscribe to a collection",hintSubscribeDone:"You are already subscribed to this collection",recommendationTitle:function(e){return"Рекомендации к коллекции «"+u(e.title)+"»"}})},o10p:function(e,t,n){},o2E8:function(e,t,n){"use strict";function r(e){var t=e&&e.getFirstContent();return t&&t.getSourceType()}n.d(t,"a",(function(){return r}))},o4LV:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({label:"Ad",contacts:"Контакты"})},o7PK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("EgTM"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("title"))},o82s:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z",fill:"currentColor"}))}i.defaultProps={viewBox:"0 0 24 24"},e.exports=i,i.default=i},oBAa:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("readonly"))},oCi8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("+3en"),i=n("bphC"),a=n("hV2r"),o=n("+wBA"),s="board_comments_tooltip",c="BoardComments",u="invite";function l(e){var t=Object(i.a)(e,Object(r.a)(e)),n=Object(a.a)(e),c=n&&n[u];return!t&&!Object(o.a)(e,s,-1)&&!c}},oFlc:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("MTjZ"),c=n("RouB"),u=n("7e2C"),l=n("plYr"),d=n("hYN3"),h="/collections/api/content/";function f(){return Object(d.a)(h)}var p=n("4RqY"),b=Object(p.a)((function(e,t){var n,r;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.di,a.next=3,i.a.awrap(n("request"));case 3:return r=a.sent,a.abrupt("return",Object(l.a)((function(){return r.post(f(),e,{xhrFields:{withCredentials:!0},options:{credentials:"include"}}).then((function(e){return Object(u.a)("client-upload-content-succ"),e})).catch((function(e){throw Object(u.a)("client-upload-content-error"),e}))})));case 5:case"end":return a.stop()}}))})),m=n("izju"),v=Object(p.a)((function(e,t){var n,r,a,s,c,d,h;return i.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.di,p.next=3,i.a.awrap(n("request"));case 3:if(r=p.sent,(a={file:e.file,source_type:e.source_type,source:{}}).file){p.next=7;break}return p.abrupt("return",Promise.reject());case 7:return e.source&&(s=e.source.url,c=e.source.preview,Boolean(s&&String(s).match(/^data/))&&(s="data:image"),Boolean(c&&!String(c).match(/^data/))&&(d=c),a.source=o()({},e.source,{preview:d,url:s})),a.source_type=a.source_type||m.a.IMAGE,(h=new FormData).append("upload",a.file),h.append("body",JSON.stringify(a)),p.abrupt("return",Object(l.a)((function(){return r.postData(f(),h,{processData:!1,contentType:!1,xhrFields:{withCredentials:!0},options:{credentials:"include"}}).then((function(e){return Object(u.a)("client-upload-content-succ"),e})).catch((function(e){throw Object(u.a)("client-upload-content-error"),e}))})));case 13:case"end":return p.stop()}}))}));n.d(t,"a",(function(){return g}));var g=Object(p.a)((function(e,t){var n,r,a,u;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.content,r=t.dispatch,a=t.getState,n){l.next=4;break}return l.abrupt("return");case 4:if(!n.id){l.next=6;break}return l.abrupt("return",n);case 6:if(Object(c.a)(Object(s.a)(a()))){l.next=8;break}return l.abrupt("return",n);case 8:if(!n.file){l.next=14;break}return l.next=11,i.a.awrap(r(v(n)));case 11:u=l.sent,l.next=17;break;case 14:return l.next=16,i.a.awrap(r(b(n)));case 16:u=l.sent;case 17:return n=o()({},n,{id:u.id}),l.abrupt("return",n);case 19:case"end":return l.stop()}}))}))},oFo5:function(e,t,n){"use strict";var r=n("3gh7").ticker__text;t.a=function(e,t){return"function"==typeof r[e]?r[e](t):r[e]}},oNsL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("/MKj"),i=n("x9gI");function a(e){return Object(r.useSelector)((function(t){return Object(i.a)(t,e)}))}},oOFl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i7uI"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("fulfilled_count",0))},oOXM:function(e,t,n){"use strict";var r=n("hiol");t.a=r.a.applyDecls()},oRvv:function(e,t,n){},oTrS:function(e,t,n){},oUtV:function(e,t,n){},oWpj:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat.apply([],t)}function i(e){return Array.isArray(e)?e.join("."):String(e)}var a=n("nAK0");n.d(t,"a",(function(){return c}));var o=Date.now(),s="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return Date.now()-o};function c(e,t){var n={},o=t.map((function(t){return i(r(e,t))}));return function(t,c){var u=i(r(e,c));if(n[t]||(n[t]={}),!n[t][u]&&(n[t][u]=Math.round(s()),o.every((function(e){return n[t].hasOwnProperty(e)})))){var l=o.map((function(e){return e+"="+n[t][e]})).join(",");a.d.velocityProcess({marks:l}),delete n[t]}}}},oXfe:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("Fe8d"),c=n("4RqY"),u=n("gF9f"),l=Object(c.a)((function(e,t){var n,r,a,c,l,d,h,f,p,b,m,v,g;return i.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return n=e.payload,r=e.navigate,a=e.scrollToTop,c=void 0===a||a,l=t.getState,d=t.di,h=t.dispatch,O.next=4,i.a.awrap(d("router"));case 4:f=O.sent,p=l(),b=p&&p.event,m=n,h(Object(u.a)(o()({},p,{event:o()({},b,{query:m})}))),c&&(v=document.body.scrollTop||document.documentElement.scrollTop,Object(s.a)({duration:250,step:function(e){return window.scrollTo(0,(1-e)*v)}})),g=f.getLastEvent(),f.navigateToReverse(g.origName||g.name,m,o()({trigger:!1},r));case 12:case"end":return O.stop()}}))}))},oYiD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=864e5},ol8y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("AGq3"),i=n("izju"),a=Object(r.a)(i.a.VIDEO,"_url/video")},om3R:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){if(e&&e.content){if(!e.selected_contents)return e.content[0];var t=e.selected_contents[0];if(t)return e.content.find((function(e){var n,r;return e.source&&(n=e.source.thumb_id,r=e.source.thumb_link),e.id===t||n===t||r===t}))}}))},osxO:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e,t){return e[e[t="BIG_SIZE"]="bigSize"]=t,e[e[t="NOT_ALL"]="notAll"]=t,e[e[t="FORMAT"]="format"]=t,e[e[t="SMALL_DIMENSION"]="smallDimension"]=t,e[e[t="UNKNOWN"]="unknown"]=t,e[e[t="UPLOAD_ERROR"]="uploadError"]=t,e[e[t="UPLOAD_ERROR_ALL"]="uploadErrorAll"]=t,e[e[t="UPLOAD_WAIT"]="uploadWait"]=t,e[e[t="NOT_FOUND"]="notFound"]=t,e[e[t="SMALL_DIMENSION_FOUND"]="smallDimensionFound"]=t,e[e[t="SELECT_CARDS"]="selectCards"]=t,e[e[t="SELECTED_LIMIT"]="selectedLimit"]=t,e[e[t="UPDATED"]="updated"]=t,e[e[t="BOARD_UPDATED"]="boardUpdated"]=t,e[e[t="ADDED"]="added"]=t,e[e[t="SINGLE_VIDEO"]="singleVideo"]=t,e[e[t="CONFLICT"]="conflict"]=t,e[e[t="ALREADY_IN_COMPETITION"]="alreadyInCompetition"]=t,e[e[t="PRIVATE_COMPETITION"]="privateCompetition"]=t,e[e[t="LOAD_RETRY"]="retryLoad"]=t,e[e[t="MOVED_BULK"]="moved_bulk"]=t,e[e[t="ADDED_BULK"]="added_bulk"]=t,e[e[t="CHAT_OPENED"]="chat_opened"]=t,e[e[t="LIMIT_CARDS"]="limitCards"]=t,e[e[t="SELECT_PRODUCT"]="selectProduct"]=t,e[e[t="LOAD_IMAGES"]="loadImages"]=t,e[e[t="ERROR"]="error"]=t,e}({}),i=function(e,t){return e[e[t="BIG_SIZE"]="bigSize"]=t,e[e[t="ERROR"]="error"]=t,e[e[t="FORMAT"]="format"]=t,e[e[t="SIZE"]="size"]=t,e[e[t="UPLOAD_ERROR"]="unknown"]=t,e}({})},pAK4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("+wBA"),i=n("MTjZ"),a=n("JeHU"),o=n("RouB"),s="ei_coauthors_recent",c="DesktopRecentCoauthors";function u(e){var t=Object(i.a)(e),n=Object(o.a)(t),c=Object(a.a)(t)||0;return Boolean(n&&c>0&&Object(r.a)(e,s))}},pDAY:function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.69c0 2.656-2.239 4.687-5 4.687a5.386 5.386 0 0 1-1.858-.326c-.894.549-2.06.632-2.57.64-.106.002-.16-.12-.098-.203.249-.328.702-1.007.769-1.68A4.504 4.504 0 0 1 0 4.69C0 2.033 2.239.002 5 .002s5 2.031 5 4.687z",fill:"currentcolor"}))}i.defaultProps={id:"message-bubble",width:"10",height:"10",fill:"none"},e.exports=i,i.default=i},pDeR:function(e,t,n){},pJdu:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("U+yc"),c=n.n(s),u=n("cDcd"),l=n("JxqJ"),d=n("LH8O"),h=n("stuq"),f=n("ng36"),p=n("6ga4"),b=n("Rr0h"),m=n("BarE"),v=n("UD3n"),g=n("JmCj"),O=n("iurk");function _(e){var t=Object(O.a)(e);return t&&t.updated_at}var y=n("UQOb"),C=n("X4fP"),E=n("FfN0"),j=n("3Mdg"),S=n("lPPs"),w=n("3lXt");function k(e,t){if(!t)return!1;var n="string"==typeof t?Object(w.a)(e,t):t;return Boolean(n&&n.complaint)}var I=n("bceo"),T=n("ej5N"),R=n("XPFG"),L=n("+r4z"),x=n("MTjZ"),D=n("INas"),N=n("gLBg"),A=[N.a.SEARCH_BOARDS,N.a.PROFILE];function P(e,t){var n=Object(R.a)(Object(x.a)(e)),r=Object(R.a)(Object(D.a)(e)),i=Object(T.a)(e,t),a=i&&i.length>0,o=Object(L.a)(e),s=o&&A.includes(o);return Boolean(s&&a&&r!==n)}var B,M,U=n("xFYi"),F=n("3xGx"),V=n("zr2r"),H=n("x9gI"),W=n("ICaW"),z=n("QHoL"),K=n("A6Lc"),Y=n("emua"),q=n("Xuet"),G=n("bImc"),X=n("bpve"),J=n("EvZm"),Z=n("nJOc"),Q=n("JFDR"),$=n("Mycy"),ee=n("5/dx"),te=n("W/Tm"),ne=n("SAMx"),re=n("8UbU"),ie=n("+RQr"),ae=n("fFoT"),oe=n("EuEB"),se=n("45c2"),ce=n("u2Ez"),ue=n("VKF3"),le=n.n(ue),de=n("R7Ao"),he=n.n(de),fe=n("pDAY"),pe=n.n(fe);n("5S5r"),n.d(t,"a",(function(){return me}));var be=(B=Object(d.a)(),M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={kebab:!1},t.unlockButtonRef=u.createRef(),t}o()(t,e);var n=t.prototype;return n.onKebabVisibilityChange=function(e){this.setState({kebab:e})},n.componentDidMount=function(){var e=this;this.element&&!this.observer&&(this.observer=Object(f.a)(this.element,{},(function(t){var n=e.props,r=n.changeVisibility,i=n.boardId;r&&r(t,i)})))},n.componentWillUnmount=function(){this.observer&&this.observer()},n.render=function(){var e=this,t=this.props,n=t.fixed,r=t.column,a=t.showOwner,o=t.board,s=t.boardId,c=t.ownerId,l=t.hasOwner,d=t.showCtrl,f=t.showCtrlSubscribe,b=t.isIncut,g=t.hasComplaint,O=t.allowUnlock,w=t.isRecommended,k=t.isLastUpdatedLabel,I=t.isStatsExp,T=t.dispatch,R=t.counter,L=t.index,x=t.itemRef,D=I&&!b;if(!o)return u.createElement(Y.a,{className:Object(p.a)("cl-board-grid-teaser__placeholder",{"stats-exp":D}),fixed:n,showOwner:a,itemRef:x});if(g)return u.createElement("div",{className:Object(p.a)("cl-masonry__hidden",{recommended:w}),ref:x});var A,P=Object(S.a)(o),B=Object(U.a)(o),M=Object(F.a)(o),H=Boolean("vertical"===Object(V.a)(o)),W=Object(y.a)(o),ue=Object(E.a)(o)||0,de=Object(v.a)(o),fe=Object(j.a)(o),be=Object(C.a)(o),me=Object(m.a)(o),ve=Boolean(be),ge=!Boolean(M),Oe=Boolean(a&&l),_e=Boolean(a&&l)&&u.createElement(ae.a,{mod:"board-grid-teaser",userId:c}),ye=Boolean(f&&l)&&u.createElement(X.a,{ei:!0,shadow:n,size:"M",shape:"round",subValue:ue,id:o.id,storeKey:"boards"}),Ce=u.createElement(J.a,{size:"M",type:"action",ei:!0,shape:"round",label:ce.add(),icon:!0,iconMods:{"plus-24x24":!0},props:{href:Object(N.D)(),"data-trigger":"false","data-navigate":"false"},onClick:function(e){e.preventDefault(),T(Object(z.a)({counter:R,boardId:s}))}});return f?A=ye:d&&(A=Ce),u.createElement(ee.a,{mod:"board-grid",mods:{fixed:n,column:r||H,compact:[!0,M?"fr-"+M:"empty"],imageholder:ge,kebab:this.state.kebab},props:{},className:"cl-board-grid-teaser",imageholder:ge&&u.createElement(te.a,{index:L}),picture:u.createElement($.a,{id:o.id,stateKey:"boards",srcSize:"h200",srcSetSize:"orig",count:W}),footer:u.createElement(ne.a,{mod:"board-grid-teaser",mods:{user:a,fixed:n,"single-row":!Oe&&ve,stats:D},avatar:!ve&&_e,title:P,hasLock:B,lock:u.createElement("div",{className:Object(p.a)("cl-teaser-info__side",{clickable:O})},u.createElement(G.a,{type:"normal",shape:"round",iconOnly:!0,iconMods:{"unlock-24":!0},boardId:o.id,props:{ref:this.unlockButtonRef}}),this.unlockButtonRef.current&&u.createElement(ie.a,{boardId:o.id,anchor:this.unlockButtonRef.current})),props:{}},(Oe||ve)&&u.createElement("ul",{className:Object(p.a)("dot-list",{size:D?"M":"S",teaser:!0,fixed:!0,"stats-exp":D})},ve?u.createElement("li",{className:"dot-list__item"},u.createElement(K.a,{className:"cl-board-grid-teaser__coauthors",boardId:o.id}),u.createElement("span",{className:"dot-list__text"},se.coauthorsWrap({count:Object(h.a)(me)}))):u.createElement("li",{className:"dot-list__item"},u.createElement(oe.a,{className:Object(p.a)("cl-board-grid-teaser__login",{"stats-exp":D}),mod:"board-grid-teaser",size:D?"M":"S",userId:c,color:"grey"})),!ve&&!D&&n&&u.createElement("li",{className:"dot-list__item"},u.createElement("span",{className:"dot-list__text"},se.followers({count:Object(h.a)(ue)})))),D&&!B&&u.createElement("div",{className:"cl-board-grid-teaser__stat"},ue?u.createElement("span",{className:"cl-board-grid-teaser__stat-item"},u.createElement(Z.a,{className:"cl-board-grid-teaser__stat-icon",icon:he.a}),ue):null,de?u.createElement("span",{className:"cl-board-grid-teaser__stat-item"},u.createElement(Z.a,{className:"cl-board-grid-teaser__stat-icon",icon:pe.a}),de):null,fe?u.createElement("span",{className:"cl-board-grid-teaser__stat-item"},u.createElement(Z.a,{className:"cl-board-grid-teaser__stat-icon",icon:le.a}),fe):null)),ctrl:A,linkFactory:function(e){return u.createElement(Q.a,i()({boardId:o.id},e))},itemRef:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e.element=t,x&&x(t)}))},k&&u.createElement(re.a,{prefix:ce.updated(),updatedAt:_(o)}),u.createElement(q.a,{className:"cl-board-grid-teaser__action",size:"S",invert:!0,boardId:o.id,showCtrl:d,onVisibilityChange:this.onKebabVisibilityChange,isIncut:b}))},t}(u.PureComponent),c()(M.prototype,"onKebabVisibilityChange",[B],Object.getOwnPropertyDescriptor(M.prototype,"onKebabVisibilityChange"),M.prototype),M),me=Object(l.b)((function(e,t){var n=t.boardId,r=Object(H.a)(e,W.d.COLLECTIONS_DESKTOP_SOCIAL_TEASER);if(!n)return{isStatsExp:r};var i=Object(x.a)(e),a=Object(R.a)(i),o=Object(g.a)(e,n),s=o.board,c=o.owner,u=Object(b.a)(e,n),l=c&&c.id;return{board:s,hasOwner:Boolean(c),ownerId:l,allowUnlock:u,showCtrlSubscribe:Boolean(t.showCtrl&&l!==a&&!Object(I.a)(s)),hasComplaint:k(e,s),isLastUpdatedLabel:P(e,n),isStatsExp:r}}))(be)},pLEp:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("gQdx"),i=n("aKBe"),a=n("73/6"),o=n("ZK//"),s={users:n("sioy").a,boards:r.a,cards:i.a,channels:a.a,contests:o.a};function c(e){var t=function(t){var n=t.dispatch,r=t.getState,i=t.setState,a=s[e.storeKey];a&&a(e)({dispatch:n,getState:r,setState:i})};return t.data=e,t}},pNVW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_private"))},pUSZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XZwp"),i=n("nAK0"),a=Object(r.a)(["loc","feedSessionId","cardsSessionId"],"cardIds",i.d.viewCards)},pUzw:function(e,t,n){"use strict";var r=n("6s7n");t.a=r.a.applyDecls()},paub:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({subscribe:"Subscribe",unsubscribe:"You're subscribed",unsubscribeAction:"Unsubscribe"})},pgbU:function(e,t,n){"use strict";function r(e){return!e||!e.items||Array.prototype.filter.call(e.items,(function(e){return"file"===e.kind?e.type.match(/^image\//):"string"===e.kind?e.type.match(/^text\//):void 0})).length>0}n.d(t,"a",(function(){return r}))},pjiQ:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({removeCardReadonlyDisallowed:"You can't remove bookmarks in your Collections"})},pkOg:function(e,t,n){},plIe:function(e,t,n){},plOZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i1uP"),i=n("y6Xm"),a=n("IWXk"),o=Object(r.a)(a.a,Object(i.a)("company_participant"))},plR6:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("VbXa"),c=n.n(s),u=n("cDcd"),l=n("MMsl"),d=n("Js1F"),h=n("2fS7");n("rGqV"),n("Lv6l"),n("bfR5"),n("JabQ"),n("GHMu"),n("tSYl"),n("XiDj"),n("cWoH"),n("AeYw"),n("1BTu");var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).isEventListenerAttached=!1,t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.onShow,n=e.scrollToTooltip;t&&t(),n&&this.element&&this.element.scrollIntoView()},n.componentDidUpdate=function(){var e=this;!this.isEventListenerAttached&&this.element&&this.element.containerRef&&this.element.containerRef.current&&this.element.containerRef.current.addEventListener("touchstart",(function(t){t.stopPropagation(),e.isEventListenerAttached=!0}))},n.render=function(){var e=this,t=this.props,n=t.config,r=void 0===n?{target:l.f.ANCHOR,visible:!0}:n,a=t.title,s=t.text,c=t.hasTail,f=t.onClose,p=t.tone,b=o()(t,["config","title","text","hasTail","onClose","tone"]),m=u.createElement(d.a,i()({tone:p||l.d.GREY,text:u.createElement(u.Fragment,null,a&&u.createElement("h3",{className:"cl-tooltip__title"},a),u.createElement("p",{className:"cl-tooltip__description"},s)),hasClose:Boolean(f),onClose:f,hasTail:c},b));return u.createElement(h.a,i()({mix:{block:"cl-tooltip",mods:r.mods},theme:"normal",ref:function(t){return e.element=t}},r),m)},t}(u.Component)},plYr:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("c+Ap");n.d(t,"a",(function(){return u}));var o=3,s=1e3;function c(e){return e&&(e.status>=a.v.INTERNAL_SERVER_ERROR||e.status===a.v.ZERO)}function u(e){return function e(t,n){var r=n.retries,a=void 0===r?0:r,o=n.timeout,s=void 0===o?0:o,c=n.check;return t().catch((function(r){if(a>0&&c(r)){var o=function(){return e(t,i()({},n,{retries:a-1}))};return s>0?new Promise((function(e){return setTimeout(e,s)})).then(o):o()}throw r}))}(e,{retries:o,timeout:s,check:c})}},pnMn:function(e,t,n){"use strict";function r(){return document.body.scrollTop||document.documentElement.scrollTop}n.d(t,"a",(function(){return r}))},prdO:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({userVerified:"Verified user"})},pryo:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("xalX"),c=n("QodL"),u=n("y1pN"),l=n("+3en"),d=n("bphC"),h=n("lc+m"),f=n("om3R"),p=n("ukm6");function b(e,t){var n=Object(p.a)(e).favoriteBoard,r=Object(h.a)(e,t);if(r&&n)return n[(Object(f.a)(r)||{}).source_type]}var m=n("Tff5"),v=n("CZvv"),g=n("U9Ap"),O=n("x9gI"),_=n("XPFG"),y=n("+r4z"),C=n("MTjZ"),E=n("RouB"),j=n("nUi2"),S=n("785c"),w=n("Z36V"),k=n("ICaW"),I=n("0q89"),T=n("gLBg"),R=n("vdFK"),L=n("Ja54"),x=n("DB3B"),D=n("Kj4u"),N=n("lyF8"),A=n("y144"),P=n("4RqY"),B=n("+XmN"),M=n("1WnH");n.d(t,"a",(function(){return U}));var U=Object(P.a)((function(e,t){var n,r,a,f,p,P,U,F,V,H,W,z,K,Y,q,G,X,J,Z,Q;return i.a.async((function($){for(;;)switch($.prev=$.next){case 0:if(n=t.dispatch,r=t.getState,a=e&&e.cardId,f=e&&e.boardId,p=e&&e.type,P=r(),U={},Object(E.a)(Object(C.a)(P))){$.next=8;break}return $.abrupt("return",n(Object(B.a)({passportLoc:I.a.ADD,authDialogSource:w.a.ADD})));case 8:if(!a){$.next=40;break}if(F=Object(h.a)(P,a)){$.next=14;break}return $.next=13,i.a.awrap(n(Object(D.a)({cardId:a})));case 13:F=Object(h.a)(r(),a);case 14:if(!F||!F.content){$.next=38;break}if(V=F.content.reduce((function(e,t){return t&&(t.id?e.push(t.id):t.source&&t.source.thumb_id?e.push(t.source.thumb_id):t.source&&t.source.thumb_link&&e.push(t.source.thumb_link)),e}),[]),n(Object(A.a)({force:!0,value:o()({},Object(s.a)(F),{id:void 0,original_id:F.id,selected_contents:V,preview_content:V[0]})})),H=Object(g.a)(P,F),W=Object(m.a)(F),z=Object(u.a)(P,W),K=Object(j.a)(z),!Boolean(Object(O.a)(P,k.d.COLLECTIONS_DESKTOP_REPIN_ONECLICK))||H||K){$.next=26;break}if(!(Y=b(P,a))){$.next=26;break}return $.abrupt("return",n(Object(N.a)({boardId:Y})));case 26:if(q=Object(y.a)(P),G=q===T.a.BOARD_SIMILAR&&Boolean(Object(O.a)(P,k.d.COLLECTIONS_DESKTOP_SIMILAR_REPIN)),H||q!==T.a.BOARD&&!G){$.next=34;break}if(X=Object(l.a)(P),J=Object(_.a)(X),Z=Object(m.a)(P,a),!J||!Object(d.a)(P,X)||Z===J){$.next=34;break}return $.abrupt("return",n(Object(N.a)({boardId:J})));case 34:Q=o()({},!H&&a?{card:a}:{}),"edit"===p&&Object(v.a)(F)&&n(Object(R.r)()),n("edit"===p?Object(L.a)():Object(x.a)(Q));case 38:$.next=41;break;case 40:n(Object(R.n)());case 41:return $.abrupt("return",n(Object(M.a)(o()({id:S.b,type:c.c.ADD_CARD,options:{uiKey:S.a,boardId:f}},U))));case 42:case"end":return $.stop()}}))}))},pvK7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rpX3"),i=Object(r.a)("boardRecent",{scrolled:0})},pzCj:function(e,t,n){"use strict";function r(e){return e&&e.content&&e.content.avatars_key}n.d(t,"a",(function(){return r}))},qAEN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="SUCCESS"]="SUCCESS"]=t,e[e[t="FAILURE"]="FAILURE"]=t,e[e[t="QUEUED"]="QUEUED"]=t,e}({})},qAaj:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({text:"Внизу есть похожие карточки"})},qDXE:function(e,t,n){"use strict";function r(e){return new Promise((function(t){setTimeout((function(){window.location.href=e,t()}))}))}n.d(t,"a",(function(){return r}))},qFDn:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({photoDailyTitle:"Photo of the day",photoDailyDescription:function(e){return"Winner for "+i(e.date)},participantFinished:function(e){return"Contest participant, "+i(e.place)+" place"},participantCurrent:"Contest participant"})},qFO9:function(e,t,n){},qKUU:function(e,t,n){"use strict";var r=n("kQr1");t.a=r.a.applyDecls()},qQB9:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n("lc+m"),a=n("JaHL"),o=n("i1uP"),s=n("izju"),c=((r={})[s.a.IMAGE]=10,r[s.a.VIDEO]=1,r),u=Object(o.a)(i.a,(function(e){var t=Object(a.a)(e);return t&&c[t]||10}))},qTqY:function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];return Boolean(n&&(n._loading||n._errorLoading))}n.d(t,"a",(function(){return r}))},qeDp:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lc+m"),i=n("7z6F"),a=n("s+L8"),o=n("i1uP"),s=Object(o.a)(r.a,(function(e){if(e){var t={cardId:e.id},n=Object(a.a)(e);n&&(t.jsonCardInfo=JSON.stringify(n));var r=Object(i.a)(e);return r&&(t.description=r),t}}))},"qh/6":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SYNC_CARD:"sync:card",CARD_NOTIFICATION:"card:notification",REMOVE_CARD:"remove:card"}},qhb3:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({defaultTitle:"Yandex.Collections",defaultDescription:"Yandex.Collections is a service for creating collections of images on interesting topics, and to search for ideas and inspiration in the collections of other users.",homeTitle:"Yandex.Collections — selections of images on different topics",boardTitle:function(e){return'The collection "'+i(e.board_title)+'" from '+i(e.owner_login)+" in Yandex.Collections"},boardWithCountTitle:[function(e){return i(e.count)+' card in collection "'+i(e.board_title)+'" of user '+i(e.owner_login)+" in Yandex.Collections"},function(e){return i(e.count)+' cards in collection "'+i(e.board_title)+'" of user '+i(e.owner_login)+" in Yandex.Collections"}],boardWithCountCustomTitle:[function(e){return i(e.count)+' card in collection "'+i(e.board_title)+'" of user '+i(e.owner_login)+" in Yandex.Collections"},function(e){return i(e.count)+' cards in collection "'+i(e.board_title)+'" of user '+i(e.owner_login)+" in Yandex.Collections"}],boardOGTitle:function(e){return i(e.board_title)},boardMetaTitle:function(e){return'"'+i(e.board_title)+'" — collection from '+i(e.owner_login)+" in Yandex.Collections"},boardInviteTitle:function(e){return i(e.owner_login)+" приглашает вас стать соавтором коллекции «"+i(e.board_title)+"»"},boardDescription:function(e){return'See the collection "'+i(e.board_title)+'" from user '+i(e.owner_login)+" in Yandex.Collections."},boardCustomDescription:function(e){return i(e.board_description)},boardWithCountCustomDescription:function(e){return i(e.board_description)},boardOGDescription:function(e){return"Creator — "+i(e.owner_login)},boardWithCountCustomMetaDescription:function(e){return i(e.board_description)},boardMetaDescription:function(e){return'See the collection "'+i(e.board_title)+'" from user '+i(e.owner_login)+" in Yandex.Collections"},boardCustomMetaDescription:function(e){return i(e.board_description)},profileTitle:function(e){return i(e.login)+" — collections of images from user in Yandex.Collections"},profileDescription:function(e){return"Collections shared by user "+i(e.login)+" in the Yandex.Collections service. See photographs and drawings on different topics."},profileMetaTitle:function(e){return"Collections of videos and images from user "+i(e.login)+" in Yandex.Collections"},profileOGTitle:function(e){return i(e.login)+" on Yandex.Collections"},cardsOGTitle:function(e){return i(e.login)+" on Yandex.Collections"},cardsTitle:function(e){return"Yandex.Collections — all cards from user "+i(e.login)},cardsDescription:function(e){return"All cards of user "+i(e.login)+" in Yandex.Collections. View photographs and drawings on different topics."},followersOGTitle:function(e){return i(e.login)+" on Yandex.Collections"},followersTitle:function(e){return"Yandex.Collections — all followers of user "+i(e.login)},followingsTitle:function(e){return"Yandex.Collections — all followers of user "+i(e.login)},companiesTitle:function(e){return"Яндекс.Коллекции — все организации пользователя "+i(e.login)},followingsChannelsOGTitle:function(e){return i(e.login)+" on Yandex.Collections"},followingsChannelsTitle:function(e){return"Yandex.Collections — all followers of user "+i(e.login)},followingsUsersOGTitle:function(e){return i(e.login)+" on Yandex.Collections"},followingsUsersTitle:function(e){return"Yandex.Collections — all followers of user "+i(e.login)},followingsBoardsOGTitle:function(e){return i(e.login)+" on Yandex.Collections"},followingsBoardsTitle:function(e){return"Yandex.Collections — all followers of user "+i(e.login)},channelTitle:function(e){return i(e.count)+'+ cards on the topic of "'+i(e.channel_title)+'" in Yandex.Collections'},channelMetaTitle:function(e){return'Images and videos on the topic of "'+i(e.channel_title)+'" in Yandex.Collections'},channelOGTitle:function(e){return'"'+i(e.channel_title)+'" in Yandex.Collections'},channelDescription:function(e){return i(e.channel_description)},boardFollowersOGTitle:function(e){return i(e.board_title)},boardFollowersTitle:function(e){return'"'+i(e.board_title)+'" in Yandex.Collections — people who follow collection updates'},errorNotFoundTitle:"Page not found — Yandex.Collections",favoritesTitle:"Favorites — Yandex.Collections",favoritesTypeImageTitle:"Favorite images — Yandex.Collections",favoritesTypeVideoTitle:"Favorite videos — Yandex.Collections",favoritesTypeFilmTitle:"Favorite movies — Yandex.Collections",favoritesTypeSeriesTitle:"Favorite shows — Yandex.Collections",favoritesTypeLinkTitle:"Favorite links — Yandex.Collections",favoritesTypeOrganizationTitle:"Favorite organizations — Yandex.Collections",favoritesTypeBookTitle:"Favorite books — Yandex.Collections",favoritesTypeGeoTitle:"Favorite places — Yandex.Collections",feedTitle:"Updates feed in Yandex.Collections",searchTitle:function(e){return i(e.search_query)+" — search results in Yandex.Collections"},searchEmptyTitle:"Search results in Yandex.Collections",searchOGTitle:function(e){return'"'+i(e.search_query)+'" in collections of Yandex users'},searchEmptyOGTitle:"Search results in Yandex.Collections",verticalTitle:function(e){return i(e.vertical_title)},verticalOGTitle:function(e){return i(e.vertical_og_title)},verticalDescription:function(e){return i(e.vertical_description)},verticalOGDescription:function(e){return i(e.vertical_og_description)},cardTitle:function(e){return'"'+i(e.board_title)+'" — card from user '+i(e.owner_login)+" in Yandex.Collections"},cardMetaTitle:function(e){return"Image from user "+i(e.owner_login)+' from the collection "'+i(e.board_title)+'" in Yandex.Collections'},cardOGTitle:function(e){return'From the collection "'+i(e.board_title)+'"'},cardDescription:function(e){return"Image from user "+i(e.owner_login)+' in Yandex.Collections. Other pictures and photographs on the topic of "'+i(e.board_title)+'".'},cardMetaDescription:function(e){return'Image from the collection "'+i(e.board_title)+'" in Yandex.Collections'},cardOGDescription:function(e){return i(e.card_title)},cardVirtualRecipeTitle:function(e){return'"'+i(e.card_title)+'" in Yandex.Collections'},cardVirtualRecipeDescription:function(e){return'"'+i(e.card_title)+'" in Yandex.Collections'},cardVirtualRecipeOGDescription:"Recipes in Yandex.Collections",cardVirtualRecipeOGTitle:function(e){return'"'+i(e.card_title)+'" in Yandex.Collections'},cardVirtualRecipeMetaTitle:function(e){return'"'+i(e.card_title)+'" in Yandex.Collections'},cardVirtualRecipeMetaDescription:function(e){return'"'+i(e.card_title)+'" in Yandex.Collections'},cardVirtualGameTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGameDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGameOGDescription:"Games in Yandex.Collections",cardVirtualGameOGTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGameMetaTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGameMetaDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGeoTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGeoDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGeoOGDescription:"Landmarks and other geographic features in Yandex.Collections",cardVirtualGeoOGTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGeoMetaTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualGeoMetaDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualOrganizationTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualOrganizationDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualOrganizationOGDescription:"Organizations in Yandex.Collections",cardVirtualOrganizationOGTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualOrganizationMetaTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualOrganizationMetaDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualMarketTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualMarketDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualMarketOGDescription:"Products in Yandex.Collections",cardVirtualMarketOGTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualMarketMetaTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualMarketMetaDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualCardTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualCardDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualCardOGDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualCardOGTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualCardMetaTitle:function(e){return i(e.card_title)+" in Yandex.Collections"},cardVirtualCardMetaDescription:function(e){return i(e.card_title)+" in Yandex.Collections"},cardWithDescriptionTitle:function(e){return'"'+i(e.card_title)+'" — card from user '+i(e.owner_login)+" in Yandex.Collections"},cardWithDescriptionDescription:function(e){return"Image from user "+i(e.owner_login)+' in Yandex.Collections. Other pictures and photographs on the topic of "'+i(e.card_title)+'".'},cardWithDescriptionMetaDescription:function(e){return'Card "'+i(e.card_title)+'" from the collection "'+i(e.board_title)+'" in Yandex.Collections'},cardVideoMetaTitle:function(e){return"Video from user "+i(e.owner_login)+' from the collection "'+i(e.board_title)+'" in Yandex.Collections'},cardVideoMetaDescription:function(e){return'Video from collection "'+i(e.board_title)+'" in Yandex.Collections'},cardSearchTitle:function(e){return'Found based on request "'+i(e.card_title)+'" in Yandex.Collections'},cardBannedTitle:"This card was recently reported so it cannot be viewed",channelsTitle:function(e){return'Selections on the topic of "'+i(e.vertical_title)+'" to which you can subscibe on Yandex.Collections'},channelsDescription:function(e){return'Find interesting and useful collections on the topic of "'+i(e.vertical_title)+'", subscribe to them and save the best pictures or videos in Yandex.Collections'},channelsOgTitle:function(e){return'Selections on the topic of "'+i(e.vertical_title)+'" to which you can subscibe on Yandex.Collections'},channelsOgDescription:function(e){return'In Yandex.Collections you can find interesting and useful collections on the topic of "'+i(e.vertical_title)+"\", subscribe to them, create your own collection on the topic and save the best images and videos so that they're always at hand."},imagesTitle:"Yandex.Images: search for images on the internet, search by image",imagesDescription:"Amusing pictures, wallpaper for your desktop, diagrams and illustrated instructions, answers to your image questions, search by image or photo",dailyPhotoTitle:'"Photo of the day" contest in Yandex.Collections',contestTitle:function(e){return'"'+i(e.contest_title)+'" contest in Yandex.Collections'},contestOGTitle:function(e){return'"'+i(e.contest_title)+'" contest in Yandex.Collections'},contestDescription:function(e){return i(e.contest_description)},contestOGDescription:function(e){return i(e.contest_description)}})},qkRt:function(e,t,n){"use strict";var r=n("/Epz"),i=n("y6Xm"),a=n("ukm6"),o=Object(r.a)(a.a,Object(i.a)("add"));n.d(t,"a",(function(){return s}));var s=Object(r.a)(o,Object(i.a)("permanentOptions",{}))},qtAy:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("3lXt"),c=n("RWwA"),u=n("rANK"),l=n("euOF"),d=n("+mVu"),h=n("7/cf"),f=n("6g1q"),p=n("hV2r"),b=n("c+Ap"),m=n("WXND"),v=n("YWra"),g=n("y144"),O=n("4RqY"),_=n("nAK0"),y=n("cX81"),C=Object(O.a)((function(e,t){var n,r,a,O,C,E,j,S,w,k,I,T,R,L,x,D,N,A,P,B,M,U;return i.a.async((function(F){for(;;)switch(F.prev=F.next){case 0:return n=e.boardId,r=e.counter,a=t.getState,O=t.dispatch,C=t.di,F.next=4,i.a.awrap(C("request"));case 4:if(E=F.sent,j=a(),S=Object(s.a)(j,n),w=Object(h.b)(j),k=Object(l.a)(j,n),!w){F.next=52;break}if(I="current-card-temp"===w.id?w.original_id:w.id,T=function(e){e&&e.id&&_.d.finishCardMove(o()({},r,{isDefault:Object(u.a)(j,n),cardId:e.id}))},!I||I===w.doc_id||"current-card-temp"===I){F.next=39;break}return L=o()({board_id:k?null:S.id},k?{board_source_type:Object(c.a)(S)}:void 0),x=w.board&&w.board.id?Object(s.a)(j,w.board.id):null,O(Object(g.a)({value:{board:S}})),F.prev=16,F.next=19,i.a.awrap(E.patch("/collections/api/v1.0/cards/"+I+"/",L));case 19:R=F.sent,F.next=26;break;case 22:throw F.prev=22,F.t0=F.catch(16),x&&O(Object(g.a)({value:{board:x}})),F.t0;case 26:return T(R),O(Object(m.a)({boardId:R.board.id})),D=Object(f.a)(j,R.id),N=Object(p.a)(j).wish===b.Y,x&&(O(Object(v.a)({cardId:R.id,previousBoardId:x.id,currentBoardId:R.board.id,appendToCurrentBoard:D===N})),O(Object(m.a)({boardId:x.id}))),F.next=33,i.a.awrap(C("CardPopupState"));case 33:return A=F.sent,(P=A.getCard())&&P.id===R.id&&(B=Object(d.a)(a(),R.id),A.setCard(y.a.dataFactory(B,{request:E,parse:!0}))),F.abrupt("return",R);case 39:if(!w.task_id&&!w.taskId){F.next=52;break}return U=o()({task_id:w.task_id||w.taskId},k?{}:{board:S.id}),F.prev=41,F.next=44,i.a.awrap(E.post("/collections/api/favorites/cards/move/",U));case 44:M=F.sent,F.next=50;break;case 47:throw F.prev=47,F.t1=F.catch(41),F.t1;case 50:return T(M),F.abrupt("return",M);case 52:throw new Error("No card to move");case 53:case"end":return F.stop()}}),null,null,[[16,22],[41,47]])}))},qvVl:function(e,t,n){"use strict";function r(e){if(e&&e.recipe)return e.recipe.ingredients}n.d(t,"a",(function(){return r}))},qz1P:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("VbXa"),i=n.n(r),a=n("Iv6v"),o=n("mdRN"),s=n("c+Ap"),c=n("/bNA"),u=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.defaults=function(){return{board:null,card:null,comment:null,type:"",reason:""}},n.toJSON=function(){var e=this.getType(),t={};return e===s.j.CARD?t.card_id=this.getCardId():e===s.j.BOARD?t.board_id=this.getBoardId():e===s.j.COMMENT&&(t.comment_id=this.getCommentId()),t.reason=this.getReason(),t},n.getReason=function(){return this.get("reason")},n.setReason=function(e){this.set("reason",e)},n.getType=function(){return this.get("type")},n.setType=function(e){this.set("type",e)},n.setCard=function(e){return this.set("card",e)},n.getCard=function(){return this.get("card")},n.getCardId=function(){return this.getCard().getId()},n.setBoard=function(e){return this.set("board",e)},n.getBoard=function(){return this.get("board")},n.getBoardId=function(){return this.getBoard().getId()},n.getComment=function(){return this.get("comment")},n.getCommentId=function(){return this.getComment().getId()},n.save=function(){return e.prototype.save.call(this,null,{patch:!0}).then(this.onSaveSuccess.bind(this))},n.onSaveSuccess=function(){var e=this.getType();this.get(e).setComplaint(this),"comment"!==e&&c.a.showComplaintMessage()},t}(a.a);Object(o.a)({urlRoot:"/collections/api/complain/"})(u)},"r/yX":function(e,t,n){"use strict";function r(e){return Boolean(e&&e.id&&e.id.indexOf("fake")>=0)}n.d(t,"a",(function(){return r}))},r4I1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("y6Xm"),i=n("RLYd"),a=n("2WP6"),o=n("C9FQ"),s=Object(i.a)(a.a,Object(r.a)(o.a,!1))},r7Cx:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("mdRN"),c=n("U60d"),u=n("NDfO"),l=n("UO52"),d=n("Q1O+"),h=n("9TW5"),f=n("xMyQ");function p(e,t){return e&&t&&-1!==t.indexOf(e)}var b=n("Ahwa");n.d(t,"a",(function(){return m}));var m=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n._constructor=function(t){this.initOptions(t),this.initDefaultModel(),e.prototype._constructor.call(this,this.options)},n.tagName=function(){var e=this.options;return e.tagName?e.tagName:e.href?"a":"file"===this.getOption("mode")?"span":"button"},n.className=function(){return Object(u.a)("button",["disabled","size","type","mode","icon-only","shape","pin","load","ei","mark","shadow"],this.options)},n.attributes=function(){var e=this.options;e.hasIconUrl=!0!==e.icon;var t=l.a.builder(["title","target","href","rel","download"],e);return l.a.style(l.a.width(e),t),t},n.onClick=function(e){var t,n=this.getOption("method");if(n)return this.getOption("preventDefault")&&e.preventDefault(),this.getOption("stopPropagation")&&e.stopPropagation(),t="function"==typeof n?n():this.model[n](),this.handleResult(t,this.successHandler.bind(this),this.failHandler.bind(this))},n.handleResult=function(e,t,n){return e&&"function"==typeof e.then&&this.options.loadOnPromise&&(this.startLoading(),e=e.then(t,n)),e},n.startLoading=function(){this.isDestroyed||(this.$el.addClass(this.options.loadingClass),this.ui.label.html(this.options.loadingLabel||this.options.label))},n.successHandler=function(){this.isDestroyed||(this.$el.removeClass(this.options.loadingClass).addClass(this.options.successClass),this.ui.label.html(this.options.successLabel||this.options.label))},n.failHandler=function(){this.isDestroyed||(this.$el.removeClass(this.options.loadingClass).addClass(this.options.errorClass),this.ui.label.html(this.options.errorLabel||this.options.label))},n.serializeData=function(){return i()({},this.options)},t}(c.a);Object(s.a)({template:function(e){var t=this&&this.isRestored,n=t?h.er:h.e,r=t?h.sr:h.s;return(t?h.fr:h.f)([e.icon?[n("span","",Object(h.assign)({class:Object(h.j)(["button__icon",d.a.call(e,e.iconMod?[e.iconMod]:e.iconMods,{hash:{},data:{view:this},fn:function(e){return e?Object(h.j)([" button__icon_",e]):""}})])},e.hasIconUrl?{style:Object(h.j)([" background-image:url(",Object(f.a)(e.icon),"); "+(e.bgsize?Object(h.j)(["background-size: ",e.bgsize,"px;"]):"")])}:{}),[])]:[]," ",e.fontello?[n("span",Object(h.j)(["icon-",e.fontello]),{},[])]:[]," ","check"==e.mode?[n("input","",Object(h.assign)({type:"checkbox",name:e.name,value:e.value},e.checked?{checked:""}:{}),[])]:[]," ","radio"==e.mode?[n("input","",Object(h.assign)({type:"radio",name:e.name,value:e.value},e.checked?{checked:""}:{}),[])]:[]," ","file"==e.mode?[n("input","",Object(h.assign)({type:"file",name:e.name},e.disabled?{disabled:""}:{}),[])]:[]," ","toggle"==e.mode?[n("input","",Object(h.assign)({type:"checkbox",name:e.name,value:e.value},e.checked?{checked:""}:{}),[])]:[]," ",n("span","button__label",{},[e.label])," ",p.call(e,e.mode,"dropdown,dropup,next,back",{hash:{},data:{view:this}})?[n("span","button__arrow",{},[])]:[]," ",r(b.a.call(e,{data:{view:this}}))])},events:{click:"onClick"},options:{method:"",preventDefault:!0,stopPropagation:!0,loadingClass:"button_load",successClass:"button_success",errorClass:"button_error"},ui:{label:"> .button__label"}})(m)},r7G3:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r,i,a,o,s,c,u,l=n("pVnL"),d=n.n(l),h=n("8OQS"),f=n.n(h),p=n("VbXa"),b=n.n(p),m=n("U+yc"),v=n.n(m),g=n("cDcd"),O=n("JxqJ"),_=n("LH8O"),y=n("y1pN"),C=n("IAY6"),E=n("j1o0"),j=n("bceo"),S=n("xFYi"),w=n("8z4Y"),k=n("bphC"),I=n("MTjZ"),T=n("RouB"),R=n("nUi2"),L=n("WyUc"),x=n("ylOa"),D=n("/O+t"),N=n("OWM9"),A=n("FH3s"),P=n("cYeE"),B=n("V8c5"),M=n("nAK0"),U=n("1RGr"),F=n("5SLA"),V=(r=Object(_.a)(),i=Object(_.a)(),a=Object(_.a)(),o=Object(_.a)(),s=Object(_.a)(),c=Object(_.a)(),u=function(e){function t(){return e.apply(this,arguments)||this}b()(t,e);var n=t.prototype;return n.callUnlockBoard=function(){var e=this.props,t=e.dispatch,n=e.boardId;M.d.clickBoardUnlock({counter:this.props.counter,boardId:n}),t(Object(N.a)({id:n}))},n.callShare=function(){var e=this.props,t=e.dispatch,n=e.boardId;return t(Object(B.a)({id:n,storeKey:"boards",counter:this.props.counter}))},n.callEdit=function(){var e=this.props,t=e.dispatch,n=e.boardId;return t(Object(x.a)({boardId:n,counter:this.props.counter}))},n.callDelete=function(){var e=this.props,t=e.dispatch,n=e.boardId;return t(Object(D.a)({boardId:n,counter:this.props.counter}))},n.callComplain=function(){var e=this.props,t=e.dispatch,n=e.boardId;return t(Object(A.b)({id:n,type:A.a.default,storeKey:"boards",counter:this.props.counter}))},n.hideIncut=function(){var e=this.props,t=e.dispatch,n=e.boardId,r=e.counter;return t(Object(P.a)({id:n,stateKey:"boards",reason:L.a.HIDE,counter:r}))},n.getKebabList=function(){var e=this.props,t=e.isMyBoard,n=e.isProfileCompanyParticipant,r=e.isBoardPrivate,i=e.isBoardBanned,a=e.isBoardCoauthor,o=e.isIncut,s=e.isBoardReadonly,c=e.isAllowToPublish,u=t||n;return[{onClick:this.callUnlockBoard,title:F.unlock(),isVisible:t&&!i&&r&&!s&&c},{onClick:this.callShare,title:F.share(),isVisible:u&&!i&&!r},{onClick:this.callEdit,title:F.edit(),isVisible:u&&!s},{onClick:this.callDelete,title:F.delete(),isVisible:u},{onClick:this.callShare,title:F.share(),e2eLabel:"share",isVisible:!u&&!r},{onClick:this.callComplain,title:F.complain(),e2eLabel:"complain",isVisible:!u&&!a},{onClick:this.hideIncut,title:F.hide(),e2eLabel:"hideIncut",isVisible:!u&&o}].filter((function(e){return e.isVisible})).map((function(e){return e.isVisible,f()(e,["isVisible"])}))},n.render=function(){var e=this.props,t=(e.counter,f()(e,["counter"])),n=this.getKebabList();return n.length?g.createElement(U.a,d()({},t,{list:n})):null},t}(g.PureComponent),v()(u.prototype,"callUnlockBoard",[r],Object.getOwnPropertyDescriptor(u.prototype,"callUnlockBoard"),u.prototype),v()(u.prototype,"callShare",[i],Object.getOwnPropertyDescriptor(u.prototype,"callShare"),u.prototype),v()(u.prototype,"callEdit",[a],Object.getOwnPropertyDescriptor(u.prototype,"callEdit"),u.prototype),v()(u.prototype,"callDelete",[o],Object.getOwnPropertyDescriptor(u.prototype,"callDelete"),u.prototype),v()(u.prototype,"callComplain",[s],Object.getOwnPropertyDescriptor(u.prototype,"callComplain"),u.prototype),v()(u.prototype,"hideIncut",[c],Object.getOwnPropertyDescriptor(u.prototype,"hideIncut"),u.prototype),u),H=Object(O.b)((function(e,t){var n=t.boardId,r=Object(y.a)(e,n);return{boardOwner:r,isBoardPrivate:Object(S.a)(e,n),isBoardBanned:Object(E.a)(e,n),isAuthorized:Object(T.a)(Object(I.a)(e)),isMyBoard:Object(k.a)(e,n),isProfileCompanyParticipant:Object(R.a)(r),isBoardCoauthor:Object(j.a)(e,n),isBoardReadonly:Object(w.a)(e,n),isAllowToPublish:Object(C.a)(e,n)}}))(V)},rANK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_default",!1))},rDAn:function(e,t,n){"use strict";n("J68E");var r=n("DnAm");t.a=r.a.applyDecls()},rLBI:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Доступно обновление",description:"Новое расширение позволяет собирать больше видов контента, работает быстрее и удобнее. Старое расширение больше не поддерживается.",descriptionBro:"Расширение Яндекс.Коллекции теперь встроено в браузер. Чтобы получить доступ к новым функциям Коллекций, обновите браузер.",update:"Обновить расширение",updateBrowser:"Обновить браузер"})},rT8E:function(e,t,n){"use strict";function r(e){return e?e.source_type:void 0}n.d(t,"a",(function(){return r}))},rVhC:function(e,t,n){"use strict";var r,i,a,o,s,c,u,l,d,h,f,p,b=n("o0o1"),m=n.n(b),v=n("W8MJ"),g=n.n(v),O=n("VbXa"),_=n.n(O),y=n("U+yc"),C=n.n(y),E=n("cDcd"),j=n("JxqJ"),S=n("LH8O"),w=n("Pm7h"),k=n("XPFG"),I=n("pnMn"),T=n("7r1C"),R=n("MBmZ"),L=n("ukm6"),x=n("CYZy"),D=n("1ZVK"),N=n("pVnL"),A=n.n(N),P=n("pUSZ"),B=n("rWiK"),M=n("muyD"),U=n("+POQ"),F=(r=[{type:x.a.CARD,logger:function(e,t){var n=e.map((function(e){return e.item.id})).filter(Boolean);Object(P.a)(A()({},t,{cardIds:n}))}},{type:x.a.BOARD,logger:function(e,t){var n=e.map((function(e){return e.item.id})).filter(Boolean);Object(M.a)(A()({},t,{boardIds:n}))}},{type:x.a.CHANNEL,logger:function(e,t){var n=e.map((function(e){return e.item.slug})).filter(Boolean);Object(B.a)(A()({},t,{channelIds:n}))}}],i={},{log:function(e,t){for(var n={},a=0;a<e.length;a++){var o=e[a],s=o.type;i[s]||(i[s]={}),i[s][o.id]||(i[s][o.id]=!0,n[s]||(n[s]=[]),n[s].push(o))}for(var c=0;c<r.length;c++){var u=r[c].type;n[u]&&n[u].length&&r[c].logger(n[u],t)}},reset:function(){i={}}}),V=n("Oaat"),H=n("x9gI"),W=n("ICaW"),z=n("G7p/"),K=(n("QodL"),n("plYr")),Y=n("IgGK"),q=n("w7HD"),G=n("t9gz");n.d(t,"a",(function(){return Q}));var X={passive:!0,capture:!1},J=!0;setTimeout((function(){J=!1}),5e3);var Z=(a=Object(S.a)(),o=Object(S.a)(),s=Object(S.a)(),c=Object(S.a)(),u=Object(S.a)(),l=Object(S.a)(),d=Object(S.a)(),h=Object(S.a)(),f=Object(S.a)(),p=function(e){function t(){for(var t,n,r,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).state={footer:!1,scrollTop:0,ver:0},t.fetchInProgress=!1,t.failureFetchRequest=!1,t.isOnline=t.props.isOnline,t.footerOffset=t.props.footerInterval||0,t.dirtyScroll=!0,t.ignoreOverflow=t.props.ignoreOverflow,t.isMasonryDead=!1,t.itemElements={},t.elementIds=new WeakMap,t.grid=t.props.grid,t.countersLogger=t.props.countersLogger||(n=t.props.pageUrl,r=Object(U.a)(n),i=F,{track:function(e,t){r.track(e,t),i.log(e.map((function(e){return e.item})),t)},reset:function(){r.reset(),i.reset()}}),t.renderPlanned=!1,t.isPrevFullScreen=!1,t.afterRenderTasks=[],t.waitUpdatePosition=new Set,t}_()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.ttiLock=this.props.isSecondPageExp&&J,this.scrollElement=this.props.scrollElement?this.props.scrollElement:window,this.scrollElement.addEventListener("scroll",this.onScroll,X),document.addEventListener("visibilitychange",this.trackCounters),window.addEventListener("beforeunload",this.sendCounters),this.runAfterRenderTasks(),this.props.items.length?Object(z.b)((function(){e.checkScrollPosition()})):Object(z.b)((function(){e.fetchNextPage()})),this.trackCounters(),this.container&&"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(this.onMutation),this.observer.observe(this.container,{attributes:!0,characterData:!0,childList:!0,subtree:!0})),this.updateItemsSizes(),this.grid.dirty&&this.renderNextVerDeferred()},n.componentWillUnmount=function(){this.observer&&this.observer.disconnect(),this.scrollElement.removeEventListener("scroll",this.onScroll,X),this.countersLogger.reset(),document.removeEventListener("visibilitychange",this.trackCounters),window.removeEventListener("beforeunload",this.sendCounters),this.sendCounters(),this.isMasonryDead=!0},n.componentWillReceiveProps=function(e){this.itemsUpdated=this.fetchInProgress&&e.items!==this.props.items,e.isOnline!==this.props.isOnline&&(this.isOnline=e.isOnline,this.isOnline&&this.checkScrollPosition())},n.componentDidUpdate=function(){var e=this,t=this.props,n=t.rum,r=t.currentItem;if(this.itemsUpdated&&n&&(this.itemsUpdated=!1,n.render&&n.render()),this.grid.applyScrollAfterRender&&this.scrollTo(this.grid.scrollPosition),this.runAfterRenderTasks(),this.isOverflow&&r){var i=this.grid.getCachedPosition(r);if(i){var a=this.scrollTop,o=this.props.windowHeight||0;(i.top<a||i.top+i.height>a+o)&&(this._virtualScroll=i.top-o/2+i.height/2)}}this.props.items.length||this.props.isLoaded||setTimeout((function(){e.fetchNextPage()})),this.trackCounters(),this.grid.dirty&&this.renderNextVerDeferred(),this.updateItemsSizes()},n.runAfterRenderTasks=function(){this.afterRenderTasks.length&&(this.afterRenderTasks.forEach((function(e){return e()})),this.afterRenderTasks=[]),this.props.footerInterval&&this.checkFooter()},n.shouldComponentUpdate=function(e){var t=e.dispatch,n=e.isOverflow,r=(e.items,e.tooltipHash,e.isAnimationActive),i=e.scrollToCard;if(document.fullscreenElement||document.webkitFullscreenElement)return this.isPrevFullScreen=!0,!1;if(this.isPrevFullScreen&&0===this._scrollTop)return!1;if(r)return!1;if(this.isPrevFullScreen=!1,this._isOverflow!==n){if(this._isOverflow=n,!i)return!n&&t&&t(Object(Y.a)()),!0;!this.ignoreOverflow&&n?this._virtualScroll=this._scrollTop:void 0!==this._virtualScroll&&(this._scrollTop=this._virtualScroll,this._virtualScroll=0,this.dirtyScroll=!0,window.scrollTo(0,this._scrollTop))}return!0},n.render=function(){var e=this.grid,t=this.props,n=t.footer,r=t.isLoaded,i=t.isLoading,a=t.shaker,o=t.Items,s=t.empty,c=t.items,u=t.initColumns,l=void 0===u?0:u;e.resetItemPositionLocks(),this.query&&this.query!==this.props.query&&(e.reset(),this.sendCounters()),this.query=this.props.query;for(var d=0;d<c.length;d++){var h=c[d];h.ref&&this.itemElements[h.id]||(h.ref=this.savePosition.bind(this,h))}e.windowWidth=this.props.windowWidth,e.windowHeight=this.props.windowHeight,e.isLoaded=r,e.isLoading=i,e.scrollTop=this.scrollTop,e.getPosition=this.getItemPosition.bind(this),e.items=c,l&&e.columnsCount>c.length&&r&&(l=e.columnsCount),e.initColumns=l;var f=e.columns,p=this.state.footer&&!r;if(this.renderPlanned=!1,!c.length&&s)return s();var b=e.invisibleColumns;if(b)for(var m=0;m<b.length;m++)for(var v=b[m],g=0;g<v.items.length;g++){var O=v.items[g];O.ref=this.savePosition.bind(this,O)}return E.createElement(o,{id:a.id,columns:f,virtualColumns:b,overflow:p,initColumns:l,height:p?this.footerOffset:this.grid.containerHeight,more:Boolean(n&&(this.state.footer||r)),stateKey:this.props.itemsKey,options:this.props.options,containerRef:this.saveContainerPosition},(this.state.footer||r)&&n&&n(r?void 0:this.loadMore))},n.onMutation=function(e){for(var t=0;t<e.length;t++)for(var n=e[t].target;n&&n!==this.container;){var r=this.elementIds.get(n);if(r){this.waitUpdatePosition.add(r);break}n=n.parentElement}},n.updateItemsSizes=function(){var e=this;if(!this.props.isAnimationActive){var t=function(){var n=e.getRealScrollTop();return t=function(){return n},n};if(this.container){var n=this.container.getBoundingClientRect();n&&(this.grid.containerTop=n.top+t())}var r=this.grid.waitPositions,i=0!==r.length,a=r.concat(Array.from(this.waitUpdatePosition));if(this.waitUpdatePosition=new Set,0!==a.length){this.grid.resetItemPositionLocks();for(var o=0;o<a.length;o++){var s=a[o],c=this.itemElements[s];if(c){var u=this.getElementPositionSync(c,t());u?this.grid.setItemPosition(s,u):this.waitUpdatePosition.add(s)}}this.grid.updateColumnHeights(),i&&this.renderNextVerDeferred()}}},n.getRealScrollTop=function(){var e=0,t=this.container;if(this.props.ignoreOverflow)return this.getCurrentScroll();for(;t;)e+=t.scrollTop,t=t.parentElement;return e},n.renderNextVer=function(){this.isMasonryDead||this.setState((function(e){return{ver:e.ver+1}}))},n.renderNextVerDeferred=function(){this.isMasonryDead||this.renderPlanned||(this.renderPlanned=!0,this.isVisible&&Object(z.b)(this.renderNextVer,1e3))},n.getCurrentScroll=function(){var e=this.scrollElement||this.props.scrollElement;return e instanceof Element?e.scrollTop:this.isOverflow?0:Object(I.a)()},n.scrollTo=function(e){this.dirtyScroll=!0,this._scrollTop=e,this.scrollElement instanceof Element?this.scrollElement.scrollTop=e:window.scrollTo(0,e)},n.saveContainerPosition=function(e){this.container=e},n.savePosition=function(e,t){var n=e.id,r=this.itemElements[n];t?this.elementIds.set(t,n):r&&this.elementIds.delete(r),r&&r===t||(this.itemElements[n]=t,t?this.waitUpdatePosition.add(n):this.waitUpdatePosition.delete(n))},n.getElementPositionSync=function(e,t){void 0===t&&(t=this.getRealScrollTop());var n=e.getBoundingClientRect(),r=n.top,i=n.bottom,a=n.height;return 0!==r||0!==i||0!==a?{top:r+t,height:a}:null},n.getItemPosition=function(e){var t=this.itemElements[e.id];return t?this.getElementPositionSync(t):null},n.awaitUntilConnect=function(e){setTimeout((function(){requestAnimationFrame(e)}),500)},n.loadMore=function(){this.isMasonryDead||(this.footerOffset+=this.props.footerInterval,this.setState({footer:!1}),this.checkScrollPosition())},n.checkFooter=function(){this.isMasonryDead||this.state.footer||this.grid.minHeight>this.footerOffset&&this.setState({footer:!0})},n.checkScrollPosition=function(){if(!(this.isMasonryDead||this.props.isLoaded||this.props.isLoading||this.fetchInProgress||this.failureFetchRequest&&!this.isOnline)){var e=this.grid.minHeight,t=this.getCurrentScroll(),n=this.props.windowHeight,r=this.props.treshold;e-t-n-(void 0===r?1500:r)<0&&this.fetchNextPage()}},n.fetchNextPage=function(){var e,t,n,r,i;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this.isMasonryDead||this.fetchInProgress||this.props.isLoading||this.failureFetchRequest&&!this.isOnline||this.props.options.isSimilar&&!this.grid.hasItemPositionForAll)){a.next=3;break}return a.abrupt("return");case 3:if(e=this.props,t=e.nextStoreKey,n=e.itemsKey,r=e.rum,i=e.dispatch,this.fetchInProgress=!0,a.prev=5,!this.ttiLock){a.next=10;break}return a.next=9,m.a.awrap(Object(V.a)(3e3));case 9:this.ttiLock=!1;case 10:return a.next=12,m.a.awrap(Object(K.a)((function(){return i(Object(D.a)({storeKey:t||n,rum:r}))})));case 12:this.failureFetchRequest=!1,a.next=19;break;case 15:a.prev=15,a.t0=a.catch(5),console.error(a.t0),this.failureFetchRequest=!0;case 19:this.fetchInProgress=!1,this.checkScrollPosition();case 21:case"end":return a.stop()}}),null,this,[[5,15]])},n.onScroll=function(){var e=this;this.dirtyScroll=!0,this._isOverflow&&!this.ignoreOverflow||(this.renderPlanned||(this.renderPlanned=!0,this.awaitUntilConnect((function(){e.isMasonryDead||e.setState({scrollTop:e.scrollTop})}))),this.checkScrollPosition())},n.trackCounters=function(){var e=this.countersLogger;if(e){var t=this.grid.visibleItems;("hidden"===document.visibilityState||this.props.isOverflow&&!this.props.ignoreOverflow)&&(t=[]),e.track(t,this.props.counter)}},n.sendCounters=function(){var e=this.countersLogger;e&&e.reset()},g()(t,[{key:"isOverflow",get:function(){return this._isOverflow&&!this.props.ignoreOverflow}},{key:"scrollTop",get:function(){return this.isOverflow?this._virtualScroll:(this.dirtyScroll&&(this._scrollTop=this.getCurrentScroll(),this.dirtyScroll=!1),this._scrollTop)}},{key:"isVisible",get:function(){for(var e=this.container;e;){if("none"===window.getComputedStyle(e).display)return!1;e=e.parentElement}return!0}}]),t}(E.Component),C()(p.prototype,"onMutation",[a],Object.getOwnPropertyDescriptor(p.prototype,"onMutation"),p.prototype),C()(p.prototype,"renderNextVer",[o],Object.getOwnPropertyDescriptor(p.prototype,"renderNextVer"),p.prototype),C()(p.prototype,"getCurrentScroll",[s],Object.getOwnPropertyDescriptor(p.prototype,"getCurrentScroll"),p.prototype),C()(p.prototype,"saveContainerPosition",[c],Object.getOwnPropertyDescriptor(p.prototype,"saveContainerPosition"),p.prototype),C()(p.prototype,"savePosition",[u],Object.getOwnPropertyDescriptor(p.prototype,"savePosition"),p.prototype),C()(p.prototype,"loadMore",[l],Object.getOwnPropertyDescriptor(p.prototype,"loadMore"),p.prototype),C()(p.prototype,"onScroll",[d],Object.getOwnPropertyDescriptor(p.prototype,"onScroll"),p.prototype),C()(p.prototype,"trackCounters",[h],Object.getOwnPropertyDescriptor(p.prototype,"trackCounters"),p.prototype),C()(p.prototype,"sendCounters",[f],Object.getOwnPropertyDescriptor(p.prototype,"sendCounters"),p.prototype),p),Q=Object(j.b)((function(e,t){var n=e[t.itemsKey],r=Object(k.a)(Object(w.a)(e)),i=Object(x.b)(e,t.shaker),a=i.result,o=i.nextStoreKey,s=t.widthDiff||0,c=[n].concat(t.shaker.entries.filter((function(e){return e.autoload})).map((function(t){var n=t.storeKey;return e[n]}))),u=c.every((function(e){return!(e&&e.next)})),l=c.some((function(e){return Boolean(e&&e._loading)})),d=Object(L.a)(e).currentCard,h=Object(H.a)(e,W.d.COLLECTIONS_DESKTOP_VIEWER)?Object(G.a)(e).stateKey:d?d.stateKey:void 0,f=r?a.find((function(e){return e.item.id===r&&e.storeKey===h})):void 0,p=Object(L.a)(e),b=(p.modal,p.scrollToCard);return{isOnline:Object(T.a)(e),isOverflow:Boolean(Object(R.a)(e)||Boolean(Object(q.a)(e))||!1),windowWidth:e.env.windowWidth-s,windowHeight:e.env.windowHeight,isLoaded:u,isLoading:l,query:n&&n._query,tooltipHash:JSON.stringify(Object(L.a)(e).visibleTooltips),currentCardId:r,currentItem:f,items:a,nextStoreKey:o,isSecondPageExp:Boolean(Object(H.a)(e,W.d.COLLECTIONS_MASONRY_SECOND_PAGE)),isAnimationActive:Boolean(e.ui&&e.ui.isAnimationActive),pageUrl:location.href,scrollToCard:b}}))(Z)},rWiK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XZwp"),i=n("nAK0"),a=Object(r.a)(["loc","feedSessionId","cardsSessionId"],"channelIds",i.d.viewChannels)},rcxC:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({complaintSuccess:"Report has been received",cardHided:"Card hidden"})},rdt4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ElOb"),i=n("JEEa"),a=n("2N+6"),o=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,s=function(){function e(t){var n;n=t instanceof Date?t:t instanceof e?t.getDate():"string"==typeof t?new Date(Date.parse(t)):"number"==typeof t?new Date(t):new Date,this.date=n}var t=e.prototype;return t.isValid=function(){return!isNaN(Number(this.date))},t.getDate=function(){return this.date},t.format=function(e,t){var n=this,r=(void 0===t?{}:t).locale;return e?String(e).replace(o,(function(e){return n.tokenToString(e,r)})):this.toISOString()},t.setYear=function(e){return this.date.setFullYear(Number(e)),this},t.subDays=function(e){return this.date=new Date(this.date.getTime()-24*Number(e)*3600*1e3),this},t.diff=function(e){return this.date.getTime()-e.getDate().getTime()},t.fromNow=function(t,n){return void 0===n&&(n={}),this.from(new e,n.locale,t,n.forbidNegative)},t.from=function(e,t,n,r){return new i.a(e.diff(this),{forbidNegative:r}).humanize(n,{locale:t})},t.toISOString=function(){return this.date.toISOString()},t.tokenToString=function(e,t){return"YYYY"===e?String(this.date.getFullYear()):"YY"===e?String(this.date.getFullYear()%1e3):"MM"===e?Object(a.a)(this.date.getMonth()+1,2):"MMMM"===e?Object(r.f)(t).months.format[this.date.getMonth()]:"D"===e?String(this.date.getDate()):"DD"===e?Object(a.a)(this.date.getDate(),2):"HH"===e?Object(a.a)(this.date.getHours(),2):"mm"===e?Object(a.a)(this.date.getMinutes(),2):"ss"===e?Object(a.a)(this.date.getSeconds(),2):e},e.getLocaleFormat=function(e,t){var n=Object(r.f)(e);return n?n[t]:""},e}()},riXN:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),i=n.n(r),a=n("c+Ap"),o=n("+kw8"),s=n("WbN8"),c=n("gLBg"),u=n("YxMk"),l=n("wy9A"),d=encodeURIComponent,h=function(){function e(){}return e.resetPtrid=function(t){t.env;var n=e.generatePtrid();return Object(s.e)("cptrid",n),n},e.generatePtrid=function(){return Math.round(1e3*Math.random())+"x"+Date.now()},e.generateRetpathUrl=function(e){var t=e.env,n=e.route,r=e.params,a=t.router,o=i()({status:void 0,idkey:void 0,ncrnd:void 0},r);return a?n?t.origin+a.reverse(n,o):t.origin+a.reverseLastEvent(o):"https://yandex.ru"},e.generateTrackedRetpathUrl=function(e){var t=e.env,n=e.route,r=e.params,a=Object(s.a)("cptrid");return a||(a=this.resetPtrid({env:t})),this.generateRetpathUrl({env:t,route:n,params:i()({},r,{ptrid:a})})},e.authUrl=function(e){var t,n=e.env,r=e.passportLoc,a=e.passportOrigin,o=e.retpath,s=e.mode,c=void 0===s?l.a.AUTH:s,h=a||Object(u.a)(n,r);return t="string"==typeof o?o:this.generateTrackedRetpathUrl(i()({env:n},o)),this.base(n)+"/"+c+"?origin="+d(h)+"&retpath="+d(t)},e.logoutUrl=function(e){var t=e.env,n=e.retpath||this.generateRetpathUrl({env:t}),r=t.cookies.yandexuid;return this.base(t)+"/passport?mode=logout&yu="+d(r)+"&retpath="+d(n)+"&from=collections"},e.embedLogoutUrl=function(e){var t=e.env,n=e.retpath||this.generateRetpathUrl({env:t}),r=t.cookies.yandexuid,i=t.currentUser.getUid();return this.base(t)+"/passport?mode=embeddedauth&action=logout&uid="+d(i)+"&yu="+d(r)+"&retpath="+d(n)+"&from=collections"},e.base=function(e){return"https://passport.yandex."+e.tld},e.showLoginWindow=function(e,t,n){void 0===t&&(t={});var r=this.authUrl({env:e,passportLoc:t.passportLoc,retpath:{route:"retpath",params:{authSource:t.authSource?t.authSource:e.isEmbed?a.a.EMBED:a.a.WEB}}}),i=Math.round(.8*screen.width),s=Math.round(.8*screen.height);Object(o.a)(r,[i,s]);var c=function(){window.removeEventListener("focus",c),e.currentUser.checkAuth().then(n)};window.addEventListener("focus",c)},e.showEmbedLoginWindow=function(t){var n=t.tld,r=t.origin,i=Math.round(.8*screen.width),l=Math.round(.8*screen.height),h=Object(s.a)("cptrid");h||(h=e.generatePtrid(),Object(s.e)("cptrid",h));var f=r+Object(c.A)({authSource:a.a.EMBED,opnr:!0,ptrid:h}),p=this.base({tld:n})+"/auth?origin="+d(Object(u.a)())+"&retpath="+d(f);Object(o.a)(p,[i,l])},e.numberVerificationUrl=function(e){var t=e.env,n=e.retpath;return this.base(t)+"/profile/phones?retpath="+(n?d(n):"")},e.getRetpathUrl=function(e,t){return e.origin+t},e.replacePassportQueryOrigin=function(e,t,n){return e?e.replace(/origin=[^&#]+/g,"origin="+d(Object(u.a)(t,n))):e},e}()},rktC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("NsAD"),i=n("n7L5");function a(e,t){var n=t.data,a=t.hash,o=a.view||n.view,s=o.isRestored,c={view:o,async:a.async,regionType:a.regionType,hash:a};return s?{type:"region",restore:function(t){if(!t)throw new Error("Cannot restore region");return Object(r.a)(e,t,c)}}:Object(r.a)(e,i.a(),c)}},"rli+":function(e,t,n){},rpX3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ukm6");function i(e,t){return function(n){return Object(r.a)(n)[e]||t}}},rreP:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("T6Rw"),c=0,u=Object(s.a)((function(e,t){var n=t.mergeById,r=o()(t,["mergeById"]),a=e.notifications,s=void 0===a?[]:a,u=i()({id:c++},r);if(n){var l=!1;s=s.map((function(e){return e.id===u.id?(l=!0,u):e})),l||(s=s.concat(u))}else s=s.concat(u);return i()({},e,{notifications:s})}))},ruzH:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("Y16l"),c=n("eaCv"),u=n("hV2r"),l=n("+r4z"),d=n("4RqY"),h=n("gF9f"),f=n("mbbi"),p=["event"],b=Object(d.a)((function(e,t){var n,r,a,d,b,m,v,g,O,_,y,C,E,j,S,w,k,I;return i.a.async((function(T){for(;;)switch(T.prev=T.next){case 0:return k=function(e,t){if(void 0===t&&(t=!1),C){var n={};C.forEach((function(r){var i=e[r];n[r]=o()({},i,{_loading:t,_refresh:t})})),r(Object(h.a)(n))}},n=t.getState,r=t.dispatch,a=t.di,T.next=4,i.a.awrap(a("request"));case 4:return d=T.sent,b=n(),m=e.route,v=void 0===m?Object(l.a)(b):m,g=e.query,O=void 0===g?Object(u.a)(b):g,_=e.origRoute,y=void 0===_?Object(c.a)(b):_,C=e.filter,E=e.url,j=e.eventId,S=e.env,w=e.dataOnly,O=o()({route:v,origRoute:y},O),E&&(O={_url:E}),C&&(O._filter=C.join(",")),S&&(O._env=S),j&&(O._eventId=j),delete O._csr,delete O.force_csr,e&&e.silent||k(b,!0),T.prev=15,T.next=18,i.a.awrap(d.getJson("/collections/web-api/aggregate",{data:O,disableBrowserParams:!0}));case 18:if(I=T.sent,w&&(I=Object(s.a)(I,p)),k(I,!1),C&&!C.includes("editorsChoice")){T.next=24;break}return T.next=24,i.a.awrap(r(Object(f.a)({clear:!0})));case 24:return T.next=26,i.a.awrap(r(Object(h.a)(I)));case 26:T.next=32;break;case 28:throw T.prev=28,T.t0=T.catch(15),k(n(),!1),T.t0;case 32:case"end":return T.stop()}}),null,null,[[15,28]])}))},"s+L8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){if(e&&e.quality_info)return JSON.stringify(e.quality_info).length>3e3?{error:"too_big"}:e.quality_info}))},s6gp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("ivQ0"),i="/collections/api/links/redirect/?url=",a="https://yandex.ru",o=/^\/collections\/api\/links\/redirect\/\?url=/,s="https:";function c(e){if(!e)return"";var t=String(e);return Object(r.a)(t)||("/"===t[0]&&"/"===t[1]?e=s+t:(console.error('Invalid external link url: "'+e+'"'),e=a+("/"===t[0]?"":"/")+t)),i+encodeURIComponent(e)}},s7PA:function(e,t,n){},s8pf:function(e,t,n){"use strict";var r=n("2HND")["message-box__close"];t.a=function(e,t){return"function"==typeof r[e]?r[e](t):r[e]}},sCwW:function(e,t,n){"use strict";n("lawM"),n("hT9L");var r=n("UjZ0");t.a=r.a.applyDecls()},sIh0:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({breadcrumbName:"Contests",submission:function(e){return"Applications will be accepted until "+i(e.time)+"."},evaluation:function(e){return"Voting until "+i(e.time)+"."},conclusion:"The contest is over.",intervalEnabled:function(e){return"The contest is being held from "+i(e.from)+" to "+i(e.to)+"."},intervalDisabled:function(e){return"The contest was held from "+i(e.from)+" to "+i(e.to)+"."},ballotsCount:[function(e){return i(e.count)+" card submitted."},function(e){return i(e.count)+" cards submitted."},"No cards submitted."],rulesLabel:"Rules and guidelines",submit:"Participate",vote:"Vote",photoDailyTitle:"Photo of the day",photoDailyDescription:"Photo of the day takes central spot on the contests page in Yandex.Collections. You can vote for the photo of the day here from 21:00 until 24:00 Moscow Time (UTC+3)."})},sLLO:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({moreLabel:function(e){return"Ещё "+i(e.count)}})},sTXx:function(e,t,n){},seBF:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/9ed7.svg"},sioy:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dNc+"),i=n("IWXk"),a=n("K5nR"),o=Object(a.a)({normalizer:r.i,getEntity:i.a})},spzH:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({title:"Save changes to card?",no:"Don't save",yes:"Save"})},stuq:function(e,t,n){"use strict";function r(e,t){if(null==e)return"";var n=t&&t.delimiter||" ";return String(e).replace(/(\d+(?:\.\d+)?)/g,(function(e){return e.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1"+n)}))}n.d(t,"a",(function(){return r}))},syVy:function(e,t,n){"use strict";var r=n("gdn7");t.a=r.a.applyDecls()},t0kG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="CardCreateStrategy"]="CardCreateStrategy"]=t,e[e[t="CardReceiveShareBusCardStrategy"]="CardReceiveShareBusCardStrategy"]=t,e[e[t="CardCreateContentStrategy"]="CardCreateContentStrategy"]=t,e[e[t="CardCreateGuestStrategy"]="CardCreateGuestStrategy"]=t,e[e[t="CardShareStrategy"]="CardShareStrategy"]=t,e[e[t="CardChangeBoardStrategy"]="CardChangeBoardStrategy"]=t,e[e[t="CardsFetchFromFilesStrategy"]="CardsFetchFromFilesStrategy"]=t,e[e[t="CardsFetchFromQueryStrategy"]="CardsFetchFromQueryStrategy"]=t,e[e[t="CardsFetchFromHtmlStrategy"]="CardsFetchFromHtmlStrategy"]=t,e[e[t="CardAddContentStrategy"]="CardAddContentStrategy"]=t,e[e[t="CardSetCurrentCardToReduxStrategy"]="CardSetCurrentCardToReduxStrategy"]=t,e[e[t="CardToReduxStrategy"]="CardToReduxStrategy"]=t,e[e[t="CardRemoveStrategy"]="CardRemoveStrategy"]=t,e[e[t="CardEditStrategy"]="CardEditStrategy"]=t,e[e[t="CardRemoveFromFeedToReduxStrategy"]="CardRemoveFromFeedToReduxStrategy"]=t,e[e[t="CardRemoveFromContestReduxStrategy"]="CardRemoveFromContestReduxStrategy"]=t,e[e[t="CardCreateToBoardStrategy"]="CardCreateToBoardStrategy"]=t,e[e[t="BoardSaveStrategy"]="BoardSaveStrategy"]=t,e[e[t="BoardSuggestNameStrategy"]="BoardSuggestNameStrategy"]=t,e[e[t="BoardsRefetchStrategy"]="BoardsRefetchStrategy"]=t,e[e[t="BoardToReduxStrategy"]="BoardToReduxStrategy"]=t,e[e[t="CommonImageInfoStrategy"]="CommonImageInfoStrategy"]=t,e[e[t="HintSidebarStrategy"]="HintSidebarStrategy"]=t,e}({})},t22s:function(e,t,n){},t2Gq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("o0o1"),i=n.n(r),a=n("4RqY"),o=n("nAK0"),s=Object(a.a)((function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.counter,o.d.showTooltip(t);case 2:case"end":return n.stop()}}))}))},t8R9:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;e.exports=r({title:{v:"Sign in<br>to save your subscriptions",r:function(e){return i.createElement(i.Fragment,null,"Sign in",i.createElement("br",{}),"to save your subscriptions")},h:function(e){return(this.isRestored?c:s)(["Sign in",(this.isRestored?o:a)("br","",{},[],{view:this}),"to save your subscriptions"])}},description:"Feed will be available on all devices where you are signed in",button:"Sign in"})},t9gz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rpX3"),i=Object(r.a)("viewer",{})},"tSK+":function(e,t,n){},tTXn:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/d382.gif"},tVjm:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=n("Oi3d"),c=n("9+Yy"),u=Object(c.a)("cards",{}),l=n("6ga4"),d=n("h3n8"),h=n("Qe1c"),f=n("MTjZ"),p=n("aJLw"),b=n("U9Ap"),m=n("CsIx"),v=n("o0o1"),g=n.n(v),O=n("lc+m"),_=n("Jxqj"),y=n("+mVu"),C=n("c+Ap"),E=n("0q89"),j=n("gLBg"),S=n("/bNA"),w=n("Kj4u"),k=n("QodL"),I=n("x9gI"),T=n("hfWR"),R=n("R2yN"),L=n("RouB"),x=n("ICaW"),D=n("oYiD"),N=n("4RqY"),A=n("u6Zt"),P=n("1WnH"),B=Object(N.a)((function(e,t){var n=e.cardId,r=t.getState,i=t.dispatch,a=r(),o=Object(f.a)(a);if(!Object(L.a)(o)){var s=Object(I.a)(a,x.d.COLLECTIONS_UNAUTH_LIKE);if(s){var c,u=Object(R.a)(a),l=u.session_first_like_timestamp,d=u.session_likes_count;if(!d||l&&l+D.a<Date.now()?(c=1,i(Object(A.a)({key:"session_first_like_timestamp",value:Date.now()}))):c=d+1,c<=s&&d!==c&&i(Object(A.a)({key:"session_likes_count",value:c})),c===s){var h=Object(T.a)(a)+Object(j.k)(n);return i(Object(P.a)({type:k.c.UNAUTH_LIKE,animationType:k.a.MODAL,options:{retpath:h}}))}}}})),M=n("aKBe"),U=n("+XmN"),F=n("5Rl3"),V=n("FOrz"),H=Object(N.a)((function(e,t){var n=e.id,r=t.getState,i=t.dispatch,a=u(r(),n).pulseCount||0;return i(Object(V.a)({id:n,value:{pulseCount:a+1}}))})),W=n("sioy"),z=n("nAK0"),K=n("cX81"),Y="/collections/api/likes/",q={};function G(e,t){var n=Object(y.a)(e,t);K.a.dataFactory(n,{parse:!0}).set({is_liked:n.is_liked,stat:n.stat})}function X(e,t){var n,r,a,o,s,c,u,l,d,h,b,v,y,k,I;return g.a.async((function(T){for(;;)switch(T.prev=T.next){case 0:if(n=e.id,r=e.isLiked,a=e.counter,o=t.di,s=t.dispatch,c=t.getState,u=Object(O.a)(c(),n)){T.next=7;break}return T.next=6,g.a.awrap(s(Object(w.a)({cardId:n})));case 6:u=Object(O.a)(c(),n);case 7:if(u){T.next=9;break}throw new Error("Card not found with id "+n);case 9:if(r&&s(B({cardId:n})),l=Object(_.a)(c(),n),!Object(m.a)(l)){T.next=15;break}return d={route:j.a.CARD,params:{id:n}},T.abrupt("return",s(Object(U.a)({passportLoc:E.a.LIKE,counter:a,retpath:d})));case 15:if(h=u.stat.likes_count,b=Object(p.a)(u),v=h,b!==r){T.next=21;break}return r&&s(H({id:n})),T.abrupt("return");case 21:return b!==r&&(v=Math.max(0,h+(r?1:-1))),s(Object(M.a)({id:n,value:{is_liked:r,stat:i()({},u.stat,{likes_count:v})}})),G(c(),n),a=i()({},a,{liked:r,cardId:n}),z.d.clickCardLike(a),T.next=28,g.a.awrap(o("request"));case 28:if(y=T.sent,T.prev=29,!r){T.next=35;break}return T.next=33,g.a.awrap(y.post(Y,{card:n}));case 33:T.next=37;break;case 35:return T.next=37,g.a.awrap(y.del(Y,{card:n}));case 37:Object(F.a)(n),T.next=47;break;case 40:if(T.prev=40,T.t0=T.catch(29),T.t0.status===C.v.CONFLICT){T.next=47;break}throw s(Object(M.a)({id:n,value:{is_liked:!r,stat:i()({},u.stat,{likes_count:h})}})),G(c(),n),S.a.showXHRMessage(T.t0),T.t0;case 47:(k=Object(f.a)(c()))&&(I=Math.max(0,k.stats.own_likes+(r?1:-1)),k.id&&s(Object(W.a)({id:k.id,value:{stats:i()({},k.stats,{own_likes:I})}}))),z.d.finishCardLike(a);case 50:case"end":return T.stop()}}),null,null,[[29,40]])}var J=Object(N.a)((function(e,t){var n,r;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.id,!q[n]){i.next=3;break}return i.abrupt("return",q[n]);case 3:return r=X(e,t),q[n]=r.then((function(e){return delete q[n],e}),(function(e){throw delete q[n],e})),i.abrupt("return",r);case 6:case"end":return i.stop()}}))})),Z=n("EvZm"),Q=n("zPqc");n.d(t,"a",(function(){return $}));var $=Object(o.b)((function(e,t){var n=t.cardId,r=t.onLike;return{pulseCount:u(e,n).pulseCount||0,isLiked:Object(p.a)(e,n),likesCount:Object(h.a)(e,n),enableLikeTrigger:Boolean(r&&!(Object(m.a)(Object(f.a)(e))&&Object(b.a)(e,n)))}}))((function(e){var t=e.mods,n=e.cardId,r=e.label,o=e.showStat,c=e.className,h=e.isLiked,f=e.likesCount,p=e.enableLikeTrigger,b=e.onLike,m=e.dispatch,v=e.hand,g=e.counter,O=i()({},e,{props:i()({},e.props)}),_=function(e,t){void 0===t&&(t=1);var n=Object(s.a)(u,e),r=n&&n.pulseCount||0,i=Object(a.useRef)(r),o=Object(a.useState)([!1,!1]),c=o[0],l=o[1];return Object(a.useEffect)((function(){var e=!1;if(!c.some(Boolean))return r!==i.current&&(i.current=r,l([!0,!1]),setTimeout((function(){e||(l([!0,!0]),setTimeout((function(){e||l([!1,!1])}),250))}))),function(){e=!0}}),[r]),c[t]}(n);return a.createElement(Z.a,i()({},O,{mods:i()({state:!!h&&"check"},t),className:Object(l.a)("button_card",{hl:_},c),label:o&&f?a.createElement(Q.a,{count:f,formatValue:function(e){return Object(d.a)(e,!0)}}):r,onClick:function(){m(J({id:n,isLiked:!h,counter:g})),p&&b&&b(!h)},iconMods:v?{"like-24x24":!0}:void 0}))}))},tWT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("SUYq"),i=n("OyHf");function a(e,t){var n,a,o=t&&t.isCompany,s=t&&t.size||i.d,c=Object(i.i)(o,s),u=o?i.a:i.c;return e&&("object"==typeof e?e instanceof r.a?(a=e.getAvatarId(),n=e.getLogin()):(a=e.default_avatar_id,n=e.login):n=e),a===i.b&&o?Object(i.f)(a,s,i.c):a?Object(i.f)(a,c,u):n&&!o?Object(i.g)(n,s):Object(i.f)(i.b,s,i.c)}},tkrc:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/ce33.woff"},tpMH:function(e,t,n){"use strict";function r(e){if(e&&e.source&&e.source.entity)return e.source.entity.hint_description}n.d(t,"a",(function(){return r}))},tvS1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("80cV"),i=n("y6Xm"),a=n("RLYd"),o=Object(a.a)(r.a,Object(i.a)("shares_count",0))},tvkE:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/0ced.gif"},txgp:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("lc+m"),c=n("JaHL"),u=n("7/cf"),l=n("hV2r"),d=n("BKHA"),h=n("izju");function f(e){var t,n=Object(d.a)(e);t=n.cards?Object(s.a)(e,n.cards[0]):Object(u.b)(e);var r=Object(c.a)(t);if(r&&r in h.a)return r;var i=Object(l.a)(e),a=i&&i.source_type;return a&&a in h.a?a:(console.error("FetchBoards: source type not found",t),h.a.IMAGE)}var p=n("M740"),b=n("MTjZ"),m=n("nt9X"),v=n("RouB"),g=n("c+Ap"),O=n("dohL"),_=n("4RqY"),y=n("S7YN");n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return j}));var C={page:1,page_size:12,sort:"-service.updated_at",add_default:!0,previews_count:g.J},E="addBoards",j=Object(_.a)((function(e,t){var n,r,a,s,c,u,l,d,h;return i.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return void 0===e&&(e={}),r=t.getState,a=t.dispatch,s=r(),c=f(s),(!(l=Object(p.a)(s,E))||l&&l.saveable_for_source_type!==c||e.force)&&(u={reset:{results:[]}}),d=Object(b.a)(s),Object(v.a)(d),h=o()({},C,{},c?((n={}).saveable_for_source_type=c,n):{},{},{},{saveable_for_user:Object(m.a)(d)},e.card?{card:e.card}:{}),g.prev=9,g.next=12,i.a.awrap(a(Object(y.a)(o()({},u,{storeKey:E,url:"/collections/api/boards",query:h}))));case 12:g.next=17;break;case 14:g.prev=14,g.t0=g.catch(9),a(Object(O.a)({error:g.t0}));case 17:case"end":return g.stop()}}),null,null,[[9,14]])}))},u2Ez:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({updated:"Обновлено",add:"Add"})},u3Je:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("ukm6"),o=Object(r.a)(a.a,Object(i.a)("modal"))},u6Zt:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),i=n.n(r),a=n("R2yN"),o=n("TuN5"),s=n("MTjZ"),c=n("nt9X"),u=n("4RqY"),l=n("gF9f"),d=n("QEzC"),h=Object(u.a)((function(e,t){var n,r=e.key,u=e.value,h=e.prefix,f=t.getState,p=t.dispatch,b=f(),m=Object(s.a)(b),v=Object(c.a)(m),g=Object(a.a)(b),O=i()({},g,((n={})[r]=u,n));d.a.setItem(Object(o.a)(v,h),JSON.stringify(O)),p(Object(l.a)({localStorage:O}))}))},u6vq:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("cDcd"),o=n("JxqJ"),s=(n("8Nud"),n("PEpF")),c=(Object(s.decl)({block:"dropdown2",willInit:function(){this.__base.apply(this,arguments),this._onPageScroll=this._onPageScroll.bind(this)},mods:function(){return{opened:!!this.state.opened&&"yes"}},_onPageScroll:function(){this.state.opened&&this._onOutsideClick()},willUnmount:function(){this._removeScrollListener()},_removeScrollListener:function(){window.removeEventListener("scroll",this._onPageScroll)},_handleStateUpdate:function(e){e.opened?window.addEventListener("scroll",this._onPageScroll,{passive:!0}):e.opened||this._removeScrollListener()},shouldUpdate:function(e,t){var n=this.__base.apply(this,arguments);return this._handleStateUpdate(t),void 0===n||n}}),n("rsi3").a.applyDecls()),u=n("2fS7");n("rGqV"),n("Lv6l"),n("bfR5"),n("JabQ"),n("CPm8"),n.d(t,"a",(function(){return l}));var l=Object(o.a)()((function(e){var t,n=e.switcher,r=e.mix,o=e.theme,s=void 0===o?"normal":o,l=e.size,d=void 0===l?"s":l,h=e.switcherType,f=void 0===h?"link":h,p=e.hasTail,b=void 0===p||p,m=e.popupProps,v=e.popupMix,g=e.switcherMix;return a.createElement(c,{theme:s,size:d,switcher:f,hasTail:b,mix:r,popup:a.createElement(u.a,i()({theme:s,mix:v},m),a.createElement("div",{onClick:function(){t._onOutsideClick()}},e.children)),ref:function(e){return t=e}},a.createElement(c.Switcher,{mix:g},n))}))},u9cf:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("RvyH"),o=n("T6Rw"),s=n("3WeZ"),c=Object(o.a)((function(e,t){var n=Object(a.a)(e);return n&&n.overflow===t?e:Object(s.a)(e,{layout:i()({},n,{overflow:t})})}))},"uDO+":function(e,t,n){"use strict";var r=n("xdPx")["i-services"];t.a=function(e,t){return"function"==typeof r[e]?r[e](t):r[e]}},uDOU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+\.[^:\/\n\?\=]+)/i;function i(e){if(e){var t=String(e).match(r);return t?t[1]:void 0}}},uPfy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lc+m"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){return e&&e.meta&&e.meta.data}))},uSlG:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({chooseFile:"Select a file",orDragHere:"or drag it here",error:"Invalid file format. Try loading another image file."})},uUW4:function(e,t,n){},uYmT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("cDcd"),i=n("JxqJ"),a=n("wip6"),o=n("6ga4"),s=n("ft62"),c=(n("TX2p"),n("nHaW"),n("+6KZ"),n("l11M"),n("qFO9"),Object(a.a)()),u=Object(i.a)((function(e){return{favoritesHeader:Object(s.a)(e)}}))((function(e){var t=e.favoritesHeader;return r.createElement(c,null,r.createElement("div",{className:Object(o.a)("fade",{region:"main",progress:"yes","favorite-header":t&&"yes"})},r.createElement("div",{className:Object(o.a)("spin2",{size:"m",view:"default",tone:"default",progress:"yes"})})))}))},ua1k:function(e,t,n){"use strict";var r,i,a,o,s,c=n("VbXa"),u=n.n(c),l=n("cDcd"),d=n("JxqJ"),h=n("ueXh"),f=n("pVnL"),p=n.n(f),b=n("U+yc"),m=n.n(b),v=n("LH8O"),g=n("6ga4"),O=n("x9gI"),_=n("ICaW"),y=n("osxO"),C=n("DVNm"),E=n("EvZm"),j=n("y1pN"),S=n("/KRU"),w=n("fjc+"),k=n("gLBg"),I=n("pryo"),T=n("nAK0"),R=n("D5L8"),L=n("Z+0I"),x=n("MMsl"),D=n("FcaK");n("yG+O"),n("XU4w"),n("BGl9");var N,A,P,B,M,U,F,V=(r=Object(v.a)(),i=Object(v.a)(),a=Object(v.a)(),o=Object(v.a)(),s=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.onShow=function(){T.d.showNotification({type:this.props.type}),this.props.onShow&&this.props.onShow()},n.onClose=function(){this.props.onClose&&this.props.onClose()},n.onSecondaryClick=function(){var e=this.props,t=e.type,n=e.onSecondaryClick;T.d.clickNotificationAction({type:t,action:"secondary"}),n&&n()},n.onPrimaryClick=function(){var e=this.props,t=e.type,n=e.onPrimaryClick;T.d.clickNotificationAction({type:t,action:"primary"}),n&&n()},n.render=function(){var e=this.props,t=e.type,n=e.title,r=e.text,i=e.hasClose,a=e.secondaryLabel,o=e.primaryLabel,s=e.primaryOptions,c=[];return a&&c.push(l.createElement(D.a,{key:"secondary",view:R.d.DEFAULT,theme:R.b.CLEAR,size:R.a.NORMAL,tone:R.c.DARK,onClick:this.onSecondaryClick,text:a})),o&&c.push(l.createElement(D.a,p()({key:"primary",theme:R.b.ACTION,size:R.a.NORMAL,onClick:this.onPrimaryClick,text:o},s))),l.createElement(L.a,{tone:x.d.DEFAULT,config:{mods:{type:t,notif:!0}},title:n,text:r,hasClose:i,onShow:this.onShow,onClose:this.onClose,buttons:c})},t}(l.Component),m()(s.prototype,"onShow",[r],Object.getOwnPropertyDescriptor(s.prototype,"onShow"),s.prototype),m()(s.prototype,"onClose",[i],Object.getOwnPropertyDescriptor(s.prototype,"onClose"),s.prototype),m()(s.prototype,"onSecondaryClick",[a],Object.getOwnPropertyDescriptor(s.prototype,"onSecondaryClick"),s.prototype),m()(s.prototype,"onPrimaryClick",[o],Object.getOwnPropertyDescriptor(s.prototype,"onPrimaryClick"),s.prototype),s),H=Object(d.a)()(V),W=n("RzI8"),z=(N=Object(v.a)(),A=Object(v.a)(),P=Object(v.a)(),B=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.onClose=function(){this.props.onClose()},n.onChange=function(){var e=this.props,t=e.counter,n=e.repinExp;T.d.clickAddTooltipCollectionsMove(p()({},t,{cardId:this.props.cardId})),n&&this.props.dispatch(Object(I.a)({cardId:this.props.cardId}))},n.onDone=function(){var e=this.props.counter;T.d.clickAddTooltipCollections(p()({},e,{cardId:this.props.cardId})),this.props.onClose()},n.render=function(){var e=this.props,t=e.boardTitle,n=e.boardUrl,r=e.asCompanyLogin;return l.createElement(H,{type:"card-add-success",text:W.successAddMessage.r({board_url:n,board_title:t}),primaryLabel:r?"":W.buttonGoLink(),secondaryLabel:r?"":W.buttonChange(),hasClose:!0,onClose:this.onClose,onSecondaryClick:this.onChange,onPrimaryClick:this.onDone,primaryOptions:{type:"link",url:n}})},t}(l.Component),m()(B.prototype,"onClose",[N],Object.getOwnPropertyDescriptor(B.prototype,"onClose"),B.prototype),m()(B.prototype,"onChange",[A],Object.getOwnPropertyDescriptor(B.prototype,"onChange"),B.prototype),m()(B.prototype,"onDone",[P],Object.getOwnPropertyDescriptor(B.prototype,"onDone"),B.prototype),B),K=Object(d.b)((function(e,t){var n,r=t.cardId,i=Object(S.a)(e,r),a=Object(j.a)(e,i),o=Boolean(Object(O.a)(e,_.d.COLLECTIONS_DESKTOP_REPIN_ONECLICK));return{boardUrl:Object(O.a)(e,_.d.COLLECTIONS_TOOLTIP_COLLECTION_SHARE)?Object(k.f)(a.login,i.slug,((n={})[w.a.SHARE_COLLECTION_TOOLTIP]=String(Math.round(Date.now()/1e3)),n)):Object(k.f)(a.login,i.slug),boardTitle:i.title,repinExp:o}}))(z),Y=n("3lXt"),q=n("Oi3d"),G=n("Gyaw"),X=n("1qis"),J=(n("i5L7"),n("GWHe")),Z=n("8p4Y"),Q=((M={})[y.b.ADDED]=K,M[y.b.ADDED_BULK]=function(e){var t=e.count,n=e.boardId,r=e.onClose,i=Object(q.a)(j.a,n),a=Object(q.a)(Y.a,n),o=Object(k.f)(i.login,a.slug);return l.createElement(H,{type:"card-add-bulk-success",text:G.cardsCreated.r({count:t,board_url:o,board_title:a.title}),primaryLabel:G.buttonDone(),hasClose:!0,onClose:r,onPrimaryClick:r})},M[y.b.CHAT_OPENED]=function(e){var t=e.onClose;return l.createElement(H,{type:"chat-opened",title:X.title(),text:X.text(),hasClose:!0,onClose:t})},M[y.b.ERROR]=function(e){var t=e.message,n=e.onClose;return l.createElement(H,{type:"error",text:t,primaryLabel:Z.buttonOk(),hasClose:!0,onClose:n,onPrimaryClick:n})},M),$=(U=Object(v.a)(),F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={hidden:!0},t}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props.notification,n=t.removeOnScroll,r=t.persistent;if(setTimeout((function(){e.isDestroyed||(e.setState({hidden:!1}),r||(e.timeout=setTimeout((function(){return e.hide()}),5e3)))}),50),n){var i=function(){window.removeEventListener("scroll",i),e.hide()};window.addEventListener("scroll",i)}},n.componentWillUnmount=function(){this.isDestroyed=!0,this.timeout&&clearTimeout(this.timeout)},n.hide=function(){var e=this;this.state.hidden||(this.setState({hidden:!0}),setTimeout((function(){e.props.dispatch(Object(C.a)({id:e.props.notification.id}))}),1e3))},n.render=function(){var e,t,n=this,r=this.props,i=r.notification,a=i.message,o=i.url,s=i.data,c=i.type,u=r.theme,d=r.showLegoNotification,h=!1,f=this.state.hidden;"dark"===u?e=l.createElement("div",{className:"notif__hide"},l.createElement(E.a,{label:J.hide(),type:"clear",size:"M",onClick:function(){return n.hide()}})):"normal"===u&&(e=l.createElement("div",{className:"notif__close"},l.createElement(E.a,{iconOnly:!0,type:"clear",mods:{"action-close":[!0,"invert"]},onClick:function(){return n.hide()},icon:!0})));var b=Q[c];if(b&&d)e=!1,h=!0,t=l.createElement(b,p()({onClose:this.hide},s));else{var m=l.createElement(l.Fragment,null,l.createElement("div",{className:"notif__pop__wrap"},o&&l.createElement("a",{href:o,className:"notif__link"}),l.createElement("p",{className:"notif__text"},a)),e);t=l.createElement("div",{className:"notif__pop__i"},m)}return l.createElement("div",{className:Object(g.a)("notif__pop",{state:f?"hidden":"visible",close:Boolean(e),theme:u,transparent:h})},t)},t}(l.Component),m()(F.prototype,"hide",[U],Object.getOwnPropertyDescriptor(F.prototype,"hide"),F.prototype),F),ee=Object(d.a)((function(e,t){var n=!1;switch(t.notification.type){case y.b.UPDATED:n=!0;break;case y.b.ADDED:n=Boolean(Object(O.a)(e,_.d.COLLECTIONS_DESKTOP_REPIN_ONECLICK));break;default:n=!0}return{showLegoNotification:n}}))($),te=n("w85Y"),ne=n("GhlN"),re=n("+3i7"),ie=n("ukm6"),ae=n("785c");n.d(t,"a",(function(){return ce}));var oe=[],se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={firstRender:!0},t}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({firstRender:!1})},n.componentWillReceiveProps=function(){this.props.omniboxState},n.getStyle=function(){var e=this.props;return e.omniboxState,e.ios,e.bottom,{}},n.render=function(){var e=this.props,t=e.notifications,n=e.isBrowserApp,r=e.isYandexRecent,i=e.type,a=void 0===i?h.a.DEFAULT:i,o=e.disablePortal,s=this.getStyle(),c=l.createElement("div",{className:Object(ne.a)("notif",{type:a}),style:this.state.firstRender?void 0:s},t.map((function(e){return l.createElement(ee,{key:e.id,notification:e,theme:n?"white":r?"dark":"normal"})})));return o?c:l.createElement(re.a,{id:"notif"},c)},t}(l.Component),ce=Object(d.a)((function(e,t){var n=t.type;return{notifications:function(e,t){var n=function(e){var t=Object(ie.a)(e)[ae.a],n=t&&t.point&&t.point.view!==ae.c.EMPTY;return Boolean(n)}(e);return t===h.a.FLOW_CONTAINER?n:!n}(e,void 0===n?h.a.DEFAULT:n)&&e.notifications||oe,isBrowserApp:e.env.isBrowserApp,isYandexRecent:Object(te.a)(e),ios:void 0,bottom:void 0,omniboxState:void 0}}))(se)},uaqs:function(e,t,n){"use strict";function r(e){return!!e&&["rur","rub"].includes(e.toLowerCase())}n.d(t,"a",(function(){return r}))},ueXh:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="DEFAULT"]="default"]=t,e[e[t="FLOW_CONTAINER"]="flow-container"]=t,e}({})},ufIl:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({steam:"Steam",metacritic:"Metacritic",gplay:"Google Play"})},uhAh:function(e,t,n){"use strict";n("Nn3Z"),n("yO7b"),n("EF4d"),n("A4mO").a.applyDecls()},ujXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=0;function i(){return"fake-"+ ++r}},ukm6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("y6Xm"),i=Object(r.a)("ui",{})},ulRV:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({loaded:"Uploaded"})},urtd:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("U+yc"),c=n.n(s),u=n("ANjH"),l=n("dNc+"),d=n("asM3");function h(){var e=new WeakSet;return function(t){if(!t)return t;var n=Object(l.f)(t.entities||{},t,{cache:e});return n.entities!==t.entities?i()({},n.obj,{entities:Object(d.a)(n.entities)}):n.obj}}h();var f,p,b=n("gF9f"),m=n("LH8O"),v=(f=Object(m.a)(),p=function(){function e(e){this.normalizeState=h(),e&&(this.di=e)}var t=e.prototype;return t.setData=function(e){if(this.data)this.dispatch(Object(b.a)(e));else{var t=Object(u.a)(this.asyncMiddleware.bind(this));this.store=Object(u.c)(this.reducer.bind(this),e,t)}this.data=e},t.dispatch=function(e){return this.store.dispatch(e)},t.getState=function(){return this.store.getState()},t.asyncMiddleware=function(e){var t=this,n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i({dispatch:n,getState:r,di:t.getDi(),setState:t.setState}):e(i)}}},t.getDi=function(){return this.di},t.setState=function(e,t){void 0===t&&(t="setState"),this.dispatch({type:t,payload:e})},t.reducer=function(e,t){return this.normalizeState(this.replaceReducer(e,t))},t.replaceReducer=function(e,t){return t.payload?t.payload:e},e}(),c()(p.prototype,"setState",[f],Object.getOwnPropertyDescriptor(p.prototype,"setState"),p.prototype),p),g=n("iROX"),O=n("o0o1"),_=n.n(O),y=n("JTLk"),C=n("gLBg"),E=n("4RqY"),j=Object(E.a)((function(e,t){var n,r,i,a,o,s;return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.di,i=t.dispatch,a=n(),o=a&&a.event,!a||!o){e.next=9;break}if(o.route!==C.a.DAILY_PHOTO){e.next=9;break}return e.next=7,_.a.awrap(r("env"));case 7:return s=e.sent,e.abrupt("return",i(Object(b.a)({contest:Object(y.a)(s.timeDelta,o.query)})));case 9:case"end":return e.stop()}}))})),S=n("T6Rw"),w=Object(S.a)((function(e,t){var n=t.reduce((function(e,t){return e[t]=void 0,e}),{});return i()({},e,{},n)})),k=n("TuN5"),I=n("MTjZ"),T=n("nt9X"),R=n("QEzC"),L=Object(E.a)((function(e,t){var n,r=t.getState,i=t.dispatch,a=r(),o=Object(I.a)(a),s=Object(T.a)(o),c=R.a.getItem(Object(k.a)(s));try{n=c?JSON.parse(c):{}}catch(e){console.error(e),n={}}i(Object(b.a)({localStorage:n}))})),x=n("WbN8");function D(e){var t=navigator.serviceWorker;if(t){var n=i()({ua:window.navigator.userAgent},e),r=t.controller;r&&r.postMessage?r.postMessage(n):t.ready&&t.ready.then((function(e){e&&e.active&&e.active.postMessage&&e.active.postMessage(n)}))}}var N=n("G7p/");function A(e,t){return e&&e.event&&e.event.cookies&&e.event.cookies[t]}var P=function(e,t){return e[e[t="CREATE_CACHE"]="sw-create-cache"]=t,e[e[t="REFRESH_CACHE"]="sw-refresh-cache"]=t,e[e[t="USER_UPDATED"]="sw-user-updated"]=t,e}({}),B=n("ruzH"),M=n("c+Ap"),U=n("lc+m"),F=n("Kj4u"),V=n("aKBe"),H=n("qh/6"),W=n("ICS8");function z(e,t){return Object(E.a)((function(n,r){var i;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(Object(W.a)(e));case 2:(i=n.sent)&&i.addEventListener("message",(function(e){var n=e.data;e.data&&e.data.data&&(n=e.data.data),t(n,r)}));case 4:case"end":return n.stop()}}))}))}var K,Y=(K=function(e,t){var n,r,i,a;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.getState,r=t.dispatch,i=e.id,a=e.value,Object(U.a)(n(),i)){o.next=4;break}return o.abrupt("return");case 4:return a&&r(Object(V.a)({id:i,value:a})),o.prev=5,o.next=8,_.a.awrap(r(Object(F.a)({cardId:i})));case 8:o.next=13;break;case 10:o.prev=10,o.t0=o.catch(5),console.error(o.t0);case 13:case"end":return o.stop()}}),null,null,[[5,10]])},z(H.a.SYNC_CARD,K)),q=n("TChA"),G=z(H.a.REMOVE_CARD,(function(e,t){var n,r,i;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.getState,r=t.dispatch,i=e.id,Object(U.a)(n(),i)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,a.next=7,_.a.awrap(r(Object(q.a)({id:i})));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),console.error(a.t0);case 12:case"end":return a.stop()}}),null,null,[[4,9]])})),X=n("+r4z"),J=n("FVd+"),Z=Object(E.a)((function(e,t){var n,r,i,a,o;return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,i=Object(I.a)(n())){e.next=4;break}return e.abrupt("return");case 4:if(!(a=i.merge_task)){e.next=17;break}return e.next=8,_.a.awrap(r(Object(J.a)({taskId:a.id})));case 8:if((o=Object(X.a)(n()))!==C.a.BOARD){e.next=14;break}return e.next=12,_.a.awrap(r(Object(B.a)({filter:["board"]})));case 12:e.next=17;break;case 14:if(o!==C.a.PROFILE){e.next=17;break}return e.next=17,_.a.awrap(r(Object(B.a)({filter:["profileUser"]})));case 17:case"end":return e.stop()}}))})),Q=n("2/d/"),$=n("rreP"),ee=n("7wgA"),te=n("E097"),ne=z(H.a.CARD_NOTIFICATION,(function(e,t){var n,r,i;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.getState,n=t.dispatch,e&&e.options&&e.type&&(r=e.options,(i=e.type)===Q.a.ADD||i===Q.a.SHARE?n(Object($.a)({message:te.cardSave.r(r)})):i===Q.a.MOVE&&n(Object($.a)({message:ee.cardMove.r(r)})));case 2:case"end":return a.stop()}}))})),re=n("P34R"),ie=n("Wopx"),ae=n("w85Y"),oe=n("1WnH"),se=n("XPFG"),ce=n("i1uP"),ue=n("y6Xm"),le=n("IWXk"),de=Object(ce.a)(le.a,Object(ue.a)("_reset_session")),he=n("sioy"),fe=Object(E.a)((function(e,t){var n,r,i,a,o,s;return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,i=t.di,a=n(),o=Object(se.a)(Object(I.a)(a))){e.next=5;break}return e.abrupt("return");case 5:if(!de(a,o)){e.next=13;break}return r(Object(he.a)({id:o,value:{_reset_session:void 0}})),e.next=10,_.a.awrap(i("request"));case 10:return s=e.sent,e.next=13,_.a.awrap(s._checkCookieReset());case 13:case"end":return e.stop()}}))}));n.d(t,"a",(function(){return me}));var pe=["followingsBoards","followingsChannels","followingsUsers","followersUsers","boardSimilar","uiCurrentVisibleTooltipKey"],be=[C.a.FOLLOWINGS_CHANNELS,C.a.FOLLOWINGS_USERS,C.a.FOLLOWINGS_BOARDS,C.a.FOLLOWERS,C.a.BOARD_FOLLOWERS],me=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n.updateDependencies=function(e){var n=this,r=e.apphost,a=e.event,o=e.env,s=(e.state,e.request);if(this.env=o,s&&(s.reduxState=this),!(this.data&&a.isFirstRender&&this.data.event&&this.data.event.route!==C.a.OFFLINE)){var c=!this.data;return be.includes(a.name)||o.dispatch(Object(oe.a)(null)),r.fetch({route:a.name,origRoute:a.origName,query:i()({},a.query,{},a.params),cookies:{}},a.prepared).then((function(e){n.setData(e);var r=Object.keys(e);if(o.dispatch(w(pe.filter((function(e){return!r.includes(e)})))),c)return t.attachRedux(n,o);t.checkSessionReset(n)})).then((function(){return n})).catch((function(e){if(e.status===M.v.NOT_FOUND||e.statusCode===M.v.NOT_FOUND)throw new g.e("State data not found",i()({},a.query,{},a.params));throw e}))}t.checkSessionReset(this)},n.onRouterReady=function(){this.dispatch(j({}))},t.checkSessionReset=function(e){e.dispatch(fe())},n.getDi=function(){return this.env.di},t.attachRedux=function(e,t){return t.attachRedux(e).then((function(){return e.dispatch(L({}))})).then((function(){!function(e){var t=!1,n=!1;function r(){t||n||(t=!0,Object(N.b)((function(){var r,i,a;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,r=e.getState(),i=A(r,"yandex_login"),a=Object(x.a)("yandex_login"),i!==a){o.next=6;break}return o.abrupt("return");case 6:return o.next=8,_.a.awrap(e.dispatch(Object(B.a)({})));case 8:return o.next=10,_.a.awrap(e.dispatch(L({})));case 10:D({type:P.USER_UPDATED}),i=A(e.getState(),"yandex_login"),a=Object(x.a)("yandex_login"),i!==a&&(n=!0);case 14:return o.prev=14,t=!1,o.finish(14);case 17:case"end":return o.stop()}}),null,null,[[0,,14,17]])})))}document.addEventListener("visibilitychange",r),e.subscribe(r),r()}(e.store),e.dispatch(Z({})),e.dispatch(Y(null));var n=t.getState(),r=Object(re.a)(Object(ie.a)(n)),i=Object(ae.a)(n);return(r||i)&&(e.dispatch(G(null)),e.dispatch(ne(null))),e}))},t.restore=function(e,n){var r=n.env,i=this.factory();return i.setData(e),i.env=r,t.attachRedux(i,r)},t.factory=function(){return this.instance||(this.instance=new this),this.instance},t}(v)},v0RI:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({collections:"My collections"})},v4Hp:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r,i=n("o0o1"),a=n.n(i),o=n("pVnL"),s=n.n(o),c=n("8OQS"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("K9S7"),f=n("mdRN"),p=n("4MLz"),b=n("c+Ap"),m=n("ICaW"),v=n("cX81"),g=n("aqFj"),O=n("6KiY"),_=n("SiKM"),y={maxWidth:920,imageMargin:5,viewportHeight:250,minWidth:250},C={page_size:b.k},E=Object(f.a)({url:"/collections/api/cards/",model:v.a,fetchParams:C,prefix:""})(r=Object(h.a)()(r=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).cache={},t}d()(t,e);var n=t.prototype;return n.initialize=function(t,n){var r=this;e.prototype.initialize.call(this,t,n),this.on("add remove reset",(function(){r.invoke("setRequestAdapter",r.getRequestAdapter())})),this.on("change:complaint",(function(e){r.remove(e)})),this.on("pagination:fetch",(function(e){r._origRef&&r._origRef.trigger("pagination:fetch",e)}))},n.sync=function(t,n,r){var i=this;if(void 0===r&&(r={}),r.fetchWithCache){var a=r.data,o=(a.seed,u()(a,["seed"])),s=JSON.stringify(o),c=this.cache[s];return c?(r.success&&r.success.call(this,c),Promise.resolve(c)):e.prototype.sync.call(this,t,n,r).then((function(e){return i.cache[s]=e,e}))}return e.prototype.sync.call(this,t,n,r)},n.clone=function(){var e,t=new this.constructor(this.models,{request:this.getRequestAdapter()});return t.url=this.url,t.env=this.env,t.fetchParams=Object.assign({},this.fetchParams),t.restorePagination((e=this.serializePagination(),JSON.parse(JSON.stringify(e)))),t._origRef=this,t},n.scrollToCard=function(e){(this._origRef||this).trigger("scrollToCard",e)},n.fetchByBoard=function(e,t){return void 0===t&&(t={}),this.fetchWithOptions(Object.assign({},t,{"board.id":e,page_size:b.k,sort:"-service.created_at"}))},n.fetchByBoardSample=function(e,t){return void 0===t&&(t={}),this.fetchWithOptions(Object.assign({},t,{"board.id":e,page_size:b.l,sample:!0}),{disablePreflight:!0})},n.fetchBySimilarTo=function(e,t,n){void 0===t&&(t=b.k),void 0===n&&(n={});var r=this.getEnv(),i=e&&e.id,a=r&&r.hasFeature(m.a.COLLECTIONS_VIDEO_REC)&&e&&e.isVideo(),o=Object(p.a)();return this.counter={loc:"similarCards",similarCardId:i,cardsSessionId:o},this.fetchWithOptions({similar_to:i,index_video_enabled:a?1:void 0,page_size:t,page:1,seed:o},s()({},n,{disablePreflight:!0,fetchWithCache:!0}))},n.fetchWithOptions=function(e,t){return JSON.stringify(this.oldFetchParams)!==JSON.stringify(e)?(this.fetchParams=this.oldFetchParams=e,this.iteratorReset(this.fetchParams,t)):Promise.resolve(this)},n.abort=function(){var t=e.prototype.abort.call(this);return t&&(this.oldFetchParams={}),t},n.setImages=function(e){this.images=e},n.getImages=function(){var e=this;return this.images||(this.setImages(O.a.factory(this.getImagesFromCards())),this.on("update reset",Object(_.debounce)((function(){e.images.reset(e.getImagesFromCards()),e.scale()})))),this.images},n.getImagesFromCards=function(){return this.invoke("getImage")},n.scale=function(e){void 0===e&&(e={}),this.scaleOptions||(this.scaleOptions=Object.assign({},y)),this.scaleOptions=Object.assign(this.scaleOptions,e),this.getImages().scale(this.scaleOptions),this.trigger("scaled")},n.parse=function(t,n){var r=e.prototype.parse.call(this,t,n);return this.fetchParams&&this.fetchParams.sample?Object(_.shuffle)(r):r},n.transformFetchData=function(e){return this.fetchParams.sample&&(e.page=void 0),e},n.transformFetchOptions=function(e,t){return t=t||{},e&&(e.text||e.vertical)&&!t.url&&(t.url="/collections/api/cards/search/"),t},n.updateDependencies=function(e){var t=e.request,n=e.env;this.setRequestAdapter(t),this.env=n,this.invoke("setRequestAdapter",t)},n.updateCurrentCards=function(e){var t,n,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.event.query.boardId,n=e.request,r=e.env,i=e.currentCard,this.updateDependencies({request:n,env:r}),t){o.next=4;break}return o.abrupt("return",this);case 4:return o.prev=4,o.next=7,a.a.awrap(this.fetchByBoard(t));case 7:o.next=12;break;case 9:return o.prev=9,o.t0=o.catch(4),o.abrupt("return",this);case 12:return this.has(i.id)||this.unshift(i),o.abrupt("return",this);case 15:case"end":return o.stop()}}),null,this,[[4,9]])},n.updateDependenciesByBoard=function(e){var n=this,r=e.request,i=e.env,a=e.currentBoard.id;return this.counter={loc:"board",boardId:a},this.updateDependencies({request:r,env:i}),(i=this.getEnv())&&i.hasFeature(m.a.APPHOST_BOARD_DATA)?Promise.resolve(this):this.fetchParams&&this.fetchParams["board.id"]&&this.fetchParams["board.id"]!==a?t.factory().updateDependenciesByBoard(arguments[0]):this.fetchByBoard(a,{}).then((function(){return n}))},n.updateDependenciesSimilarCards=function(e){e.card;var t=e.env,n=e.request;e.event.query.cg_model_version,this.updateDependencies({request:n,env:t})},n.updateDependenciesBoardCards=function(e){var t=e.card,n=e.env,r=e.request;this.updateDependencies({request:r,env:n});var i=t.getBoard();t.id&&i&&i.id&&(this.counter={loc:"cardBoardCards",boardId:i.id},!this.getEnv().isUserAuthorized()&&i.isDefault()||this.fetchByBoardSample(i.id))},t.restore=function(e){var t=this.dataFactory(e,{parse:!0});return t.fetchFailed=e.fetchFailed,t.fetchParams=e.fetchParams,t.oldFetchParams=e.fetchParams,t},t}(g.a))||r)||r},v8AM:function(e,t,n){var r=n("SiKM"),i=r.extend({},r),a=Array.prototype.slice;function o(e){this._value=e,this.expose("map",i.map),this.expose("pluck",i.map),this.expose("reduce",i.reduce),this.expose("flatten",i.flatten),this.expose("compact",i.compact)}function s(e,t){return t&&"function"==typeof e?e.bind(t):e}function c(e,t){return t=void 0===t?2:t,function(n,r){var i=arguments[t],o=2===t?[]:a.call(arguments,2,t);return e.apply(void 0,[n,s(r,i)].concat(o))}}i.find=c(i.find),i.each=c(i.forEach),i.filter=c(i.filter),i.reduce=c(i.reduce,3),i.any=i.some,i.first=i.head,i.invoke=i.invokeMap,i.chain=function(e){return new o(e)},i.rest=i.drop=function(e,t){return a.call(e,void 0===t?1:t)},i.includes=function(e,t){return!(!i.isArrayLike(e)||!i.isFunction(e.indexOf))&&e.indexOf(t)>-1},o.prototype.expose=function(e,t){this[e]=function(){return this._value=t.apply(void 0,[this._value].concat(a.call(arguments,0))),this}},o.prototype.value=function(){return this._value},e.exports=i},vB0I:function(e,t,n){"use strict";function r(e,t){return function(n,r){if(r&&r[e])return t(n,r[e])}}n.d(t,"a",(function(){return r}))},vH2n:function(e,t,n){"use strict";n("JSWB"),n("rkHX");var r=n("Z6t6");t.a=r.a.applyDecls()},vSoZ:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({boardCreated:function(e){return'Collection "'+i(e.board_title)+'" created'},boardCreateDuplicate:"You already have a collection with that name",limitBoards:"Вы достигли ограничения на количество коллекций"})},vWga:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r,i=n("VbXa"),a=n.n(i),o=n("SiKM"),s=n("Iv6v"),c=n("cX81"),u=n("v4Hp"),l=n("mdRN"),d=n("/bNA"),h=n("c+Ap"),f=n("izju"),p=n("PSoe"),b=n("iROX"),m=n("t0kG"),v=n("ICaW"),g=n("pryo"),O=n("ANKn"),_=Object(o.values)(h.i),y=((r={})[h.i.ADD_FAVORITES]=m.a.CardCreateGuestStrategy,r[h.i.ADD_BOARDS]=m.a.CardCreateStrategy,r[h.i.BOARD_CREATE_ADD]=m.a.CardCreateStrategy,r[h.i.BOARD_CREATE_SHARE]=m.a.CardShareStrategy,r[h.i.CARD_MOVE]=m.a.CardChangeBoardStrategy,r[h.i.CARD_SHARE]=m.a.CardShareStrategy,r),C=[h.i.BOARD_CREATE,h.i.BOARD_CREATE_ADD,h.i.BOARD_CREATE_SHARE],E=function(e){function t(){return e.apply(this,arguments)||this}a()(t,e);var n=t.prototype;return n.initialize=function(t,n){var r=this;e.prototype.initialize.call(this,t,n),n.pluginMessageBus.read(p.e.SHARE_IMAGE,(function(e){var t=e.image;r.onPluginShareImage(t.src)})),this.listenTo(d.a,"board:create",this.refreshBoards),this.listenTo(d.a,"board:remove",(function(e){e.isDefault()&&r.refreshBoards()}))},n.refreshBoards=function(){this.getEnv().invokeStrategy(m.a.BoardsRefetchStrategy,{state:this})},n.setType=function(e,t,n){if(void 0===t&&(t={silent:!1}),this.hasType(e)){if(!this.isType(e)){var r=this.get("previousType");r.push(this.getType()),this.set("previousType",r),this.set("type",e,t),this.setTypeOptions(n);var i=!this.isClosed(),a=this.getEnv().getState();a&&(a.ui&&a.ui.layout&&a.ui.layout.sidebarOpen)!==i&&this.getEnv().dispatch(Object(O.a)(i))}}else console.warn('Type "'+e+"\" doesn't exist.")},n.setTypeOptions=function(e){this.set("typeOptions",e)},n.getTypeOptions=function(){return this.get("typeOptions")},n.getActualType=function(){return this.getType()},n.onCardsUpdate=function(){this.showResultsByCardsCount()},n.showResultsByCardsCount=function(){var e=this.getCards();1===e.length?this.toggleContent(e.at(0),!0).catch((function(e){console.log(e)})):this.showResults()},n.hasType=function(e){return _.includes(e)},n.getType=function(){return this.get("type")},n.getPreviousType=function(e){void 0===e&&(e=0);var t=this.get("previousType"),n=t.length,r=n-(e+1);return n&&t[r]?t[r]:null},n.isType=function(e){return this.getType()===e},n.isTypeBoardCreate=function(){return C.includes(this.getType())},n.isTypeSuggest=function(){return this.isType(h.i.ADD_SUGGEST)},n.isTypeResults=function(){return this.isType(h.i.ADD_RESULTS)},n.isTypeBoards=function(){return this.isType(h.i.BOARDS)},n.isTypeAddSeriesEdit=function(){return this.isType(h.i.ADD_SERIES_EDIT)},n.isTypeCardAddSuccess=function(){return this.isType(h.i.ADD_CARD_BOARD_SUCCESS)},n.isTypeAddFavorites=function(){return this.isType(h.i.ADD_FAVORITES)},n.isTypeAddBoards=function(){return this.isType(h.i.ADD_BOARDS)},n.isTypeCardEdit=function(){return this.isType(h.i.CARD_EDIT)},n.isTypeLoading=function(){return this.isType(h.i.LOADING)},n.isClosed=function(){return this.isType(h.i.NONE)},n.setTypeAuth=function(e){this.setType(h.i.AUTH,e)},n.setTypeBoards=function(){this.setType(h.i.BOARDS)},n.showFileUpload=function(){return this.isTypeAddSeriesEdit()||this.isTypeCardEdit()},n.hasCard=function(){return Boolean(this.getCard())},n.setCard=function(e){this.set("card",e)},n.getCard=function(){return this.get("card")},n.setSingleCard=function(e){var t=this.getCards();t.setFullyLoaded(),t.add(e),this.setCard(e),this.selectCard(e)},n.selectCard=function(e){this._selectedCards.push(e)},n.unSelectCard=function(e){this._selectedCards.remove(e)},n.setCards=function(e){this.set("cards",e)},n.hasMoreCards=function(){var e=this.getCards();return!!e&&e.length>1},n.hasCards=function(){var e=this.getCards();return!!e&&e.length>0},n.getCards=function(){return this.get("cards")},n.setBoard=function(e){this.set("board",e)},n.getBoard=function(){return this.get("board")},n.getNewBoard=function(){var e=this,t=this.getBoard();if(!t){var n={disableCreateNotification:this.hasCardContent()};t=this.userBoards.createEmptyBoard({},n),this.listenTo(t,{"validation:title:error":function(t){e.setBoardError(t)},"validation:title:success":function(){return e.setBoardError(null)}}),this.setBoard(t)}return t},n.getBoardError=function(){return this.get("boardError")},n.setBoardError=function(e){this.set("boardError",e)},n.getCardContent=function(){var e=this.getCard();return e?e.getContent():null},n.getCardSourceType=function(){var e=this.getCard(),t=e&&e.getFirstContent();return t?t.getSourceType():f.a.IMAGE},n.hasCardContent=function(){var e=this.getCardContent();return!!e&&Boolean(e.length)},n.getCardBoard=function(){var e=this.getCard();return e?e.getBoard():null},n.setBoardCreateTitle=function(e){this.set("boardCreateTitle",e)},n.getBoardCreateTitle=function(){return this.get("boardCreateTitle")},n.getSuggestBoardTitle=function(){var e=this,t=this.getCard(),n=this.getEnv();return n.invokeStrategy(m.a.BoardSuggestNameStrategy,{card:t,env:n,state:this}).then((function(t){return t&&e.setBoardCreateTitle(t)}))},n.setVisibilityMode=function(e){this.set("visibilityMode",e)},n.getVisibilityMode=function(){return this.get("visibilityMode")},n.fillCard=function(){var e=this.getCard();e||(e=c.a.factory({request:this.getRequestAdapter(),parse:!0}),this.setCard(e))},n.setSuggestFilled=function(e){this.set("suggestFilled",e)},n.isSuggestFilled=function(){return this.get("suggestFilled")},n.setSuggestOpened=function(e){this.set("suggestOpened",e)},n.isSuggestOpened=function(){return this.get("suggestOpened")},n.setBus=function(e){this.set("bus",e)},n.isBus=function(){return this.get("bus")},n.setGridPosition=function(e){this.set("gridPosition",e)},n.getGridPosition=function(){return this.get("gridPosition")},n.resetGridPosition=function(){this.setTypeOptions(void 0),this.setGridPosition(void 0)},n.onSuggestSubmit=function(){var e=this.getCard(),t=this.internetImagesState,n=t.getQuery();n&&n.trim()&&e?(e.setDescription(n),t.onSuggestSubmit()):(this.trigger("submit:empty"),this.showSuggestSearch())},n.onBoardClick=function(e){return this.isTypeBoards()?this.routerState.navigateToBoard(e):this.boardAction(e)},n.onBoardAddClick=function(){var e=this.internetImagesState.getNewBoardTitle();this.setBoardCreateTitle(e),this.showBoardCreate()},n.resetState=function(){this.clean(),this.setType(h.i.NONE)},n.clean=function(){this.setCard(null),this.setGridPosition(void 0);var e=this.getBoard();e&&this.stopListening(e),this.setBoard(null),this.setBoardError(null),this.setBoardCreateTitle(null),this._selectedCards=u.a.factory({}),this.internetImagesState&&this.setCards(this.internetImagesState.getCards()),this.fillCard(),this.internetImagesState&&(this.internetImagesState.setQuery("",{silent:!0}),this.internetImagesState.internetCollectionsClean())},n.closePanel=function(){this.resetState()},n.showBoardCreate=function(){this.setType(h.i.BOARD_CREATE)},n.showBoardCreateAdd=function(){this.setType(h.i.BOARD_CREATE_ADD)},n.showBoardCreateShare=function(){this.setType(h.i.BOARD_CREATE_SHARE)},n.showSuggestSearch=function(){this.setType(h.i.ADD_SUGGEST)},n.showSearchResults=function(){this.setType(h.i.ADD_RESULTS)},n.findPreviousToShow=function(e){void 0===e&&(e=0);var t=this.getPreviousType(e),n=t===h.i.LOADING||t===h.i.AUTH,r=t===this.getType(),i=t===h.i.ADD_FAVORITES&&this.getEnv().currentUser.isAuthorized();return n||r||i?this.findPreviousToShow(e+1):t},n.showPrevious=function(){var e=this.findPreviousToShow();this.hasType(e)?this.setType(e):this.closePanel()},n.showPreviousIfNotClosed=function(){this.isClosed()?this.clean():this.showPrevious()},n.showAddBoardsList=function(){this.shouldShowBoardCreate()?this.getEnv().currentUser.isAuthorized()?this.showBoardCreateAdd():this.showAddFavorites():this.setType(h.i.ADD_BOARDS)},n.showAddFavorites=function(){this.setType(h.i.ADD_FAVORITES)},n.showBoardFavorites=function(){this.setType(h.i.BOARD_FAVORITES)},n.showAddSeriesEdit=function(e){this.setType(h.i.ADD_SERIES_EDIT,{},e)},n.showCardAddBoardSuccess=function(){this.setType(h.i.ADD_CARD_BOARD_SUCCESS)},n.showCardMoveBoardSuccess=function(){this.setType(h.i.MOVE_CARD_BOARD_SUCCESS)},n.showLoading=function(){this.setType(h.i.LOADING)},n.showCardMove=function(){this.setType(h.i.CARD_MOVE)},n.showCardShare=function(){this.shouldShowBoardCreate()?this.showBoardCreateShare():this.setType(h.i.CARD_SHARE)},n.showResults=function(){this.isType(h.i.ADD_BOARDS)||this.showSearchResults()},n.showError=function(e){e&&this.setErrorMessage(e),this.setType(h.i.ERROR)},n.showShareError=function(e){e&&this.setErrorMessage(e),this.setType(h.i.SHARE_ERROR)},n.shouldShowBoardCreate=function(){return!this.getEnv().currentUser.getBoardsCount()},n.toggleContent=function(e,t){var n=this;return Promise.resolve().then((function(){return t?n.addContent(e):n.removeContent(e)}))},n.updateCardSourceMeta=function(){var e=this.getCard(),t=this._selectedCards.at(0);e&&t&&e.set({source_meta:t.getSourceMetaJSON(),description:t.getDescription()})},n.addContent=function(e){var t=this.getCard(),n=e.getFirstContent(),r=!this.getEnv().currentUser.isAuthorized();if(this.isTypeVideo(e)&&r)this.setTypeAuth(),this._pendingCard=e;else if(t&&n)return this._pendingCard=void 0,this.invokeStrategy(m.a.CardAddContentStrategy,{card:t,sourceCard:e,content:n,state:this})},n.isTypeVideo=function(e){var t=e.getFirstContent();return this.lastAddVideoContent=Boolean(t&&t.isVideo()),this.lastAddVideoContent},n.fetchCardsFromFiles=function(e,t){var n=this,r=(void 0===t?{}:t).description;return this.showLoading(),this.getEnv().invokeStrategy(m.a.CardsFetchFromFilesStrategy,{files:e,state:this,description:r}).then((function(e){n.setLoadedCards(e),!n.isType(h.i.LOADING)||!n.findPreviousToShow()&&e.length||n.showPreviousIfNotClosed()})).catch((function(e){n.showPreviousIfNotClosed(),!e||e instanceof b.c||console.error(e),d.a.showFileParseErrorMessage()}))},n.fetchCardsFromQuery=function(e){var t=this;return this.internetImagesState.setUrl(e),this.showLoading(),this.internetImagesState.fetchImages().then((function(e){return t.showResults(),e})).catch((function(e){throw t.showResults(),e}))},n.setLoadedCards=function(e){var t=this.getCards();t.unshift(e),t.setFullyLoaded(),1===e.length&&this.toggleContent(e[0],!0)},n.moveCard=function(e){this.hasCardContent()||this.isCardSame(e)||(this.setCard(e),this.showCardMove())},n.shareCard=function(e){if(!this.hasCardContent()&&!this.isCardSame(e)){var t=this.getEnv();t.hasFeature(v.d.COLLECTIONS_DESKTOP_ADD_INTERNAL)?t.dispatch(Object(g.a)({cardId:e.getId()})):(this.setCard(e),this.showCardShare())}},n.isCardSame=function(e){var t=this.getCard()===e;return t&&this.resetState(),t},n.boardAction=function(e){var t,n=this,r=this.getCard();if(this.showLoading(),!(t=r&&r.getTaskId()&&this.isBus()?m.a.CardChangeBoardStrategy:r&&r.shouldAddByFav()?m.a.CardCreateToBoardStrategy:this.getBoardActionStrategy())){var i='Cannot find action for panel type "'+this.getType()+'"';return console.warn(i),this.showPreviousIfNotClosed(),Promise.reject(new Error(i))}return this.getEnv().invokeStrategy(t,{board:e,state:this}).catch((function(r){n.isClosed()?console.error(r):n.getEnv().isEmbed&&t===m.a.CardCreateStrategy?(n.setErrorRetry((function(){n.boardAction(e)})),n.showError()):n.onStrategyFail(r)}))},n.getBoardActionStrategy=function(e){void 0===e&&(e=0);var t=this.getPreviousType(e),n=t?y[t]:null;if(null!==t)return n||this.getBoardActionStrategy(e+1)},n.createBoard=function(e,t){var n=this;return this.showLoading(),this.getEnv().invokeStrategy(m.a.BoardSaveStrategy,{model:e}).then((function(){t&&n.closePanel()}),(function(t){n.showPreviousIfNotClosed(),d.a.showBoardSaveError(e,t)}))},n.onPluginShareImage=function(e){var t=e.split("/").slice(-3,-1),n=t[0],r=t[1],i=c.a.findWhereInstanceFromCache((function(e){return e.getContent().some((function(e){var t=e.getContent();return Number(n)===t.group_id&&r===t.avatars_key}))}));this.onShareOrMove(i,{loc:"plugin"})},n.onShareOrMove=function(e,t){if(void 0===t&&(t={}),e&&!this.hasCardContent()){var n=this.getEnv().currentUser;n&&n.getLogin()===e.getOwnerLogin()?this.moveCard(e):this.shareCard(e,t)}},n.onStrategyFail=function(e){this.showPreviousIfNotClosed(),d.a.showXHRMessage(e)},n.removeContent=function(e){var t=this.getCard(),n=e.getFirstContent();if(t&&n){var r=t.getContent();if(this.isTypeCardEdit()&&0===r.indexOf(n))return;r.remove(n),this.unSelectCard(e)}this.updateCardSourceMeta(),this._selectedCards.length||this.isClosed()||this.isTypeCardEdit()||(this.getCards().length?this.showAddSeriesEdit({restoreScroll:!0}):this.showError())},n.includeContent=function(e){var t=this.getCard(),n=e.getFirstContent(),r=t?t.getContent():null;return Boolean(!!r&&r.get(n))},n.getHintOptions=function(e){return this.invokeStrategy(m.a.HintSidebarStrategy,{type:e,env:this.getEnv()})},n.setShowExtOnFinish=function(e){this.set("showExtOnFinish",e)},n.isShowExtOnFinish=function(){return this.get("showExtOnFinish")},n.setErrorMessage=function(e){this.set("errorMessage",e)},n.getErrorMessage=function(){return this.get("errorMessage")},n.getErrorRetry=function(){return this.get("errorRetry")},n.setErrorRetry=function(e){this.set("errorRetry",e)},n.invokeStrategy=function(e,t){var n=this;return this.getEnv().invokeStrategy(e,t).catch((function(e){throw console.error(e),n.showError(),e}))},n.updateDependencies=function(t){var n=t.env,r=t.request,i=t.userBoards,a=(t.card,t.internetImagesState),o=t.type,s=t.routerState;e.prototype.updateDependencies.call(this,{request:r,env:n}),this.userBoards=i,this.routerState=s,a&&(this.internetImagesState=a,this.setCards(a.getCards())),o?this.setType(o):this.resetState()},t}(s.a);Object(l.a)({defaults:{card:null,type:h.i.NONE,previousType:[],showExtOnFinish:!1}})(E)},vdFK:function(e,t,n){"use strict";var r=n("56Ik"),i=n("VDDL"),a=n("785c"),o=n("hFHJ"),s=n("HVa/"),c=n("3Ci6"),u=n("txgp"),l=n("XrQz"),d=n("lyF8"),h=n("7Hn5"),f=n("7Jbl"),p=n("GZH0"),b=n("5k1W"),m=n("lc+m"),v=n("PN4Q"),g=n("7/cf"),O=n("/FG0"),_=n("cDcd"),y=n("JxqJ"),C=n("dQn9"),E=n("7Tj3"),j=n("CUhL"),S=Object(y.a)()((function(e){var t=e.resolve,n=e.reject;return _.createElement(j.a,{dialogType:"confirmEditBack"},_.createElement(C.a,{title:E.title(),primaryLabel:E.confirmLabel(),secondaryLabel:E.cancelLabel(),secondaryDangerous:!0,onPrimary:function(){n(new Error("don't close dialog"))},onSecondary:function(){t()},onOut:function(){n(new Error("don't close dialog"))}}))})),w=Object(O.a)({dialogComponent:S,shouldSkipDialog:function(e){return!Boolean(function(e){var t,n,r,i=Object(g.b)(e);if(i&&i.original_id){var a=Object(m.a)(e,i.original_id),o=a.content,s=i.selected_contents,c=s&&o&&(r=o,(n=s).length===r.length&&n.every((function(e,t){return e===r[t].id})));t=Object(b.a)(a,i,["description",["meta",[["data",["title","cost"]]]],["source_meta",["page_domain","page_url"]]]),s&&!c&&i.content&&(t||(t={}),t.content=Object(v.a)(i.content,s))}return t}(e))}}),k=n("DyDS");n.d(t,"v",(function(){return I})),n.d(t,"s",(function(){return T})),n.d(t,"n",(function(){return R})),n.d(t,"o",(function(){return L})),n.d(t,"p",(function(){return x})),n.d(t,"t",(function(){return D})),n.d(t,"u",(function(){return N})),n.d(t,"x",(function(){return A})),n.d(t,"m",(function(){return P})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return M})),n.d(t,"c",(function(){return U})),n.d(t,"h",(function(){return F})),n.d(t,"g",(function(){return V})),n.d(t,"j",(function(){return H})),n.d(t,"k",(function(){return W})),n.d(t,"b",(function(){return z})),n.d(t,"f",(function(){return K})),n.d(t,"a",(function(){return q})),n.d(t,"d",(function(){return G})),n.d(t,"i",(function(){return X})),n.d(t,"e",(function(){return Q})),n.d(t,"l",(function(){return $})),n.d(t,"w",(function(){return ne}));var I=s.b.action(),T=s.b.action(),R=s.b.action(),L=s.b.action(),x=s.b.action(),D=s.b.action(),N=s.b.action(),A=s.b.action(),P=s.b.action(),B=s.b.action(),M=s.b.action(),U=r.a.point(a.c.BOARD_CREATE),F=r.a.point(a.c.CARD_LINK),V=r.a.point(a.c.CARD_IMAGE_URL),H=r.a.point(a.c.CARD_SERIES_ADD),W=r.a.point(a.c.CARD_SERIES_ADD),z=r.a.point(a.c.BOARDS_LIST,u.b,{autoFocus:!0,openCardFromAdd:!0}),K=r.a.point(a.c.BOARD_CREATE),Y=r.a.point(a.c.CARD_SERIES_ADD),q=r.a.point(a.c.BOARDS_LIST,u.b,{autoFocus:!0}),G=r.a.point(a.c.BOARD_CREATE),X=r.a.point(a.c.CARD_PRODUCT),J=r.a.point(a.c.CARD_PRODUCT),Z=r.a.point(a.c.BOARDS_LIST,u.b,{autoFocus:!0,openCardFromAdd:!0}),Q=r.a.point(a.c.BOARD_CREATE),$=r.a.point(a.c.CARD_TYPES,void 0),ee=Object(i.a)([p.a,f.a]),te=Object(i.a)([w,f.a]),ne=Object(i.a)([p.a,l.a]),re=r.a.point(a.c.BOARDS_LIST,u.b,{autoFocus:!0,openCardFromAdd:!0}),ie=r.a.point(a.c.BOARD_CREATE),ae=r.a.point(a.c.BOARD_CREATE,void 0,{hideBack:!0});n("O0q1"),s.b.link(s.a,$,R),s.b.link(s.a,U,o.h),s.b.link(s.a,ae,P),s.b.link($,H,I),s.b.link($,s.a,o.g,f.a),s.b.link($,s.a,o.b,f.a),s.b.link(ae,s.a,o.d,c.a),s.b.link(ae,s.a,o.e,f.a),s.b.link(ae,s.a,o.g,f.a),s.b.link(H,re,o.i),s.b.link(H,s.a,o.e,f.a),s.b.link(H,s.a,A,d.a),s.b.link(H,s.a,o.g,ee,{loading:!1}),s.b.link(re,s.a,o.c,d.a,{loading:!1}),s.b.link(re,s.a,o.e,f.a),s.b.link(re,s.a,o.g,ee,{loading:!1}),s.b.link(re,ie,o.h),s.b.link(re,H,I,k.a),s.b.link(re,H,o.b,k.a),s.b.link(ie,s.a,o.d,c.a),s.b.link(ie,s.a,o.e,f.a),s.b.link(ie,s.a,o.g,ee,{loading:!1}),s.b.link(ie,re,o.b),s.b.link(ie,H,I,k.a),s.b.link(V,W,I),s.b.link(V,s.a,o.g,f.a),s.b.link(W,z,o.i),s.b.link(W,s.a,o.g,ee,{loading:!1}),s.b.link(W,V,o.b,ne,{loading:!1}),s.b.link(W,s.a,o.e,f.a),s.b.link(W,s.a,A,d.a),s.b.link(z,s.a,o.c,d.a,{loading:!1}),s.b.link(z,s.a,o.e,f.a),s.b.link(z,s.a,o.g,ee,{loading:!1}),s.b.link(z,K,o.h),s.b.link(z,W,I,k.a),s.b.link(K,s.a,o.d,c.a),s.b.link(K,s.a,o.e,f.a),s.b.link(K,s.a,o.g,ee,{loading:!1}),s.b.link(K,W,I,k.a),s.b.link(U,s.a,o.d,c.a),s.b.link(U,s.a,o.e,f.a),s.b.link(U,s.a,o.g,f.a),s.b.link(F,q,o.i),s.b.link(F,H,I),s.b.link(F,s.a,o.e,f.a),s.b.link(F,s.a,A,d.a),s.b.link(Y,re,o.i),s.b.link(Y,s.a,o.e,f.a),s.b.link(Y,s.a,A,d.a),s.b.link(Y,s.a,o.g),s.b.link(q,s.a,o.c,d.a,{loading:!1}),s.b.link(q,s.a,o.e,f.a),s.b.link(q,s.a,o.g,ee,{loading:!1}),s.b.link(q,G,o.h),s.b.link(G,s.a,o.d,c.a),s.b.link(G,s.a,o.e,f.a),s.b.link(G,s.a,o.g,ee,{loading:!1}),s.b.link(X,s.a,o.e,f.a),s.b.link(X,s.a,o.g,ee,{loading:!1}),s.b.link(X,s.a,A,d.a),s.b.link(X,s.a,o.j,Object(i.a)([h.a,f.a])),s.b.link(X,$,o.b,ne,{loading:!1}),s.b.link(X,Z,o.i),s.b.link(Z,s.a,o.c,d.a,{loading:!1}),s.b.link(Z,X,o.b),s.b.link(Z,X,I),s.b.link(Z,s.a,o.e,f.a),s.b.link(Z,s.a,o.g,f.a),s.b.link(Z,Q,o.h),s.b.link(Q,s.a,o.d,c.a),s.b.link(Q,s.a,o.e,f.a),s.b.link(Q,s.a,o.g,ee,{loading:!1}),s.b.link(J,s.a,o.e,f.a),s.b.link(J,s.a,o.g,te,{loading:!1}),s.b.link(J,s.a,A,d.a),s.b.link(J,s.a,o.j,Object(i.a)([h.a,f.a])),s.b.link(J,s.a,o.b,te,{loading:!1}),s.b.link(s.a,J,M),s.b.action()},vgGB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("4RqY"),i=n("BCLc"),a=Object(r.a)((function(e,t){return(0,t.dispatch)(Object(i.a)(null))}))},vgSg:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/1580.gif"},vjVR:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=9,i=27,a=38,o=40,s=13},vmv2:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("T6Rw"),o=n("3WeZ"),s=Object(a.a)((function(e,t){var n=e.ui?e.ui.promiseQueue:{};return Object(o.a)(e,{promiseQueue:i()({},n,{},t)})}));n.d(t,"a",(function(){return c}));var c=function(){function e(){this.heap={}}var t=e.prototype;return t.add=function(e,t,n){var r=this,i=this.getHeap(t);return new Promise((function(a,o){i.items.push({promiseFactory:e,resolve:a,reject:o}),i.counter++,r.syncCounter(t,n),r._next(t,n)}))},t.clean=function(e,t){var n=this,r=t.getState,i=t.dispatch;this.add((function(){return new Promise((function(t){n.getHeap(e),t()}))}),e,{getState:r,dispatch:i})},t.isBusy=function(e){var t=this.getHeap(e);return Boolean(t.counter)},t.getHeap=function(e){return this.heap[e]||(this.heap[e]={items:[],counter:0,pending:void 0}),this.heap[e]},t._next=function(e,t){var n=this,r=this.getHeap(e);if(!r.pending){var i=r.items.shift();if(i){var a=i.promiseFactory,o=i.resolve,s=i.reject;try{r.pending=a().then((function(r){n.syncHeap(e,t),o(r),n._next(e,t)}),(function(r){n.syncHeap(e,t),s(r),n._next(e,t)}))}catch(n){this.syncHeap(e,t),s(n),this._next(e,t)}}}},t.syncHeap=function(e,t){var n=this.getHeap(e);n.pending=void 0,n.counter--,this.syncCounter(e,t)},t.syncCounter=function(e,t){var n,r=t.dispatch,i=this.getHeap(e);r(s(((n={})[e]=i.counter,n)))},e.factory=function(){return new this},e}().factory()},w1Ut:function(e,t,n){"use strict";function r(){return Math.random().toString(36).substring(2,15)}n.d(t,"a",(function(){return r}))},w2Rf:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pVnL"),i=n.n(r),a=n("ukm6"),o=n("T6Rw"),s=Object(o.a)((function(e,t){var n,r=t.uiKey,o=t.value,s=Object(a.a)(e),c=s[r];return i()({},e,{ui:i()({},s,(n={},n[r]=i()({},c,{},o),n))})}))},w32R:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DSRK"),i=n("4RqY"),a=n("DKyp"),o=n("DVNm"),s=Object(i.a)((function(e,t){var n=e.id,i=e.storeKey,s=e.asCompanyLogin,c=t.dispatch,u=(t.getState,c(Object(a.a)({id:n,storeKey:i,asCompanyLogin:s})));return c(Object(r.a)({id:n,storeKey:i})),u.catch((function(){return c(Object(o.a)({id:n}))})),u}))},w7HD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("DMoZ");function i(e){var t=Object(r.a)(e);return Boolean(t&&t.type)}},w85Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/Epz"),i=n("y6Xm"),a=n("Wopx"),o=Object(r.a)(a.a,Object(i.a)("isYandexRecent",!1))},wBxh:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("o0o1"),i=n.n(r),a=n("xalX"),o=n("MTjZ"),s=n("4RqY"),c=n("S7YN"),u=Object(s.a)((function(e,t){var n,r,s,u;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.dispatch,s=t.di,e.next=3,i.a.awrap(r(Object(c.a)({storeKey:"user"})));case 3:return u=Object(a.a)(Object(o.a)(n())),e.next=6,i.a.awrap(s("currentUser"));case 6:e.sent.set({stats:u.stats});case 8:case"end":return e.stop()}}))}))},wFzV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("nAK0");function i(e,t){"function"==typeof c&&c(e+Object(r.e)(t))}},wRV7:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return R}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("Wf7Z"),c=n("lc+m"),u=n("om3R"),l=n("Pm7h"),d=n("+POQ"),h=n("M740"),f=n("Afbn"),p=n("XPFG"),b=n("6f8s"),m=n("1Wr5"),v=n("+r4z"),g=n("t9gz"),O=n("gLBg"),_=n("Kj4u"),y=n("REdb"),C=n("PQ62"),E=n("4RqY"),j=n("3tUY"),S=n("gF9f"),w=n("UJ4k"),k=n("LXzm"),I=n("nAK0"),T=Object(d.a)(),R=Object(E.a)((function(e,t){var n,r,a,d,E,R,L,x,D,N,A,P,B,M,U,F,V,H,W,z,K,Y,q,G,X;return i.a.async((function(J){for(;;)switch(J.prev=J.next){case 0:if(r=e.cardId,a=e.isVoting,d=e.stateKey,E=e.skipNavigate,R=e.openInStack,L=e.filterStack,x=e.scrollToSimilar,D=e.counter,N=t.dispatch,A=t.getState,P=A(),Object(c.a)(P,r)){J.next=11;break}return J.next=7,i.a.awrap(N(Object(_.a)({cardId:r})));case 7:if(P=A(),Object(c.a)(P,r)){J.next=11;break}return J.abrupt("return");case 11:if(d||(d="cards$siblings/"+r,N(Object(y.a)({cardId:r,stateKey:d}))),I.d.showCard(o()({},D,{cardId:r})),B=Object(p.a)(Object(l.a)(A())),M=Object(g.a)(P),U=M.initialEvent,F=M.stack||[],B!==r){J.next=19;break}return J.abrupt("return");case 19:if(U||Object(v.a)(P)===O.a.CARD||(U=P.event),L&&F[F.length-1]===r&&(F=F.slice(0,-1)),R&&B?F=[].concat(F,[B]):B||(F=[]),P=w.a.reducer(P,{hidePopup:!0}),P=C.a.reducer(P,{cardId:r}),P=k.a.reducer(P,{stateKey:d,initialEvent:U,isVoting:a,stack:F,scrollToTop:!1,scrollToSimilar:x}),a||E){J.next=29;break}return d&&(V={cardsFetchParams:Object(h.a)(A(),d),cardsUrl:Object(f.a)(A(),d),cardsStateKey:d}),J.next=29,i.a.awrap(N(Object(j.a)({url:Object(O.k)(r),trigger:!1,replace:!1,state:V})));case 29:N(Object(S.a)({card:P.card,ui:P.ui})),Object(s.a)(A(),{pageName:O.a.CARD,metrika:!0}),H=d&&Object(h.a)(A(),d),W=H&&H.seed,z="feedCards"===d?"feedSessionId":"cardsSessionId",K=o()({},D,((n={loc:"cardPopup"})[z]=W,n)),Y=Object(c.a)(A(),r),q=Object(u.a)(A(),r),Y&&q&&(G=Object(m.a)(q,{size:"orig"}))&&G.width&&G.height&&(X=Object(b.a)(window.innerWidth,window.innerHeight,G.width,G.height),T.track([{x:0,y:0,w:X.width,h:X.height,item:{id:Y.id,item:Y,type:"",storeKey:"currentCardPopup",position:0}}],K));case 38:case"end":return J.stop()}}))}))},wYmg:function(e,t,n){"use strict";function r(e,t){return"https://yandex.ru/collections/picture/boards/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)+"/"}n.d(t,"a",(function(){return r}))},weQ4:function(e,t,n){"use strict";var r=n("cDcd"),i=n("Pm7h"),a=n("We6+"),o=Object(a.a)(i.a);function s(e){var t=e.element,n=e.event,i=e.callback,a=e.options,o=e.condition;r.useEffect((function(){return o?t.addEventListener(n,i,a):t.removeEventListener(n,i,a),function(){t.removeEventListener(n,i,a)}}),[o])}var c=n("QU20"),u=n("ICKy"),l=n("l6Du"),d=Object(l.b)((function(){return n.e(16).then(n.bind(null,"LFfP")).then(Object(l.a)("LockedCardTooltip"))}));n.d(t,"a",(function(){return h}));var h=function(e){var t=e.labelSize,n=e.position,i=void 0===n?"static":n,a=r.useRef(),l=r.useState(!1),h=l[0],f=l[1],p=o();function b(){f(!1)}return s({element:document,event:"scroll",callback:b,options:{passive:!0},condition:h}),s({element:window,event:"routernavigate",callback:b,options:{passive:!0},condition:h}),r.createElement(r.Fragment,null,r.createElement(u.a,{ref:a,onClick:function(){f((function(e){return!e}))},labelSize:t,labelType:"locked",labelPosition:i}),!p&&r.createElement(c.a,null,(function(){return r.createElement(r.Suspense,{fallback:null},r.createElement(d,{visible:h,anchor:a.current,onClose:function(){f(!1)}}))})))}},wibD:function(e,t,n){"use strict";function r(e){var t=Number(e);return t&&t>=8?"#32ba42":t&&t>=7?"#89c939":t&&t>=5?"#90a449":t&&t>=3?"#85855d":"#727272"}n.d(t,"a",(function(){return r}))},wip6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("faye");function i(){var e;return function(t){var n=t.children;return Object(r.createPortal)(n,(e||(e=document.createElement("div"),document.body.appendChild(e)),e))}}},"wjU/":function(e,t,n){var r=n("cDcd");function i(e){return r.createElement("svg",e,r.createElement("path",{d:"M4.8 19.5h.1a7 7 0 004.2-1c.9.3 1.9.5 2.9.5 4.4 0 8-3.2 8-7.5C20 7.3 16.4 4 12 4s-8 3.3-8 7.5c0 2 .8 3.7 2 5a5 5 0 01-1.2 2.7.2.2 0 000 .3zM12 17l-1.4-.1c-1.1-.3-1.6-.2-2.5.5a6 6 0 01-1 .5s1-2 0-3.2c-.7-1-1.1-2-1.1-3.2C6 8.5 8.6 6 12 6s6 2.4 6 5.5c0 3-2.6 5.5-6 5.5z",fill:"#000",fillRule:"evenodd"}))}i.defaultProps={width:"24",height:"24",id:"comment-24"},e.exports=i,i.default=i},wjZ2:function(e,t,n){"use strict";n("5uoz");var r=n("wvBl");t.a=r.a.applyDecls()},wjhi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rpX3"),i=Object(r.a)("locks",{})},wqE4:function(e,t,n){},wqkE:function(e,t,n){},wwWs:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),a=n("9TW5").e,o=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;e.exports=r({cardsMoved:[function(e){return u(e.count)+" card moved"},function(e){return u(e.count)+" cards moved"}],cardsMovedToBoard:[{v:'__count__ card moved to <b><a href="__board_url__">__board_title__</a></b>',r:function(e){return i.createElement(i.Fragment,null,e.count," card moved to ",i.createElement("b",{},i.createElement("a",{href:e.board_url},e.board_title)))},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t([e.count," card moved to ",n("b","",{},[n("a","",{href:e.board_url},[e.board_title],{view:this})],{view:this})])}},{v:'__count__ cards moved to <b><a href="__board_url__">__board_title__</a></b>',r:function(e){return i.createElement(i.Fragment,null,e.count," cards moved to ",i.createElement("b",{},i.createElement("a",{href:e.board_url},e.board_title)))},h:function(e){var t=this.isRestored?c:s,n=this.isRestored?o:a;return t([e.count," cards moved to ",n("b","",{},[n("a","",{href:e.board_url},[e.board_title],{view:this})],{view:this})])}}],cardsNotMoved:"Couldn't move cards",cardsPartialMoved:[function(e){return u(e.count)+" of "+u(e.total)+" cards moved"},function(e){return u(e.count)+" of "+u(e.total)+" cards moved"}]})},wy7W:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("xhsZ");function i(e,t,n){var i=Object(r.a)(e)[t];if(i&&i[n])return i[n]}},wy9A:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="REGISTRATION"]="registration"]=t,e[e[t="AUTH"]="auth"]=t,e}({})},"wzV+":function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/b4d6.svg"},x2aP:function(e,t,n){},x9gI:function(e,t,n){"use strict";function r(e,t){if(e&&e.env&&e.env.flags)return e.env.flags[t]}n.d(t,"a",(function(){return r}))},xEA7:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return _}));var r=n("fjc+"),i=n("ICaW"),a=n("Zoo8"),o=n("+3en"),s=n("R2yN"),c=n("UQOb"),u=n("x9gI"),l=n("MTjZ"),d=n("2WP6"),h=r.a.SHARE_COLLECTION_TOOLTIP,f="ShareCollection",p="share_tooltip_boards",b=10,m=-1;function v(e){var t=Object(o.a)(e),n=t&&t.id||"",r=Object(s.a)(e),a=r&&r[p],f=Object(c.a)(t)>=b,m=!1;a&&(m=a.some((function(e){return n===e})));var v=Object(u.a)(e,i.d.COLLECTIONS_TOOLTIP_COLLECTION_SHARE),g=Object(l.a)(e),_=(Object(d.a)(g)||{})[h],y=!m&&f&&(void 0===_||O()-_>0&&-1!==_);return v&&y}function g(e){var t=Object(l.a)(e);return(Object(d.a)(t)||{})[h]===m}function O(){return Math.round(Date.now()/a.e)}function _(){return m=O()+a.a/a.e}},xFYi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("is_private",!1))},xGqp:function(e,t,n){},xMyQ:function(e,t,n){"use strict";var r=n("Yv4e");t.a=r.a},xNeq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("VbXa"),i=n.n(r),a=n("cDcd"),o=n("G7p/");function s(e){var t,n=function(){return t||(t=e()),t};return function(e){function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={},t}i()(r,e);var s=r.prototype;return s.componentDidMount=function(){var e=this;n().then((function(t){e.setState({Component:t})}))},s.render=function(){var e=this.state.Component;return e?a.createElement(e,this.props):null},r.preload=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n()})),r.lazyPreload=function(){t||Object(o.b)((function(){n().catch((function(e){return console.error(e)}))}))},r}(a.PureComponent)}},xTaD:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({ratingMaps:"Yandex.Maps",showOnMaps:"Show on Yandex.Maps"})},xTp0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n("+wBA"),i=n("fjc+").a.COAUTHOR_SETTINGS_TOOLTIP,a="DesktopCoauthorSettings";function o(e){return Object(r.a)(e,i,1)}function s(e){return Object(r.a)(e,i,0)}},xVNo:function(e,t,n){"use strict";function r(e,t,n){e&&t.split(" ").forEach((function(t){t&&(n?e.classList.add(t):e.classList.remove(t))}))}n.d(t,"a",(function(){return r}))},xZRq:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/4dc1.svg"},xalX:function(e,t,n){"use strict";function r(e){if(null==e)return e;if(Array.isArray(e))return e.map(r);if("object"==typeof e){var t={};return Object.keys(e).forEach((function(n){return t[n]=r(e[n])})),t}return e}n.d(t,"a",(function(){return r}))},xcJD:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({edit:"Edit",share:"Сохранить в коллекцию",alreadyShared:"Сохранено",site:function(e){return"Go to "+i(e.site)},like:"Like",yaShare:"Share",messenger:"Чат"})},xfRZ:function(e,t,n){"use strict";var r=n("VbXa"),i=n.n(r),a=n("n+Kn"),o=n("mdRN"),s=n("6ga4"),c=n("xMyQ"),u=n("9TW5");n.d(t,"a",(function(){return l}));var l=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var r=t.prototype;return r.className=function(){return Object(s.a)("spinner",{size:this.size,gif:this.gif,type:this.type})},r.onRender=function(){var e=this;this.gif&&this.deferToAttach((function(){var t=e.img[0];t.naturalWidth||(t.onerror=function(){e.gif=!1,e.$el.removeClass("spinner_gif"),e.safeRender()})}))},r.serializeData=function(){if(this.gif){var e=this.size+"-"+this.type;return{normalSrc:n("/e/s")("./spinner-"+e+".gif"),retinaSrc:n("FqSg")("./spinner-"+e+"@2x.gif")}}return{}},t}(a.a);Object(o.a)({template:function(e){var t=this&&this.isRestored,n=t?u.er:u.e;return(t?u.fr:u.f)(this.gif?[n("img","spinner__image",{src:Object(c.a)(e.normalSrc),srcset:Object(u.j)([Object(c.a)(e.retinaSrc)," 2x"])},[],{ui:"img",view:this})]:[n.d("spinner__circle",{},[])])},size:"M",gif:!0,type:"normal"})(l)},xhsZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rpX3"),i=Object(r.a)("entities",{})},xmSf:function(e,t,n){},xriV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("c+Ap");function i(e){var t={};return e&&("object"==typeof e&&(t={name:e.name,stack:e.stack,message:e.message,params:e.params,status:e.status,responseText:e.responseText},Object.defineProperty(t,r.A,{get:function(){return e[r.A]},set:function(t){e[r.A]=t}})),"string"==typeof e&&(t={message:e})),t}},xyWo:function(e,t,n){"use strict";var r=n("NiFY");t.a=r.a.applyDecls()},"y/M8":function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({titleMoveToPrivate:"Are you sure you want to move the card to your private collection?",descriptionMoveToPrivate:"Card will be removed from participation in the contest",submitMoveToPrivate:"Yes, move",titleEditImages:"Are you sure you want to add new images to the card?",descriptionEditImages:"Card will be removed from participation in the contest",submitEditImages:"Yes, add",titleMakeBoardPrivate:"Do you want make the collection private?",descriptionMakeBoardPrivate:"All cards in the collection that are participating in contests will be removed from participation",submitMakeBoardPrivate:"Yes, make private",cancel:"Cancel"})},y144:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("asM3"),o=n("dNc+"),s=n("T6Rw"),c=Object(s.a)((function(e,t){if(e){var n,r=t.force,s=t.value,c=void 0===s?{}:s,u=e.currentCard||{},l=Boolean(r)?c:i()({},u,{},c),d=o.e.parse(l),h=Object(o.e)(e.entities||{},d,{replace:r});if(h.entities!==e.entities)return i()({},e,((n={entities:Object(a.a)(h.entities)}).currentCard=h.obj,n))}return e}))},y17c:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/0a50.woff"},y1pN:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3lXt"),i=n("B8Yn"),a=n("IWXk"),o=Object(i.a)(r.a,"owner",a.a)},y6Xm:function(e,t,n){"use strict";function r(e,t){return function(n){return n&&void 0!==n[e]?n[e]:t}}n.d(t,"a",(function(){return r}))},y85j:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("+r4z"),i=n("gLBg"),a=[i.a.HOME,i.a.MAIN,i.a.APP_FEED,i.a.APP_RECENT,i.a.BRO_FEED,i.a.BRO_BOOKMARKS];function o(e){var t=Object(r.a)(e);return Boolean(t&&a.includes(t))}},y8E0:function(e,t,n){var r=n("C4oF").translateWrapper;e.exports=r({defaultGameGenre:"Game"})},yHDv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lc+m"),i=n("i1uP"),a=n("y6Xm"),o=Object(i.a)(r.a,Object(a.a)("service"))},yNnr:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("4RqY"),c=n("XOpk"),u=n("lhXF"),l=n("nAK0"),d=Object(s.a)((function(e,t){var n,r,a,s,d,h;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return n=e.actionType,r=e.counter,a=e.key,s=e.step,d=t.dispatch,l.d.clickTooltipAction(o()({},r,{key:a,step:s||0,actionType:n})),h=function(){return s},"number"!=typeof s&&(h=function(e){return void 0===e&&(e={}),o()({},e,{},s)}),d(Object(c.a)({})),f.next=8,i.a.awrap(d(Object(u.a)({key:a,mutation:h})));case 8:case"end":return f.stop()}}))}))},yPj3:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("cDcd"),c=n("JxqJ"),u=n("V8c5"),l=n("EvZm"),d=n("ZVGH"),h=n("2shX"),f=n("Z0W1");n.d(t,"a",(function(){return p}));var p=Object(c.b)((function(e,t){var n,r,i,a,o,s=t.storeKey,c=t.id;if(o=Object(f.a)(e),Boolean(o&&Object(h.a)(o)&&"YandexSearch"===o.BrowserName)){var u=Object(d.a)(e,{storeKey:s,id:c});u&&(i=(r=u).url,a=r.title,i||(i=a||"",a=""),n=["intent:#Intent","action=android.intent.action.SEND","type=text/plain","S.android.intent.extra.TEXT="+encodeURIComponent(i),a?"S.android.intent.extra.SUBJECT="+encodeURIComponent(a):void 0,"end"].filter(Boolean).join(";"))}return{shareHref:n}}))((function(e){var t=e.label,n=e.iconMods,r=e.shareHref,a=e.id,c=e.storeKey,d=e.dispatch,h=e.counter,f=o()(e,["label","iconMods","shareHref","id","storeKey","dispatch","counter"]);return s.createElement(l.a,i()({iconOnly:!t,label:t,icon:!0,iconMods:n,onClick:function(){r||d(Object(u.a)({id:a,storeKey:c,counter:h}))}},f,{props:i()({href:r,target:r?"_blank":""},f.props)}))}))},yRgj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("EgTM"),i=n("i1uP"),a=Object(i.a)(r.a,(function(e){if(e&&e.verticals&&e.verticals.length)return e.verticals[0].name}))},yTn9:function(e,t,n){"use strict";n("/qvC"),n("ZtXU");var r=n("eFZt");t.a=r.a.applyDecls()},"yX/E":function(e,t,n){},yi0R:function(e,t,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;e.exports=r({more:[function(e){return i(e.count)+" more ingredient"},function(e){return i(e.count)+" more ingredients"}]})},yigw:function(e,t,n){},ylOa:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("xalX"),c=n("QodL"),u=n("k0aB"),l=n("8z4Y"),d=n("785c"),h=n("CIhk"),f=n("/bNA"),p=n("4RqY"),b=n("pLEp"),m=n("1WnH"),v=n("nAK0"),g=n("n73F"),O=Object(p.a)((function(e,t){var n,r,a,p,O,_,y,C,E;return i.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:if(n=e.boardId,r=e.counter,a=t.getState,p=t.di,O=t.dispatch,_=a(),y=Object(u.a)(_,n)){j.next=6;break}return j.abrupt("return");case 6:if(!Object(l.a)(y)){j.next=9;break}return f.a.showEditBoardReadonlyMessage(),j.abrupt("return");case 9:return v.d.clickBoardEdit(o()({},r,{boardId:n})),j.next=12,i.a.awrap(p("request"));case 12:C=j.sent,(E=g.a.dataFactory(y,{request:C,parse:!0})).once("change:stat",(function(){O(Object(b.a)({id:n||"",storeKey:"boards",value:{stat:Object(s.a)(E.getStat())}}))})),O(Object(h.b)({counter:r,boardId:n,isEdit:!0,disableFocus:!1})),O(Object(m.a)({type:c.c.ADD_CARD,id:d.b,options:{uiKey:d.a}}));case 17:case"end":return j.stop()}}))}))},ysEd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("6EC7"),i=n("c+Ap");function a(e,t){var n=void 0===t?{}:t,a=n.width,o=n.height,s=n.isImagesSource,c=(e.split("/").pop()||"").split("?").shift()||"";if(a&&o&&c&&!s){var u=Object(r.b)(c,{width:a,height:o});a=u.width,o=u.height}if(!a&&!o){var l=c.match(/^smart([0-9]+)$/);if(l)a=Number(l[1]),o=Number(l[1]);else{var d=c.match(/^([0-9]+)x([0-9]+)$/);d&&(a=Number(d[1]),o=Number(d[2]))}}return a||(a=i.n.WIDTH),o||(o=i.n.HEIGHT),i.w?'data:image/svg+xml;utf8,<svg width="'+a+'" height="'+o+'" xmlns="http://www.w3.org/2000/svg"><rect fill="rgb(204,204,204)" width="5000" height="5000"/></svg>':""}},yxf4:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/b579.gif"},yzJw:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("WoCj"),i=128,a=/[0-9]+|[a-zа-яё]+/i,o=/^\s+$/i;function s(e){var t,n=String(e).trim(),s={valid:!0};return n&&!a.test(n)||o.test(e)?t=r.a.space:n?n.length>i&&(t=r.a.long):t=r.a.empty,t&&(s={valid:!1,code:t}),s}},"z+Ux":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("6Rso"),i=n("c+Ap"),a=n("T6Rw"),o=["boardCards","favoritesCards","contestCards","viewerBoardCards"],s=Object(a.a)((function(e,t){return o.reduce((function(e,n){var a=e[n];if(a&&a._query&&a.results){var o=a._query,s=o["board.id"]===t.board.id;t.competitions&&(s=t.competitions.some((function(e){return e.slug===o["competition.slug"]}))),o.wish!==i.Y&&s&&(e=Object(r.a)(e,n,[t]))}return e}),e)}))},"z+qP":function(e,t,n){},z8gn:function(e,t,n){},zBb6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("VbXa"),i=n.n(r),a=n("CmRB"),o=n("1nxc"),s=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.getOriginalWidth=function(){return this.get("original_width")},n.getOriginalHeight=function(){return this.get("original_height")},n.getThumbnailWidth=function(){return this.get("thumbnail_width")},n.getThumbnailHeight=function(){return this.get("thumbnail_height")},n.getSmartScaleAttributes=function(e){var t=e.minWidth,n=e.maxWidth,r=e.height,i=this.getScaleWidthForHeight(r),a=r;return i<t&&(i=t,a=this.getScaleHeightForWidth(t)),i>n&&(i=n,a=this.getScaleHeightForWidth(n)),{width:i,height:a,viewport:{width:i,height:r}}},n.getScaleWidthForHeight=function(e){return this.getRatio()*e},n.getScaleHeightForWidth=function(e){return e/this.getRatio()},n.getSmartScaleParams=function(e,t){var n=e.width,r=e.height,i=e.viewport,a=r*t;return{viewport:{width:i.width*t,height:i.height},image:{width:n*t,height:a},offset:{top:(i.height-a)/2,left:0}}},n.scale=function(e){this.trigger("scale",e)},n.smartScale=function(e,t){this.scale(this.getSmartScaleParams(e,t))},n.getRatio=function(){return this.getWidth()/this.getHeight()},n.getThumbUrl=function(){return this.get("thumb_url")},n.setUrl=function(e){this.set("url",e)},n.getUrl=function(){return this.get("url")},n.loadImage=function(){var e=this;return new Promise((function(t,n){var r,i=new window.Image;r=setTimeout(n,1e4),i.onload=function(){e.setWidth(i.naturalWidth),e.setHeight(i.naturalHeight),t(e),clearTimeout(r)},i.onerror=n,i.src=e.getThumbUrl()||e.getUrl()}))},n.isValidImage=function(){return Object(o.a)({naturalWidth:this.getOriginalWidth()||this.getWidth(),naturalHeight:this.getOriginalHeight()||this.getHeight(),src:this.getUrl()})},n.setWidth=function(e){this.set("width",e)},n.getWidth=function(){return this.get("width")},n.setHeight=function(e){this.set("height",e)},n.getHeight=function(){return this.get("height")},t.factory=function(e){return new this(e)},t}(a.a)},zIxK:function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r}n.d(t,"a",(function(){return r}))},zPqc:function(e,t,n){"use strict";var r=n("cDcd"),i=n("6ga4"),a=n("Wopx"),o=n("/MKj"),s=n("Z0W1");n("nAyz"),n.d(t,"a",(function(){return u}));var c=["MSIE","Edge"],u=r.memo((function(e){var t,n,u,l=e.count,d=e.formatValue,h=Object(o.useSelector)((function(e){return Object(a.a)(e).isLegacy})),f=Object(o.useSelector)((function(e){return Object(s.a)(e).BrowserName})),p=(t=l,n=r.useRef(),r.useEffect((function(){n.current=t})),n.current),b=(u=r.useState(Object.create(null))[1],r.useCallback((function(){u(Object.create(null))}),[u]));if(h||c.includes(f))return r.createElement(r.Fragment,null,d?d(l):l);if(!l&&!p)return null;var m,v,g,O=l>p,_=l<p,y=(m=l,v=p,(g=d)?[g(m),g(v)]:[m,v]),C=y[0],E=y[1],j=C===E||""===E;return r.createElement("span",{className:Object(i.a)("cl-counter-animation",{"in-action":!j})},j?C:r.createElement(r.Fragment,null,r.createElement("span",{className:Object(i.a)("cl-counter-animation__number",j?{}:{from_top:_,from_bottom:O})},C),r.createElement("span",{onAnimationEnd:b,className:Object(i.a)("cl-counter-animation__number",{to_bottom:_,to_top:O,hidden:l===p})},E),r.createElement("span",{className:"cl-counter-animation__pseudo"},C)))}),(function(e,t){return e.count===t.count}))},zT9S:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e[e[t="CHANNEL_SUBSCRIPTION"]="reason_1"]=t,e[e[t="SIMILAR_TO_CARD"]="reason_2"]=t,e[e[t="RECOMMEND"]="reason_3"]=t,e}({})},zZA2:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("o0o1"),i=n.n(r),a=n("pVnL"),o=n.n(a),s=n("lc+m"),c=n("om3R"),u=n("7/cf"),l=n("L9DS"),d=n("hV2r"),h=n("ukm6"),f=n("osxO"),p=n("XrQz"),b=n("U0LE"),m=n("4RqY"),v=n("MlGB"),g=n("vgGB"),O=n("bzdH"),_=n("nAK0"),y=Object(m.a)((function(e,t){var n,r,a,m,y,C,E,j,S,w,k,I;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.dispatch,r=t.getState,a=e&&e.id,m=r(),y=Object(d.a)(m),C=y.hash,E=y.boardNavigate,e&&"back"===e.type||n(Object(v.a)({})),w=Object(h.a)(m).favoriteBoard,(k=Object(u.b)(m))&&!a&&_.d.closeShortPopupNoop({cardId:k.id}),a&&(j=Object(s.a)(r(),a),S=Object(c.a)(j)||{}),n(Object(g.a)({})),j&&j.board&&S.source_type&&n(Object(O.a)(o()({},w,((I={})[S.source_type]=j.board.id,I)))),a&&(_.d.showAddTooltip({cardId:a}),n(Object(b.a)({type:f.b.ADDED,data:{cardId:a}}))),n(Object(p.a)()),C&&E&&Object(l.a)();case 14:case"end":return i.stop()}}))}))},zfef:function(e,t,n){},zmtd:function(e,t,n){},zr2r:function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t="16x9"),e&&e.teaser_data)return e.teaser_data[t].type}n.d(t,"a",(function(){return r}))},zuUS:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f/ea40.woff2"},zuhF:function(e,t,n){}},[["M7vq",35,53]]]);